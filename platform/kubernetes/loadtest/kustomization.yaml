namespace: tartware-loadtest

resources:
  - k6-job.yaml

generatorOptions:
  disableNameSuffixHash: true

configMapGenerator:
  - name: tartware-k6-script
    files:
      - command-pipeline.js=../../../loadtest/k6/command-pipeline.js
  - name: tartware-k6-env
    literals:
      - GATEWAY_BASE_URL=https://api-gateway.tartware.svc.cluster.local
      - TENANT_IDS=
      - PROPERTY_IDS=
      - ROOM_TYPE_IDS=
      - RESERVATION_IDS=
      - GUEST_IDS=
      - HOUSEKEEPING_TASK_IDS=
      - HOUSEKEEPING_STAFF_IDS=
      - COMMAND_START_RATE=1000
      - COMMAND_TARGET_RATE=30000
      - COMMAND_PREALLOCATED_VUS=2000
      - COMMAND_MAX_VUS=8000
      - READ_RATE=12000
      - READ_PREALLOCATED_VUS=600
      - READ_MAX_VUS=2400
      - TEST_DURATION=20m

secretGenerator:
  - name: tartware-k6-secret
    literals:
      - api-token=REPLACE_ME
