# Environment Variables Configuration

# ============================================================================
# Kubernetes Cluster Configuration
# ============================================================================

# Cluster name
CLUSTER_NAME=tartware-prod

# Kubernetes version
KUBERNETES_VERSION=v1.28.5

# Infrastructure provider: vsphere, aws, gcp, azure, baremetal
INFRASTRUCTURE_PROVIDER=vsphere

# ============================================================================
# Rancher Configuration
# ============================================================================

# Rancher hostname
RANCHER_HOSTNAME=rancher.tartware.local

# Rancher bootstrap password (CHANGE IN PRODUCTION!)
RANCHER_PASSWORD=admin

# ============================================================================
# Docker Registry Configuration
# ============================================================================

# Docker registry URL
DOCKER_REGISTRY=docker.io/tartware

# Image tag
IMAGE_TAG=latest

# Push images to registry
PUSH_IMAGES=true

# Docker credentials (for private registry)
# DOCKER_USERNAME=
# DOCKER_PASSWORD=

# ============================================================================
# Domain Configuration
# ============================================================================

# Base domain
BASE_DOMAIN=tartware.local

# API domain
API_DOMAIN=api.tartware.local

# Monitoring domains
GRAFANA_DOMAIN=grafana.tartware.local
PROMETHEUS_DOMAIN=prometheus.tartware.local
JAEGER_DOMAIN=jaeger.tartware.local

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL
DB_HOST=postgres-postgresql.database.svc.cluster.local
DB_PORT=5432
DB_NAME=tartware
DB_USER=tartware
# DB_PASSWORD=  # Set via Kubernetes secret

# Database connection pool
DB_POOL_MIN=10
DB_POOL_MAX=50

# ============================================================================
# Redis Configuration
# ============================================================================

REDIS_HOST=redis-master.cache.svc.cluster.local
REDIS_PORT=6379
# REDIS_PASSWORD=  # Set via Kubernetes secret

# ============================================================================
# Kafka Configuration
# ============================================================================

KAFKA_BROKERS=redpanda.messaging.svc.cluster.local:9092
KAFKA_FAILOVER_BROKERS=redpanda-failover.messaging.svc.cluster.local:9092
KAFKA_ACTIVE_CLUSTER=primary
KAFKA_FAILOVER_ENABLED=false

# ============================================================================
# Observability Configuration
# ============================================================================

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://opentelemetry-collector.observability.svc.cluster.local:4317
OTEL_SERVICE_NAME=tartware

# Prometheus
PROMETHEUS_RETENTION=15d
PROMETHEUS_SCRAPE_INTERVAL=15s

# ============================================================================
# Load Testing Configuration
# ============================================================================

# Target API URL for load testing
API_BASE_URL=https://api.tartware.local

# Load test duration
DURATION=5m

# Maximum virtual users
MAX_VUS=5000

# Target requests per second
TARGET_RPS=30000

# k6 Cloud token (optional)
# K6_CLOUD_TOKEN=

# ============================================================================
# Scaling Configuration
# ============================================================================

# Minimum replicas per service
MIN_REPLICAS_API_GATEWAY=10
MIN_REPLICAS_CORE_SERVICE=8
MIN_REPLICAS_RESERVATIONS=8
MIN_REPLICAS_DEFAULT=3

# Maximum replicas per service
MAX_REPLICAS_API_GATEWAY=100
MAX_REPLICAS_CORE_SERVICE=80
MAX_REPLICAS_RESERVATIONS=70
MAX_REPLICAS_DEFAULT=30

# HPA target utilization
CPU_TARGET_UTILIZATION=70
MEMORY_TARGET_UTILIZATION=80

# ============================================================================
# Node Configuration (for infrastructure provisioning)
# ============================================================================

# Control plane nodes
CONTROL_PLANE_COUNT=3
CONTROL_PLANE_CPU=8
CONTROL_PLANE_MEMORY=16384  # MB
CONTROL_PLANE_DISK=200000   # MB

# Worker nodes (compute)
WORKER_COMPUTE_MIN=5
WORKER_COMPUTE_MAX=100
WORKER_COMPUTE_CPU=16
WORKER_COMPUTE_MEMORY=32768
WORKER_COMPUTE_DISK=500000

# Worker nodes (memory)
WORKER_MEMORY_MIN=3
WORKER_MEMORY_MAX=50
WORKER_MEMORY_CPU=12
WORKER_MEMORY_MEMORY=65536
WORKER_MEMORY_DISK=500000

# ============================================================================
# VMware vSphere Configuration (if using vSphere)
# ============================================================================

# VCENTER_SERVER=vcenter.tartware.local
# VCENTER_USERNAME=administrator@vsphere.local
# VCENTER_PASSWORD=
# VCENTER_DATACENTER=/Datacenter
# VCENTER_DATASTORE=/Datacenter/datastore/prod-storage
# VCENTER_NETWORK=/Datacenter/network/k8s-network
# VCENTER_RESOURCE_POOL=/Datacenter/host/Cluster/Resources/kubernetes
# VCENTER_TEMPLATE=/Datacenter/vm/templates/ubuntu-22.04-k8s

# ============================================================================
# AWS Configuration (if using AWS)
# ============================================================================

# AWS_REGION=us-west-2
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# EKS_CLUSTER_NAME=tartware-prod
# EKS_NODE_INSTANCE_TYPE=m5.4xlarge

# ============================================================================
# Security Configuration
# ============================================================================

# Enable Istio mTLS
ISTIO_MTLS_ENABLED=true

# Enable network policies
NETWORK_POLICIES_ENABLED=true

# Vault configuration
VAULT_ADDR=http://vault.security.svc.cluster.local:8200
# VAULT_TOKEN=  # Set via secure method

# ============================================================================
# Backup Configuration
# ============================================================================

# Backup retention days
BACKUP_RETENTION_DAYS=30

# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# Backup storage location
# BACKUP_S3_BUCKET=tartware-backups
# BACKUP_S3_REGION=us-west-2

# ============================================================================
# Feature Flags
# ============================================================================

# Auto-deploy mode (skip interactive prompts)
AUTO_DEPLOY=false

# Enable debug logging
DEBUG=false

# Enable experimental features
EXPERIMENTAL_FEATURES=false

# ============================================================================
# Monitoring and Alerting
# ============================================================================

# Slack webhook for alerts (optional)
# SLACK_WEBHOOK_URL=

# PagerDuty integration key (optional)
# PAGERDUTY_INTEGRATION_KEY=

# Email alerts (optional)
# ALERT_EMAIL=alerts@tartware.local
# SMTP_SERVER=smtp.tartware.local
# SMTP_PORT=587
# SMTP_USERNAME=
# SMTP_PASSWORD=
