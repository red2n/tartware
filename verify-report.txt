You are now connected to database "tartware" as user "postgres".

██████████████████████████████████████████████████
█                                                █
█    TARTWARE PMS - COMPLETE VERIFICATION       █
█    Database Quality Assurance Suite           █
█                                                █
██████████████████████████████████████████████████


======================================================
  PHASE 1: TABLES VERIFICATION
======================================================

You are now connected to database "tartware" as user "postgres".

======================================================
  TABLE VERIFICATION - ALL CATEGORIES
======================================================

You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: CORE FOUNDATION VERIFICATION
  Tables: 17 | Description: Multi-tenancy, users, properties, guest management, settings catalogue, command routing
==============================================

1. Checking if all 17 tables exist...
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ tenants exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ users exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ user_tenant_associations exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ properties exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ guests exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ setting_categories exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ setting_definitions exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ tenant_settings exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ property_settings exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ room_settings exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ user_settings exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ system_administrators exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ system_admin_audit_log exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ command_templates exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ command_routes exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ command_features exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:    ✓ command_dispatches exists
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:  
psql:tables/01-core/verify-01-core-foundation.sql:70: NOTICE:  ✓✓✓ All 17 Core Foundation tables exist!
DO

2. Table structure summary...
        table_name        | column_count | has_tenant_id | has_soft_delete | has_audit 
--------------------------+--------------+---------------+-----------------+-----------
 command_dispatches       |           16 |             1 |               0 |         1
 command_features         |           10 |             1 |               0 |         1
 command_routes           |           11 |             1 |               0 |         1
 command_templates        |           12 |             0 |               0 |         1
 guests                   |           41 |             1 |               1 |         1
 properties               |           27 |             1 |               1 |         1
 property_settings        |           12 |             0 |               0 |         1
 room_settings            |           12 |             0 |               0 |         1
 setting_categories       |            9 |             0 |               0 |         1
 setting_definitions      |           17 |             0 |               0 |         1
 system_admin_audit_log   |           18 |             1 |               0 |         0
 system_administrators    |           18 |             0 |               0 |         1
 tenant_settings          |           12 |             1 |               0 |         1
 tenants                  |           28 |             0 |               1 |         1
 user_settings            |           10 |             0 |               0 |         1
 user_tenant_associations |           17 |             1 |               1 |         1
 users                    |           30 |             0 |               1 |         1
(17 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/01-core/verify-01-core-foundation.sql:173: NOTICE:  
psql:tables/01-core/verify-01-core-foundation.sql:173: NOTICE:  Category: Core Foundation
psql:tables/01-core/verify-01-core-foundation.sql:173: NOTICE:  Tables Found: 17 / 17
psql:tables/01-core/verify-01-core-foundation.sql:173: NOTICE:  
psql:tables/01-core/verify-01-core-foundation.sql:173: NOTICE:  ✓✓✓ CORE FOUNDATION VERIFICATION PASSED ✓✓✓
DO

==============================================
Core Foundation verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: ROOM & INVENTORY MANAGEMENT VERIFICATION
  Tables: 5 | Description: Room types, rooms, amenities, rates, availability
==============================================

1. Checking if all 5 tables exist...
psql:tables/02-inventory/verify-02-room-inventory.sql:64: NOTICE:    ✓ room_types exists
psql:tables/02-inventory/verify-02-room-inventory.sql:64: NOTICE:    ✓ rooms exists
psql:tables/02-inventory/verify-02-room-inventory.sql:64: NOTICE:    ✓ room_amenity_catalog exists
psql:tables/02-inventory/verify-02-room-inventory.sql:64: NOTICE:    ✓ rates exists
psql:tables/02-inventory/verify-02-room-inventory.sql:64: NOTICE:    ✓ room_availability exists (in availability schema)
psql:tables/02-inventory/verify-02-room-inventory.sql:64: NOTICE:  
psql:tables/02-inventory/verify-02-room-inventory.sql:64: NOTICE:  ✓✓✓ All 5 Room & Inventory Management tables exist!
DO

2. Table structure summary...
      table_name      | column_count | has_tenant_id | has_soft_delete | has_audit 
----------------------+--------------+---------------+-----------------+-----------
 rates                |           41 |             1 |               1 |         1
 room_amenity_catalog |           18 |             1 |               0 |         1
 room_types           |           32 |             1 |               1 |         1
 rooms                |           33 |             1 |               1 |         1
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/02-inventory/verify-02-room-inventory.sql:126: NOTICE:  
psql:tables/02-inventory/verify-02-room-inventory.sql:126: NOTICE:  Category: Room & Inventory Management
psql:tables/02-inventory/verify-02-room-inventory.sql:126: NOTICE:  Tables Found: 5 / 5
psql:tables/02-inventory/verify-02-room-inventory.sql:126: NOTICE:  
psql:tables/02-inventory/verify-02-room-inventory.sql:126: NOTICE:  ✓✓✓ ROOM & INVENTORY MANAGEMENT VERIFICATION PASSED ✓✓✓
DO

==============================================
Room & Inventory Management verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: REVENUE MANAGEMENT VERIFICATION
  Tables: 7 | Description: Pricing, forecasting, competitor analysis
==============================================

1. Checking if all 7 tables exist...
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:    ✓ rate_overrides exists
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:    ✓ revenue_forecasts exists
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:    ✓ competitor_rates exists
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:    ✓ demand_calendar exists
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:    ✓ pricing_rules exists
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:    ✓ rate_recommendations exists
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:    ✓ revenue_goals exists
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:  
psql:tables/02-inventory/verify-08-revenue-management.sql:51: NOTICE:  ✓✓✓ All 7 Revenue Management tables exist!
DO

2. Table structure summary...
      table_name      | column_count | has_tenant_id | has_soft_delete | has_audit 
----------------------+--------------+---------------+-----------------+-----------
 competitor_rates     |           83 |             1 |               1 |         1
 demand_calendar      |          113 |             1 |               1 |         1
 pricing_rules        |           89 |             1 |               1 |         1
 rate_overrides       |           82 |             1 |               1 |         1
 rate_recommendations |           91 |             1 |               1 |         1
 revenue_forecasts    |           63 |             1 |               1 |         1
 revenue_goals        |          109 |             1 |               1 |         1
(7 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/02-inventory/verify-08-revenue-management.sql:104: NOTICE:  
psql:tables/02-inventory/verify-08-revenue-management.sql:104: NOTICE:  Category: Revenue Management
psql:tables/02-inventory/verify-08-revenue-management.sql:104: NOTICE:  Tables Found: 7 / 7
psql:tables/02-inventory/verify-08-revenue-management.sql:104: NOTICE:  
psql:tables/02-inventory/verify-08-revenue-management.sql:104: NOTICE:  ✓✓✓ REVENUE MANAGEMENT VERIFICATION PASSED ✓✓✓
DO

==============================================
Revenue Management verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: RESERVATIONS & BOOKING VERIFICATION
  Tables: 12 | Description: Reservation lifecycle, deposits, allotments, waitlists
==============================================

1. Checking if all 12 tables exist...
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ reservations exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ reservation_status_history exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ deposit_schedules exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ allotments exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ booking_sources exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ market_segments exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ guest_preferences exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ reservation_traces exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ waitlist_entries exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ reservation_event_offsets exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ reservation_command_lifecycle exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:    ✓ reservation_rate_fallbacks exists
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:  
psql:tables/03-bookings/verify-03-reservations-booking.sql:64: NOTICE:  ✓✓✓ All 12 Reservations & Booking tables exist!
DO

2. Table structure summary...
          table_name           | column_count | has_tenant_id | has_soft_delete | has_audit 
-------------------------------+--------------+---------------+-----------------+-----------
 allotments                    |           79 |             1 |               1 |         1
 booking_sources               |           75 |             1 |               1 |         0
 deposit_schedules             |           66 |             1 |               1 |         1
 guest_preferences             |           83 |             1 |               1 |         1
 market_segments               |           77 |             1 |               1 |         1
 reservation_command_lifecycle |           11 |             1 |               0 |         1
 reservation_event_offsets     |           12 |             0 |               0 |         1
 reservation_rate_fallbacks    |           11 |             1 |               0 |         1
 reservation_status_history    |           10 |             1 |               0 |         0
 reservation_traces            |           27 |             1 |               1 |         1
 reservations                  |           49 |             1 |               1 |         1
 waitlist_entries              |           30 |             1 |               1 |         1
(12 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/03-bookings/verify-03-reservations-booking.sql:143: NOTICE:  
psql:tables/03-bookings/verify-03-reservations-booking.sql:143: NOTICE:  Category: Reservations & Booking
psql:tables/03-bookings/verify-03-reservations-booking.sql:143: NOTICE:  Tables Found: 12 / 12
psql:tables/03-bookings/verify-03-reservations-booking.sql:143: NOTICE:  
psql:tables/03-bookings/verify-03-reservations-booking.sql:143: NOTICE:  ✓✓✓ RESERVATIONS & BOOKING VERIFICATION PASSED ✓✓✓
DO

==============================================
Reservations & Booking verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: GUEST RELATIONS & CRM VERIFICATION
  Tables: 7 | Description: Communications, loyalty, documents, feedback
==============================================

1. Checking if all 7 tables exist...
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:    ✓ guest_communications exists
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:    ✓ communication_templates exists
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:    ✓ guest_feedback exists
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:    ✓ guest_loyalty_programs exists
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:    ✓ guest_documents exists
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:    ✓ guest_notes exists
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:    ✓ automated_messages exists
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:  
psql:tables/03-bookings/verify-07-guest-crm.sql:51: NOTICE:  ✓✓✓ All 7 Guest Relations & CRM tables exist!
DO

2. Table structure summary...
       table_name        | column_count | has_tenant_id | has_soft_delete | has_audit 
-------------------------+--------------+---------------+-----------------+-----------
 automated_messages      |           87 |             1 |               1 |         1
 communication_templates |           33 |             1 |               1 |         1
 guest_communications    |           29 |             1 |               0 |         1
 guest_documents         |           69 |             1 |               1 |         1
 guest_feedback          |           37 |             1 |               0 |         1
 guest_loyalty_programs  |           56 |             1 |               1 |         1
 guest_notes             |           62 |             1 |               1 |         1
(7 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/03-bookings/verify-07-guest-crm.sql:104: NOTICE:  
psql:tables/03-bookings/verify-07-guest-crm.sql:104: NOTICE:  Category: Guest Relations & CRM
psql:tables/03-bookings/verify-07-guest-crm.sql:104: NOTICE:  Tables Found: 7 / 7
psql:tables/03-bookings/verify-07-guest-crm.sql:104: NOTICE:  
psql:tables/03-bookings/verify-07-guest-crm.sql:104: NOTICE:  ✓✓✓ GUEST RELATIONS & CRM VERIFICATION PASSED ✓✓✓
DO

==============================================
Guest Relations & CRM verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

====================================================
  CATEGORY: ROLL SERVICE & AVAILABILITY GUARD TABLES
  Tables: 5 | Description: Shadow ledgers, checkpoints, audits, guard metadata
====================================================

1. Checking if all 5 tables exist...
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:58: NOTICE:    ✓ roll_service_shadow_ledgers exists
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:58: NOTICE:    ✓ roll_service_backfill_checkpoint exists
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:58: NOTICE:    ✓ roll_service_consumer_offsets exists
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:58: NOTICE:    ✓ inventory_lock_audits exists
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:58: NOTICE:    ✓ reservation_guard_locks exists
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:58: NOTICE:  
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:58: NOTICE:  ✓✓✓ All 5 Roll/Guard tables exist!
DO

2. Table structure summary...
            table_name            | column_count | has_tenant_id | has_updated_at | has_metadata_column 
----------------------------------+--------------+---------------+----------------+---------------------
 inventory_lock_audits            |           10 |             1 |              0 |                   1
 reservation_guard_locks          |            6 |             1 |              1 |                   1
 roll_service_backfill_checkpoint |            4 |             1 |              1 |                   0
 roll_service_consumer_offsets    |            8 |             0 |              1 |                   0
 roll_service_shadow_ledgers      |           11 |             1 |              1 |                   0
(5 rows)


3. Key indexes / constraints snapshot...
            tablename             |                          indexname                           |                                                                              indexdef                                                                              
----------------------------------+--------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------
 inventory_lock_audits            | idx_inventory_lock_audits_lock                               | CREATE INDEX idx_inventory_lock_audits_lock ON public.inventory_lock_audits USING btree (lock_id)
 inventory_lock_audits            | idx_inventory_lock_audits_tenant                             | CREATE INDEX idx_inventory_lock_audits_tenant ON public.inventory_lock_audits USING btree (tenant_id)
 inventory_lock_audits            | inventory_lock_audits_pkey                                   | CREATE UNIQUE INDEX inventory_lock_audits_pkey ON public.inventory_lock_audits USING btree (id)
 reservation_guard_locks          | idx_reservation_guard_locks_lock                             | CREATE INDEX idx_reservation_guard_locks_lock ON public.reservation_guard_locks USING btree (lock_id) WHERE (lock_id IS NOT NULL)
 reservation_guard_locks          | reservation_guard_locks_pkey                                 | CREATE UNIQUE INDEX reservation_guard_locks_pkey ON public.reservation_guard_locks USING btree (tenant_id, reservation_id)
 roll_service_backfill_checkpoint | roll_service_backfill_checkpoint_pkey                        | CREATE UNIQUE INDEX roll_service_backfill_checkpoint_pkey ON public.roll_service_backfill_checkpoint USING btree (tenant_id)
 roll_service_consumer_offsets    | roll_service_consumer_offsets_pkey                           | CREATE UNIQUE INDEX roll_service_consumer_offsets_pkey ON public.roll_service_consumer_offsets USING btree (consumer_group, topic, partition)
 roll_service_shadow_ledgers      | idx_roll_shadow_ledger_reservation                           | CREATE INDEX idx_roll_shadow_ledger_reservation ON public.roll_service_shadow_ledgers USING btree (reservation_id)
 roll_service_shadow_ledgers      | idx_roll_shadow_ledger_roll_date                             | CREATE INDEX idx_roll_shadow_ledger_roll_date ON public.roll_service_shadow_ledgers USING btree (roll_date, tenant_id)
 roll_service_shadow_ledgers      | roll_service_shadow_ledgers_pkey                             | CREATE UNIQUE INDEX roll_service_shadow_ledgers_pkey ON public.roll_service_shadow_ledgers USING btree (ledger_id)
 roll_service_shadow_ledgers      | roll_service_shadow_ledgers_tenant_id_lifecycle_event_id_key | CREATE UNIQUE INDEX roll_service_shadow_ledgers_tenant_id_lifecycle_event_id_key ON public.roll_service_shadow_ledgers USING btree (tenant_id, lifecycle_event_id)
(11 rows)


====================================================
  ROLL SERVICE & GUARD TABLES - SUMMARY
====================================================
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:142: NOTICE:  Tables Found: 5 / 5
psql:tables/03-bookings/verify-08-roll-guard-shadow.sql:142: NOTICE:  ✓✓✓ ROLL / GUARD VERIFICATION PASSED ✓✓✓
DO

====================================================
Roll Service & Guard verification complete!
====================================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: FINANCIAL MANAGEMENT VERIFICATION
  Tables: 15 | Description: Payments, invoices, accounting, receivables, GL exports
==============================================

1. Checking if all 15 tables exist...
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ payments exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ invoices exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ invoice_items exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ folios exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ charge_postings exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ refunds exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ tax_configurations exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ financial_closures exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ commission_tracking exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ cashier_sessions exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ accounts_receivable exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ credit_limits exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ payment_tokens exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ general_ledger_batches exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:    ✓ general_ledger_entries exists
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:  
psql:tables/04-financial/verify-04-financial-management.sql:51: NOTICE:  ✓✓✓ All 15 Financial Management tables exist!
DO

2. Table structure summary...
       table_name       | column_count | has_tenant_id | has_soft_delete | has_audit 
------------------------+--------------+---------------+-----------------+-----------
 accounts_receivable    |          129 |             1 |               1 |         1
 cashier_sessions       |          129 |             1 |               1 |         1
 charge_postings        |           55 |             1 |               1 |         0
 commission_tracking    |          134 |             1 |               1 |         1
 credit_limits          |          132 |             1 |               1 |         1
 financial_closures     |          143 |             1 |               1 |         1
 folios                 |           42 |             1 |               1 |         1
 general_ledger_batches |           24 |             1 |               1 |         1
 general_ledger_entries |           31 |             1 |               1 |         1
 invoice_items          |           26 |             1 |               1 |         1
 invoices               |           38 |             1 |               1 |         1
 payment_tokens         |           30 |             1 |               1 |         1
 payments               |           43 |             1 |               1 |         1
 refunds                |           87 |             1 |               1 |         1
 tax_configurations     |          108 |             1 |               1 |         1
(15 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/04-financial/verify-04-financial-management.sql:104: NOTICE:  
psql:tables/04-financial/verify-04-financial-management.sql:104: NOTICE:  Category: Financial Management
psql:tables/04-financial/verify-04-financial-management.sql:104: NOTICE:  Tables Found: 15 / 15
psql:tables/04-financial/verify-04-financial-management.sql:104: NOTICE:  
psql:tables/04-financial/verify-04-financial-management.sql:104: NOTICE:  ✓✓✓ FINANCIAL MANAGEMENT VERIFICATION PASSED ✓✓✓
DO

==============================================
Financial Management verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: SERVICES & HOUSEKEEPING VERIFICATION
  Tables: 6 | Description: Service delivery, housekeeping operations, spa
==============================================

1. Checking if all 6 tables exist...
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:    ✓ services exists
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:    ✓ reservation_services exists
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:    ✓ housekeeping_tasks exists
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:    ✓ maintenance_requests exists
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:    ✓ spa_treatments exists
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:    ✓ spa_appointments exists
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:  
psql:tables/05-operations/verify-05-services-housekeeping.sql:51: NOTICE:  ✓✓✓ All 6 Services & Housekeeping tables exist!
DO

2. Table structure summary...
      table_name      | column_count | has_tenant_id | has_soft_delete | has_audit 
----------------------+--------------+---------------+-----------------+-----------
 housekeeping_tasks   |           32 |             1 |               1 |         1
 maintenance_requests |          102 |             1 |               1 |         1
 reservation_services |           30 |             1 |               1 |         1
 services             |           35 |             1 |               1 |         1
 spa_appointments     |           46 |             1 |               1 |         1
 spa_treatments       |           34 |             1 |               1 |         1
(6 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/05-operations/verify-05-services-housekeeping.sql:104: NOTICE:  
psql:tables/05-operations/verify-05-services-housekeeping.sql:104: NOTICE:  Category: Services & Housekeeping
psql:tables/05-operations/verify-05-services-housekeeping.sql:104: NOTICE:  Tables Found: 6 / 6
psql:tables/05-operations/verify-05-services-housekeeping.sql:104: NOTICE:  
psql:tables/05-operations/verify-05-services-housekeeping.sql:104: NOTICE:  ✓✓✓ SERVICES & HOUSEKEEPING VERIFICATION PASSED ✓✓✓
DO

==============================================
Services & Housekeeping verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: STAFF & OPERATIONS VERIFICATION
  Tables: 6 | Description: Staff scheduling, tasks, handovers, incidents
==============================================

1. Checking if all 6 tables exist...
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:    ✓ staff_schedules exists
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:    ✓ staff_tasks exists
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:    ✓ shift_handovers exists
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:    ✓ lost_and_found exists
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:    ✓ incident_reports exists
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:    ✓ vendor_contracts exists
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:  
psql:tables/05-operations/verify-09-staff-operations.sql:51: NOTICE:  ✓✓✓ All 6 Staff & Operations tables exist!
DO

2. Table structure summary...
    table_name    | column_count | has_tenant_id | has_soft_delete | has_audit 
------------------+--------------+---------------+-----------------+-----------
 incident_reports |          155 |             1 |               1 |         1
 lost_and_found   |          130 |             1 |               1 |         1
 shift_handovers  |          110 |             1 |               1 |         1
 staff_schedules  |          107 |             1 |               1 |         1
 staff_tasks      |          125 |             1 |               1 |         1
 vendor_contracts |          140 |             1 |               1 |         1
(6 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/05-operations/verify-09-staff-operations.sql:104: NOTICE:  
psql:tables/05-operations/verify-09-staff-operations.sql:104: NOTICE:  Category: Staff & Operations
psql:tables/05-operations/verify-09-staff-operations.sql:104: NOTICE:  Tables Found: 6 / 6
psql:tables/05-operations/verify-09-staff-operations.sql:104: NOTICE:  
psql:tables/05-operations/verify-09-staff-operations.sql:104: NOTICE:  ✓✓✓ STAFF & OPERATIONS VERIFICATION PASSED ✓✓✓
DO

==============================================
Staff & Operations verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: MOBILE & DIGITAL VERIFICATION
  Tables: 4 | Description: Mobile keys, QR codes, push notifications
==============================================

1. Checking if all 4 tables exist...
psql:tables/05-operations/verify-13-mobile-digital.sql:51: NOTICE:    ✓ mobile_keys exists
psql:tables/05-operations/verify-13-mobile-digital.sql:51: NOTICE:    ✓ qr_codes exists
psql:tables/05-operations/verify-13-mobile-digital.sql:51: NOTICE:    ✓ push_notifications exists
psql:tables/05-operations/verify-13-mobile-digital.sql:51: NOTICE:    ✓ app_usage_analytics exists
psql:tables/05-operations/verify-13-mobile-digital.sql:51: NOTICE:  
psql:tables/05-operations/verify-13-mobile-digital.sql:51: NOTICE:  ✓✓✓ All 4 Mobile & Digital tables exist!
DO

2. Table structure summary...
     table_name      | column_count | has_tenant_id | has_soft_delete | has_audit 
---------------------+--------------+---------------+-----------------+-----------
 app_usage_analytics |           18 |             1 |               1 |         1
 mobile_keys         |           24 |             1 |               1 |         1
 push_notifications  |           27 |             1 |               1 |         1
 qr_codes            |           22 |             1 |               1 |         1
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/05-operations/verify-13-mobile-digital.sql:104: NOTICE:  
psql:tables/05-operations/verify-13-mobile-digital.sql:104: NOTICE:  Category: Mobile & Digital
psql:tables/05-operations/verify-13-mobile-digital.sql:104: NOTICE:  Tables Found: 4 / 4
psql:tables/05-operations/verify-13-mobile-digital.sql:104: NOTICE:  
psql:tables/05-operations/verify-13-mobile-digital.sql:104: NOTICE:  ✓✓✓ MOBILE & DIGITAL VERIFICATION PASSED ✓✓✓
DO

==============================================
Mobile & Digital verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: CHANNEL MANAGEMENT & DISTRIBUTION VERIFICATION
  Tables: 10 | Description: OTA, GDS, and distribution channel integrations
==============================================

1. Checking if all 10 tables exist...
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ channel_mappings exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ ota_configurations exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ ota_rate_plans exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ ota_reservations_queue exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ ota_inventory_sync exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ channel_rate_parity exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ channel_commission_rules exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ gds_connections exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ gds_message_log exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:    ✓ gds_reservation_queue exists
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:  
psql:tables/06-integrations/verify-06-channel-ota.sql:51: NOTICE:  ✓✓✓ All 10 Channel Management & Distribution tables exist!
DO

2. Table structure summary...
        table_name        | column_count | has_tenant_id | has_soft_delete | has_audit 
--------------------------+--------------+---------------+-----------------+-----------
 channel_commission_rules |           71 |             1 |               1 |         1
 channel_mappings         |           23 |             1 |               1 |         1
 channel_rate_parity      |           66 |             1 |               1 |         1
 gds_connections          |           30 |             1 |               1 |         1
 gds_message_log          |           27 |             1 |               0 |         1
 gds_reservation_queue    |           32 |             1 |               0 |         1
 ota_configurations       |           27 |             1 |               0 |         1
 ota_inventory_sync       |           52 |             1 |               1 |         1
 ota_rate_plans           |           27 |             1 |               1 |         1
 ota_reservations_queue   |           25 |             1 |               0 |         1
(10 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/06-integrations/verify-06-channel-ota.sql:104: NOTICE:  
psql:tables/06-integrations/verify-06-channel-ota.sql:104: NOTICE:  Category: Channel Management & Distribution
psql:tables/06-integrations/verify-06-channel-ota.sql:104: NOTICE:  Tables Found: 10 / 10
psql:tables/06-integrations/verify-06-channel-ota.sql:104: NOTICE:  
psql:tables/06-integrations/verify-06-channel-ota.sql:104: NOTICE:  ✓✓✓ CHANNEL MANAGEMENT & DISTRIBUTION VERIFICATION PASSED ✓✓✓
DO

==============================================
Channel Management & Distribution verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: MARKETING & CAMPAIGNS VERIFICATION
  Tables: 5 | Description: Campaigns, promotions, referrals, social media
==============================================

1. Checking if all 5 tables exist...
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:51: NOTICE:    ✓ marketing_campaigns exists
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:51: NOTICE:    ✓ campaign_segments exists
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:51: NOTICE:    ✓ promotional_codes exists
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:51: NOTICE:    ✓ referral_tracking exists
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:51: NOTICE:    ✓ social_media_mentions exists
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:51: NOTICE:  
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:51: NOTICE:  ✓✓✓ All 5 Marketing & Campaigns tables exist!
DO

2. Table structure summary...
      table_name       | column_count | has_tenant_id | has_soft_delete | has_audit 
-----------------------+--------------+---------------+-----------------+-----------
 campaign_segments     |           76 |             1 |               1 |         1
 marketing_campaigns   |          111 |             1 |               1 |         1
 promotional_codes     |           97 |             1 |               1 |         1
 referral_tracking     |           93 |             1 |               1 |         1
 social_media_mentions |           95 |             1 |               1 |         1
(5 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:104: NOTICE:  
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:104: NOTICE:  Category: Marketing & Campaigns
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:104: NOTICE:  Tables Found: 5 / 5
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:104: NOTICE:  
psql:tables/06-integrations/verify-10-marketing-campaigns.sql:104: NOTICE:  ✓✓✓ MARKETING & CAMPAIGNS VERIFICATION PASSED ✓✓✓
DO

==============================================
Marketing & Campaigns verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: INTEGRATION HUB VERIFICATION
  Tables: 4 | Description: API integrations, webhooks, data synchronization
==============================================

1. Checking if all 4 tables exist...
psql:tables/06-integrations/verify-15-integration-hub.sql:51: NOTICE:    ✓ integration_mappings exists
psql:tables/06-integrations/verify-15-integration-hub.sql:51: NOTICE:    ✓ api_logs exists
psql:tables/06-integrations/verify-15-integration-hub.sql:51: NOTICE:    ✓ webhook_subscriptions exists
psql:tables/06-integrations/verify-15-integration-hub.sql:51: NOTICE:    ✓ data_sync_status exists
psql:tables/06-integrations/verify-15-integration-hub.sql:51: NOTICE:  
psql:tables/06-integrations/verify-15-integration-hub.sql:51: NOTICE:  ✓✓✓ All 4 Integration Hub tables exist!
DO

2. Table structure summary...
      table_name       | column_count | has_tenant_id | has_soft_delete | has_audit 
-----------------------+--------------+---------------+-----------------+-----------
 api_logs              |           23 |             1 |               1 |         1
 data_sync_status      |           28 |             1 |               1 |         1
 integration_mappings  |           24 |             1 |               1 |         1
 webhook_subscriptions |           26 |             1 |               1 |         1
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/06-integrations/verify-15-integration-hub.sql:104: NOTICE:  
psql:tables/06-integrations/verify-15-integration-hub.sql:104: NOTICE:  Category: Integration Hub
psql:tables/06-integrations/verify-15-integration-hub.sql:104: NOTICE:  Tables Found: 4 / 4
psql:tables/06-integrations/verify-15-integration-hub.sql:104: NOTICE:  
psql:tables/06-integrations/verify-15-integration-hub.sql:104: NOTICE:  ✓✓✓ INTEGRATION HUB VERIFICATION PASSED ✓✓✓
DO

==============================================
Integration Hub verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: COMPLIANCE & LEGAL VERIFICATION
  Tables: 4 | Description: GDPR, police reports, contracts, insurance
==============================================

1. Checking if all 4 tables exist...
psql:tables/07-analytics/verify-11-compliance-legal.sql:51: NOTICE:    ✓ gdpr_consent_logs exists
psql:tables/07-analytics/verify-11-compliance-legal.sql:51: NOTICE:    ✓ police_reports exists
psql:tables/07-analytics/verify-11-compliance-legal.sql:51: NOTICE:    ✓ contract_agreements exists
psql:tables/07-analytics/verify-11-compliance-legal.sql:51: NOTICE:    ✓ insurance_claims exists
psql:tables/07-analytics/verify-11-compliance-legal.sql:51: NOTICE:  
psql:tables/07-analytics/verify-11-compliance-legal.sql:51: NOTICE:  ✓✓✓ All 4 Compliance & Legal tables exist!
DO

2. Table structure summary...
     table_name      | column_count | has_tenant_id | has_soft_delete | has_audit 
---------------------+--------------+---------------+-----------------+-----------
 contract_agreements |          120 |             1 |               1 |         1
 gdpr_consent_logs   |           71 |             1 |               1 |         1
 insurance_claims    |          138 |             1 |               1 |         1
 police_reports      |          102 |             1 |               1 |         1
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/07-analytics/verify-11-compliance-legal.sql:104: NOTICE:  
psql:tables/07-analytics/verify-11-compliance-legal.sql:104: NOTICE:  Category: Compliance & Legal
psql:tables/07-analytics/verify-11-compliance-legal.sql:104: NOTICE:  Tables Found: 4 / 4
psql:tables/07-analytics/verify-11-compliance-legal.sql:104: NOTICE:  
psql:tables/07-analytics/verify-11-compliance-legal.sql:104: NOTICE:  ✓✓✓ COMPLIANCE & LEGAL VERIFICATION PASSED ✓✓✓
DO

==============================================
Compliance & Legal verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: ANALYTICS & REPORTING VERIFICATION
  Tables: 14 | Description: Metrics, reports, performance, advanced analytics
==============================================

1. Checking if all 14 tables exist...
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ analytics_metrics exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ analytics_metric_dimensions exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ analytics_reports exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ report_property_ids exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ performance_reports exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ report_schedules exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ performance_thresholds exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ performance_baselines exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ performance_alerts exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ alert_rules exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ guest_journey_tracking exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ revenue_attribution exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ forecasting_models exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:    ✓ ab_test_results exists
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:  
psql:tables/07-analytics/verify-12-analytics-reporting.sql:51: NOTICE:  ✓✓✓ All 14 Analytics & Reporting tables exist!
DO

2. Table structure summary...
         table_name          | column_count | has_tenant_id | has_soft_delete | has_audit 
-----------------------------+--------------+---------------+-----------------+-----------
 ab_test_results             |           28 |             1 |               1 |         1
 alert_rules                 |           12 |             0 |               0 |         1
 analytics_metric_dimensions |           16 |             1 |               1 |         0
 analytics_metrics           |           29 |             1 |               1 |         1
 analytics_reports           |           26 |             1 |               1 |         1
 forecasting_models          |           21 |             1 |               1 |         1
 guest_journey_tracking      |           40 |             1 |               1 |         1
 performance_alerts          |           13 |             0 |               0 |         1
 performance_baselines       |           10 |             0 |               0 |         1
 performance_reports         |            9 |             0 |               0 |         0
 performance_thresholds      |           10 |             0 |               0 |         1
 report_property_ids         |            5 |             1 |               0 |         1
 report_schedules            |           10 |             0 |               0 |         1
 revenue_attribution         |           21 |             1 |               1 |         1
(14 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/07-analytics/verify-12-analytics-reporting.sql:104: NOTICE:  
psql:tables/07-analytics/verify-12-analytics-reporting.sql:104: NOTICE:  Category: Analytics & Reporting
psql:tables/07-analytics/verify-12-analytics-reporting.sql:104: NOTICE:  Tables Found: 14 / 14
psql:tables/07-analytics/verify-12-analytics-reporting.sql:104: NOTICE:  
psql:tables/07-analytics/verify-12-analytics-reporting.sql:104: NOTICE:  ✓✓✓ ANALYTICS & REPORTING VERIFICATION PASSED ✓✓✓
DO

==============================================
Analytics & Reporting verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: SYSTEM & AUDIT VERIFICATION
  Tables: 3 | Description: Audit logs, business dates, night audit
==============================================

1. Checking if all 3 tables exist...
psql:tables/07-analytics/verify-14-system-audit.sql:51: NOTICE:    ✓ audit_logs exists
psql:tables/07-analytics/verify-14-system-audit.sql:51: NOTICE:    ✓ business_dates exists
psql:tables/07-analytics/verify-14-system-audit.sql:51: NOTICE:    ✓ night_audit_log exists
psql:tables/07-analytics/verify-14-system-audit.sql:51: NOTICE:  
psql:tables/07-analytics/verify-14-system-audit.sql:51: NOTICE:  ✓✓✓ All 3 System & Audit tables exist!
DO

2. Table structure summary...
   table_name    | column_count | has_tenant_id | has_soft_delete | has_audit 
-----------------+--------------+---------------+-----------------+-----------
 audit_logs      |           36 |             1 |               0 |         0
 business_dates  |           47 |             1 |               1 |         1
 night_audit_log |           61 |             1 |               1 |         1
(3 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/07-analytics/verify-14-system-audit.sql:104: NOTICE:  
psql:tables/07-analytics/verify-14-system-audit.sql:104: NOTICE:  Category: System & Audit
psql:tables/07-analytics/verify-14-system-audit.sql:104: NOTICE:  Tables Found: 3 / 3
psql:tables/07-analytics/verify-14-system-audit.sql:104: NOTICE:  
psql:tables/07-analytics/verify-14-system-audit.sql:104: NOTICE:  ✓✓✓ SYSTEM & AUDIT VERIFICATION PASSED ✓✓✓
DO

==============================================
System & Audit verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CATEGORY: SETTINGS CATALOG VERIFICATION
  Tables: 5 | Description: settings catalog and values
==============================================

1. Checking if all 5 tables exist...
psql:tables/08-settings/verify-08-settings-catalog.sql:51: NOTICE:    ✓ settings_categories exists
psql:tables/08-settings/verify-08-settings-catalog.sql:51: NOTICE:    ✓ settings_sections exists
psql:tables/08-settings/verify-08-settings-catalog.sql:51: NOTICE:    ✓ settings_definitions exists
psql:tables/08-settings/verify-08-settings-catalog.sql:51: NOTICE:    ✓ settings_options exists
psql:tables/08-settings/verify-08-settings-catalog.sql:51: NOTICE:    ✓ settings_values exists
psql:tables/08-settings/verify-08-settings-catalog.sql:51: NOTICE:  
psql:tables/08-settings/verify-08-settings-catalog.sql:51: NOTICE:  ✓✓✓ All 5 Settings catalog tables exist!
DO

2. Table structure summary...
      table_name      | column_count | has_tenant_id | has_audit 
----------------------+--------------+---------------+-----------
 settings_categories  |           12 |             0 |         1
 settings_definitions |           36 |             0 |         1
 settings_options     |           15 |             0 |         1
 settings_sections    |           12 |             0 |         1
 settings_values      |           24 |             1 |         1
(5 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:tables/08-settings/verify-08-settings-catalog.sql:103: NOTICE:  
psql:tables/08-settings/verify-08-settings-catalog.sql:103: NOTICE:  Category: Settings Catalog
psql:tables/08-settings/verify-08-settings-catalog.sql:103: NOTICE:  Tables Found: 5 / 5
psql:tables/08-settings/verify-08-settings-catalog.sql:103: NOTICE:  
psql:tables/08-settings/verify-08-settings-catalog.sql:103: NOTICE:  ✓✓✓ SETTINGS CATALOG VERIFICATION PASSED ✓✓✓
DO

==============================================
Settings catalog verification complete!
==============================================

======================================================
  TABLE VERIFICATION COMPLETE
======================================================


======================================================
  PHASE 2: INDEXES VERIFICATION
======================================================

You are now connected to database "tartware" as user "postgres".

======================================================
  INDEX VERIFICATION - ALL CATEGORIES
======================================================

You are now connected to database "tartware" as user "postgres".

==============================================
  CORE FOUNDATION - INDEX VERIFICATION
  Tables: 13
==============================================

1. Index count by table...
        tablename         | total_indexes | primary_keys | secondary_indexes 
--------------------------+---------------+--------------+-------------------
 guests                   |            25 |            1 |                24
 properties               |            18 |            1 |                17
 property_settings        |             7 |            1 |                 6
 room_settings            |             7 |            1 |                 6
 setting_categories       |             4 |            1 |                 3
 setting_definitions      |             6 |            1 |                 5
 system_admin_audit_log   |             5 |            1 |                 4
 system_administrators    |             7 |            1 |                 6
 tenants                  |            12 |            1 |                11
 tenant_settings          |             7 |            1 |                 6
 users                    |            17 |            1 |                16
 user_settings            |             7 |            1 |                 6
 user_tenant_associations |            13 |            1 |                12
(13 rows)


2. Checking foreign key column indexes...
        table_name        | column_name |  status   
--------------------------+-------------+-----------
 guests                   | tenant_id   | ✓ Indexed
 properties               | tenant_id   | ✓ Indexed
 property_settings        | created_by  | ✓ Indexed
 property_settings        | property_id | ✓ Indexed
 property_settings        | setting_id  | ✓ Indexed
 property_settings        | updated_by  | ✓ Indexed
 room_settings            | created_by  | ✓ Indexed
 room_settings            | room_id     | ✓ Indexed
 room_settings            | setting_id  | ✓ Indexed
 room_settings            | updated_by  | ✓ Indexed
 setting_categories       | created_by  | ✓ Indexed
 setting_categories       | updated_by  | ✓ Indexed
 setting_definitions      | category_id | ✓ Indexed
 setting_definitions      | created_by  | ✓ Indexed
 setting_definitions      | updated_by  | ✓ Indexed
 system_admin_audit_log   | admin_id    | ✓ Indexed
 system_admin_audit_log   | tenant_id   | ✓ Indexed
 system_administrators    | created_by  | ✓ Indexed
 system_administrators    | updated_by  | ✓ Indexed
 tenant_settings          | created_by  | ✓ Indexed
 tenant_settings          | setting_id  | ✓ Indexed
 tenant_settings          | tenant_id   | ✓ Indexed
 tenant_settings          | updated_by  | ✓ Indexed
 user_settings            | created_by  | ✓ Indexed
 user_settings            | setting_id  | ✓ Indexed
 user_settings            | updated_by  | ✓ Indexed
 user_settings            | user_id     | ✓ Indexed
 user_tenant_associations | tenant_id   | ✓ Indexed
 user_tenant_associations | user_id     | ✓ Indexed
(29 rows)


3. Reviewing partial indexes (soft delete coverage)...
        tablename         |              indexname              |        partial_index_status         
--------------------------+-------------------------------------+-------------------------------------
 guests                   | idx_guests_blacklisted              | ✓ Has soft delete filter
 guests                   | idx_guests_date_of_birth            | ✓ Has soft delete filter
 guests                   | idx_guests_deleted_at               | ⚠ Has WHERE but not for soft delete
 guests                   | idx_guests_email                    | ✓ Has soft delete filter
 guests                   | idx_guests_first_name               | ✓ Has soft delete filter
 guests                   | idx_guests_full_name                | ✓ Has soft delete filter
 guests                   | idx_guests_id_number                | ✓ Has soft delete filter
 guests                   | idx_guests_last_name                | ✓ Has soft delete filter
 guests                   | idx_guests_last_stay                | ✓ Has soft delete filter
 guests                   | idx_guests_loyalty_points           | ✓ Has soft delete filter
 guests                   | idx_guests_loyalty_tier             | ✓ Has soft delete filter
 guests                   | idx_guests_name_trgm                | ✓ Has soft delete filter
 guests                   | idx_guests_passport                 | ✓ Has soft delete filter
 guests                   | idx_guests_phone                    | ✓ Has soft delete filter
 guests                   | idx_guests_tenant_email             | ✓ Has soft delete filter
 guests                   | idx_guests_tenant_id                | ✓ Has soft delete filter
 guests                   | idx_guests_total_bookings           | ✓ Has soft delete filter
 guests                   | idx_guests_total_revenue            | ✓ Has soft delete filter
 guests                   | idx_guests_vip_status               | ✓ Has soft delete filter
 properties               | idx_properties_code                 | ✓ Has soft delete filter
 properties               | idx_properties_deleted_at           | ⚠ Has WHERE but not for soft delete
 properties               | idx_properties_is_active            | ✓ Has soft delete filter
 properties               | idx_properties_name                 | ✓ Has soft delete filter
 properties               | idx_properties_name_trgm            | ✓ Has soft delete filter
 properties               | idx_properties_star_rating          | ✓ Has soft delete filter
 properties               | idx_properties_tenant_active        | ✓ Has soft delete filter
 properties               | idx_properties_tenant_id            | ✓ Has soft delete filter
 properties               | idx_properties_type                 | ✓ Has soft delete filter
 setting_definitions      | idx_setting_definitions_key_active  | ⚠ Has WHERE but not for soft delete
 system_admin_audit_log   | idx_system_admin_audit_impersonated | ⚠ Has WHERE but not for soft delete
 tenants                  | idx_tenants_active                  | ✓ Has soft delete filter
 tenants                  | idx_tenants_deleted_at              | ⚠ Has WHERE but not for soft delete
 tenants                  | idx_tenants_email                   | ✓ Has soft delete filter
 tenants                  | idx_tenants_slug                    | ✓ Has soft delete filter
 tenants                  | idx_tenants_status                  | ✓ Has soft delete filter
 tenants                  | idx_tenants_type                    | ✓ Has soft delete filter
 user_tenant_associations | idx_uta_deleted_at                  | ⚠ Has WHERE but not for soft delete
 user_tenant_associations | idx_uta_is_active                   | ✓ Has soft delete filter
 user_tenant_associations | idx_uta_role                        | ✓ Has soft delete filter
 user_tenant_associations | idx_uta_tenant_id                   | ✓ Has soft delete filter
 user_tenant_associations | idx_uta_tenant_role                 | ✓ Has soft delete filter
 user_tenant_associations | idx_uta_user_id                     | ✓ Has soft delete filter
 user_tenant_associations | idx_uta_user_tenant                 | ✓ Has soft delete filter
 user_tenant_associations | idx_uta_valid_from                  | ⚠ Has WHERE but not for soft delete
 user_tenant_associations | idx_uta_valid_until                 | ⚠ Has WHERE but not for soft delete
 users                    | idx_users_active_verified           | ✓ Has soft delete filter
 users                    | idx_users_deleted_at                | ⚠ Has WHERE but not for soft delete
 users                    | idx_users_email_active              | ✓ Has soft delete filter
 users                    | idx_users_failed_attempts           | ⚠ Has WHERE but not for soft delete
 users                    | idx_users_is_active                 | ✓ Has soft delete filter
 users                    | idx_users_is_verified               | ✓ Has soft delete filter
 users                    | idx_users_locked                    | ⚠ Has WHERE but not for soft delete
 users                    | idx_users_username_active           | ✓ Has soft delete filter
(53 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/01-core/verify-01-core-foundation-indexes.sql:251: NOTICE:  
psql:indexes/01-core/verify-01-core-foundation-indexes.sql:251: NOTICE:  Category: Core Foundation
psql:indexes/01-core/verify-01-core-foundation-indexes.sql:251: NOTICE:  Tables with Secondary Indexes: 13 / 13
psql:indexes/01-core/verify-01-core-foundation-indexes.sql:251: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/01-core/verify-01-core-foundation-indexes.sql:251: NOTICE:  Total Secondary Indexes: 122
psql:indexes/01-core/verify-01-core-foundation-indexes.sql:251: NOTICE:  
psql:indexes/01-core/verify-01-core-foundation-indexes.sql:251: NOTICE:  ✓✓✓ CORE FOUNDATION INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Core Foundation index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  ROOM & INVENTORY MANAGEMENT - INDEX VERIFICATION
  Tables: 4
==============================================

1. Index count by table...
     tablename     | total_indexes | primary_keys | secondary_indexes 
-------------------+---------------+--------------+-------------------
 rates             |            27 |            1 |                26
 room_availability |            22 |            1 |                21
 room_types        |            20 |            1 |                19
 rooms             |            24 |            1 |                23
(4 rows)


2. Checking if foreign key columns are indexed...
    table_name     | column_name  |  status   
-------------------+--------------+-----------
 rates             | tenant_id    | ✓ Indexed
 rates             | room_type_id | ✓ Indexed
 rates             | room_type_id | ✓ Indexed
 rates             | property_id  | ✓ Indexed
 rates             | property_id  | ✓ Indexed
 rates             | property_id  | ✓ Indexed
 rates             | property_id  | ✓ Indexed
 room_availability | room_type_id | ✓ Indexed
 room_availability | tenant_id    | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | property_id  | ✓ Indexed
 room_availability | room_type_id | ✓ Indexed
 room_availability | room_type_id | ✓ Indexed
 room_availability | room_type_id | ✓ Indexed
 room_availability | room_type_id | ✓ Indexed
 room_types        | tenant_id    | ✓ Indexed
 room_types        | property_id  | ✓ Indexed
 room_types        | property_id  | ✓ Indexed
 room_types        | property_id  | ✓ Indexed
 room_types        | property_id  | ✓ Indexed
 rooms             | room_type_id | ✓ Indexed
 rooms             | room_type_id | ✓ Indexed
 rooms             | property_id  | ✓ Indexed
 rooms             | property_id  | ✓ Indexed
 rooms             | tenant_id    | ✓ Indexed
 rooms             | property_id  | ✓ Indexed
 rooms             | property_id  | ✓ Indexed
 rooms             | property_id  | ✓ Indexed
 rooms             | room_type_id | ✓ Indexed
(35 rows)


3. Checking partial indexes for soft delete...
     tablename     |            indexname             |        partial_index_status         
-------------------+----------------------------------+-------------------------------------
 rates             | idx_rates_advance_booking        | ✓ Has soft delete filter
 rates             | idx_rates_base_rate              | ✓ Has soft delete filter
 rates             | idx_rates_closed_to_arrival      | ✓ Has soft delete filter
 rates             | idx_rates_closed_to_departure    | ✓ Has soft delete filter
 rates             | idx_rates_code                   | ✓ Has soft delete filter
 rates             | idx_rates_date_range             | ✓ Has soft delete filter
 rates             | idx_rates_deleted_at             | ⚠ Has WHERE but not for soft delete
 rates             | idx_rates_display_order          | ✓ Has soft delete filter
 rates             | idx_rates_length_of_stay         | ✓ Has soft delete filter
 rates             | idx_rates_name                   | ✓ Has soft delete filter
 rates             | idx_rates_property_code          | ✓ Has soft delete filter
 rates             | idx_rates_property_id            | ✓ Has soft delete filter
 rates             | idx_rates_property_type_dates    | ✓ Has soft delete filter
 rates             | idx_rates_room_type_id           | ✓ Has soft delete filter
 rates             | idx_rates_status                 | ✓ Has soft delete filter
 rates             | idx_rates_strategy               | ✓ Has soft delete filter
 rates             | idx_rates_tenant_id              | ✓ Has soft delete filter
 room_availability | idx_avail_available_rooms        | ⚠ Has WHERE but not for soft delete
 room_availability | idx_avail_closed_arrival         | ⚠ Has WHERE but not for soft delete
 room_availability | idx_avail_closed_departure       | ⚠ Has WHERE but not for soft delete
 room_availability | idx_avail_dynamic_price          | ⚠ Has WHERE but not for soft delete
 room_availability | idx_avail_low_inventory          | ⚠ Has WHERE but not for soft delete
 room_availability | idx_avail_property_available     | ⚠ Has WHERE but not for soft delete
 room_availability | idx_avail_stop_sell              | ⚠ Has WHERE but not for soft delete
 room_types        | idx_room_types_base_occupancy    | ✓ Has soft delete filter
 room_types        | idx_room_types_base_price        | ✓ Has soft delete filter
 room_types        | idx_room_types_category          | ✓ Has soft delete filter
 room_types        | idx_room_types_code              | ✓ Has soft delete filter
 room_types        | idx_room_types_deleted_at        | ⚠ Has WHERE but not for soft delete
 room_types        | idx_room_types_display_order     | ✓ Has soft delete filter
 room_types        | idx_room_types_is_active         | ✓ Has soft delete filter
 room_types        | idx_room_types_max_occupancy     | ✓ Has soft delete filter
 room_types        | idx_room_types_name              | ✓ Has soft delete filter
 room_types        | idx_room_types_property_active   | ✓ Has soft delete filter
 room_types        | idx_room_types_property_category | ✓ Has soft delete filter
 room_types        | idx_room_types_property_id       | ✓ Has soft delete filter
 room_types        | idx_room_types_tenant_id         | ✓ Has soft delete filter
 rooms             | idx_rooms_availability           | ✓ Has soft delete filter
 rooms             | idx_rooms_blocked_dates          | ✓ Has soft delete filter
 rooms             | idx_rooms_building               | ✓ Has soft delete filter
 rooms             | idx_rooms_deleted_at             | ⚠ Has WHERE but not for soft delete
 rooms             | idx_rooms_floor                  | ✓ Has soft delete filter
 rooms             | idx_rooms_housekeeping_status    | ✓ Has soft delete filter
 rooms             | idx_rooms_is_blocked             | ✓ Has soft delete filter
 rooms             | idx_rooms_is_out_of_order        | ✓ Has soft delete filter
 rooms             | idx_rooms_maintenance_status     | ✓ Has soft delete filter
 rooms             | idx_rooms_out_of_order_since     | ✓ Has soft delete filter
 rooms             | idx_rooms_property_id            | ✓ Has soft delete filter
 rooms             | idx_rooms_property_number        | ✓ Has soft delete filter
 rooms             | idx_rooms_property_type_status   | ✓ Has soft delete filter
 rooms             | idx_rooms_room_number            | ✓ Has soft delete filter
 rooms             | idx_rooms_room_type_id           | ✓ Has soft delete filter
 rooms             | idx_rooms_status                 | ✓ Has soft delete filter
 rooms             | idx_rooms_tenant_id              | ✓ Has soft delete filter
 rooms             | idx_rooms_wing                   | ✓ Has soft delete filter
(55 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/02-inventory/verify-02-room-inventory-indexes.sql:172: NOTICE:  
psql:indexes/02-inventory/verify-02-room-inventory-indexes.sql:172: NOTICE:  Category: Room & Inventory Management
psql:indexes/02-inventory/verify-02-room-inventory-indexes.sql:172: NOTICE:  Total Secondary Indexes: 89
psql:indexes/02-inventory/verify-02-room-inventory-indexes.sql:172: NOTICE:  Tables with Indexes: 4 / 4
psql:indexes/02-inventory/verify-02-room-inventory-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/02-inventory/verify-02-room-inventory-indexes.sql:172: NOTICE:  
psql:indexes/02-inventory/verify-02-room-inventory-indexes.sql:172: NOTICE:  ✓✓✓ ROOM & INVENTORY MANAGEMENT INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Room & Inventory Management index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  REVENUE MANAGEMENT - INDEX VERIFICATION
  Tables: 7
==============================================

1. Index count by table...
      tablename       | total_indexes | primary_keys | secondary_indexes 
----------------------+---------------+--------------+-------------------
 competitor_rates     |            28 |            1 |                27
 demand_calendar      |            29 |            1 |                28
 pricing_rules        |            26 |            1 |                25
 rate_overrides       |            23 |            1 |                22
 rate_recommendations |            34 |            1 |                33
 revenue_forecasts    |            23 |            1 |                22
 revenue_goals        |            30 |            1 |                29
(7 rows)


2. Checking if foreign key columns are indexed...
      table_name      |        column_name        |  status   
----------------------+---------------------------+-----------
 competitor_rates     | our_property_room_type_id | ✓ Indexed
 competitor_rates     | verified_by               | ✓ Indexed
 competitor_rates     | created_by                | ✓ Indexed
 competitor_rates     | updated_by                | ✓ Indexed
 competitor_rates     | deleted_by                | ✓ Indexed
 competitor_rates     | tenant_id                 | ✓ Indexed
 competitor_rates     | property_id               | ✓ Indexed
 competitor_rates     | property_id               | ✓ Indexed
 competitor_rates     | property_id               | ✓ Indexed
 competitor_rates     | property_id               | ✓ Indexed
 competitor_rates     | property_id               | ✓ Indexed
 demand_calendar      | property_id               | ✓ Indexed
 demand_calendar      | action_taken_by           | ✓ Indexed
 demand_calendar      | created_by                | ✓ Indexed
 demand_calendar      | deleted_by                | ✓ Indexed
 demand_calendar      | updated_by                | ✓ Indexed
 demand_calendar      | tenant_id                 | ✓ Indexed
 demand_calendar      | property_id               | ✓ Indexed
 demand_calendar      | property_id               | ✓ Indexed
 demand_calendar      | property_id               | ✓ Indexed
 demand_calendar      | property_id               | ✓ Indexed
 demand_calendar      | property_id               | ✓ Indexed
 pricing_rules        | property_id               | ✓ Indexed
 pricing_rules        | property_id               | ✓ Indexed
 pricing_rules        | tenant_id                 | ✓ Indexed
 pricing_rules        | deleted_by                | ✓ Indexed
 pricing_rules        | updated_by                | ✓ Indexed
 pricing_rules        | created_by                | ✓ Indexed
 pricing_rules        | approved_by               | ✓ Indexed
 pricing_rules        | property_id               | ✓ Indexed
 rate_overrides       | deleted_by                | ✓ Indexed
 rate_overrides       | requested_by              | ✓ Indexed
 rate_overrides       | tenant_id                 | ✓ Indexed
 rate_overrides       | tenant_id                 | ✓ Indexed
 rate_overrides       | tenant_id                 | ✓ Indexed
 rate_overrides       | property_id               | ✓ Indexed
 rate_overrides       | property_id               | ✓ Indexed
 rate_overrides       | property_id               | ✓ Indexed
 rate_overrides       | property_id               | ✓ Indexed
 rate_overrides       | property_id               | ✓ Indexed
 rate_overrides       | property_id               | ✓ Indexed
 rate_overrides       | property_id               | ✓ Indexed
 rate_overrides       | reservation_id            | ✓ Indexed
 rate_overrides       | room_type_id              | ✓ Indexed
 rate_overrides       | rate_plan_id              | ✓ Indexed
 rate_overrides       | guest_id                  | ✓ Indexed
 rate_overrides       | booking_source_id         | ✓ Indexed
 rate_overrides       | market_segment_id         | ✓ Indexed
 rate_overrides       | created_by                | ✓ Indexed
 rate_overrides       | approved_by               | ✓ Indexed
 rate_overrides       | rejected_by               | ✓ Indexed
 rate_overrides       | applied_by                | ✓ Indexed
 rate_overrides       | reviewed_by               | ✓ Indexed
 rate_overrides       | verified_by               | ✓ Indexed
 rate_overrides       | updated_by                | ✓ Indexed
 rate_recommendations | rate_plan_id              | ✓ Indexed
 rate_recommendations | reviewed_by               | ✓ Indexed
 rate_recommendations | accepted_by               | ✓ Indexed
 rate_recommendations | rejected_by               | ✓ Indexed
 rate_recommendations | implemented_by            | ✓ Indexed
 rate_recommendations | feedback_by               | ✓ Indexed
 rate_recommendations | superseded_by             | ✓ Indexed
 rate_recommendations | created_by                | ✓ Indexed
 rate_recommendations | updated_by                | ✓ Indexed
 rate_recommendations | deleted_by                | ✓ Indexed
 rate_recommendations | tenant_id                 | ✓ Indexed
 rate_recommendations | property_id               | ✓ Indexed
 rate_recommendations | property_id               | ✓ Indexed
 rate_recommendations | property_id               | ✓ Indexed
 rate_recommendations | property_id               | ✓ Indexed
 rate_recommendations | room_type_id              | ✓ Indexed
 rate_recommendations | room_type_id              | ✓ Indexed
 rate_recommendations | room_type_id              | ✓ Indexed
 revenue_forecasts    | property_id               | ✓ Indexed
 revenue_forecasts    | updated_by                | ✓ Indexed
 revenue_forecasts    | created_by                | ✓ Indexed
 revenue_forecasts    | reviewed_by               | ✓ Indexed
 revenue_forecasts    | adjusted_by               | ✓ Indexed
 revenue_forecasts    | deleted_by                | ✓ Indexed
 revenue_forecasts    | property_id               | ✓ Indexed
 revenue_forecasts    | property_id               | ✓ Indexed
 revenue_forecasts    | property_id               | ✓ Indexed
 revenue_forecasts    | tenant_id                 | ✓ Indexed
 revenue_goals        | tenant_id                 | ✓ Indexed
 revenue_goals        | property_id               | ✓ Indexed
 revenue_goals        | property_id               | ✓ Indexed
 revenue_goals        | property_id               | ✓ Indexed
 revenue_goals        | property_id               | ✓ Indexed
 revenue_goals        | property_id               | ✓ Indexed
 revenue_goals        | action_plan_owner         | ✓ Indexed
 revenue_goals        | responsible_user_id       | ✓ Indexed
 revenue_goals        | approved_by               | ✓ Indexed
 revenue_goals        | revised_by                | ✓ Indexed
 revenue_goals        | original_goal_id          | ✓ Indexed
 revenue_goals        | created_by                | ✓ Indexed
 revenue_goals        | updated_by                | ✓ Indexed
 revenue_goals        | deleted_by                | ✓ Indexed
(97 rows)


3. Checking partial indexes for soft delete...
      tablename       |                   indexname                   |   partial_index_status   
----------------------+-----------------------------------------------+--------------------------
 competitor_rates     | idx_competitor_rates_alert                    | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_availability             | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_cheaper                  | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_check_date               | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_competitor               | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_distance                 | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_market_analysis          | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_metadata                 | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_price_position           | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_property                 | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_property_competitor      | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_property_date            | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_rating                   | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_raw_data                 | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_scrape_timestamp         | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_source                   | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_special_offer            | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_stay_comparison          | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_stay_date                | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_tags                     | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_tenant                   | ✓ Has soft delete filter
 competitor_rates     | idx_competitor_rates_verification             | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_attention                 | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_booking_pace              | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_date                      | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_day_of_week               | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_demand_level              | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_demand_score              | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_events                    | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_events_json               | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_future_dates              | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_holiday                   | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_metadata                  | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_month                     | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_occupancy                 | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_pricing_strategy          | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_property                  | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_property_date_range       | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_property_demand           | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_season                    | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_season_analysis           | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_segment_dist              | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_tags                      | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_tenant                    | ✓ Has soft delete filter
 demand_calendar      | idx_demand_calendar_weekend                   | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_ab_test                     | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_active                      | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_active_effective            | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_approval                    | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_category                    | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_channels                    | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_code                        | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_conditions                  | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_effective                   | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_last_applied                | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_metadata                    | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_performance                 | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_priority                    | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_property                    | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_property_active_priority    | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_property_type               | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_room_types                  | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_tags                        | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_tenant                      | ✓ Has soft delete filter
 pricing_rules        | idx_pricing_rules_type                        | ✓ Has soft delete filter
 rate_overrides       | idx_rate_overrides_approval                   | ✓ Has soft delete filter
 rate_overrides       | idx_rate_overrides_reason                     | ✓ Has soft delete filter
 rate_overrides       | idx_rate_overrides_requested                  | ✓ Has soft delete filter
 rate_overrides       | idx_rate_overrides_reservation                | ✓ Has soft delete filter
 rate_overrides       | idx_rate_overrides_status                     | ✓ Has soft delete filter
 rate_overrides       | idx_rate_overrides_tenant                     | ✓ Has soft delete filter
 rate_overrides       | idx_uk_rate_overrides_code_active             | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_accepted             | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_action               | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_auto_apply           | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_confidence           | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_contributing_factors | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_date                 | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_effectiveness        | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_expired              | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_implemented          | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_metadata             | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_model                | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_pending              | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_property             | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_property_date        | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_property_pending     | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_property_room_date   | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_rate_plan            | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_room_date            | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_room_type            | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_status               | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_tags                 | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_tenant               | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_urgency              | ✓ Has soft delete filter
 rate_recommendations | idx_rate_recommendations_valid_until          | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_accuracy                | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_alert                   | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_date                    | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_factors                 | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_metadata                | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_model                   | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_period                  | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_period_range            | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_property                | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_property_date_type      | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_property_period         | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_review_status           | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_scenario                | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_tenant                  | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_type                    | ✓ Has soft delete filter
 revenue_forecasts    | idx_revenue_forecasts_variance                | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_achieved                    | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_action_plan                 | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_active                      | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_active_period               | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_alert                       | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_category                    | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_date_range                  | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_fiscal                      | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_incentive                   | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_metadata                    | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_pace                        | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_period                      | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_property                    | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_property_active             | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_property_period             | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_property_type_period        | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_responsible                 | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_segment_goals               | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_status                      | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_tags                        | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_tenant                      | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_type                        | ✓ Has soft delete filter
 revenue_goals        | idx_revenue_goals_variance                    | ✓ Has soft delete filter
(135 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/02-inventory/verify-08-revenue-management-indexes.sql:172: NOTICE:  
psql:indexes/02-inventory/verify-08-revenue-management-indexes.sql:172: NOTICE:  Category: Revenue Management
psql:indexes/02-inventory/verify-08-revenue-management-indexes.sql:172: NOTICE:  Total Secondary Indexes: 186
psql:indexes/02-inventory/verify-08-revenue-management-indexes.sql:172: NOTICE:  Tables with Indexes: 7 / 7
psql:indexes/02-inventory/verify-08-revenue-management-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/02-inventory/verify-08-revenue-management-indexes.sql:172: NOTICE:  
psql:indexes/02-inventory/verify-08-revenue-management-indexes.sql:172: NOTICE:  ✓✓✓ REVENUE MANAGEMENT INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Revenue Management index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  RESERVATIONS & BOOKING - INDEX VERIFICATION
  Tables: 9
==============================================

1. Index count by table...
         tablename          | total_indexes | primary_keys | secondary_indexes 
----------------------------+---------------+--------------+-------------------
 allotments                 |            18 |            1 |                17
 booking_sources            |            11 |            1 |                10
 deposit_schedules          |            18 |            1 |                17
 guest_preferences          |            13 |            1 |                12
 market_segments            |            12 |            1 |                11
 reservation_status_history |            10 |            1 |                 9
 reservation_traces         |            15 |            1 |                14
 reservations               |            36 |            1 |                35
 waitlist_entries           |            13 |            1 |                12
(9 rows)


2. Checking if foreign key columns are indexed...
         table_name         |      column_name       |  status   
----------------------------+------------------------+-----------
 allotments                 | tenant_id              | ✓ Indexed
 allotments                 | tenant_id              | ✓ Indexed
 allotments                 | property_id            | ✓ Indexed
 allotments                 | property_id            | ✓ Indexed
 allotments                 | property_id            | ✓ Indexed
 allotments                 | property_id            | ✓ Indexed
 allotments                 | property_id            | ✓ Indexed
 allotments                 | property_id            | ✓ Indexed
 allotments                 | property_id            | ✓ Indexed
 allotments                 | room_type_id           | ✓ Indexed
 allotments                 | booking_source_id      | ✓ Indexed
 allotments                 | market_segment_id      | ✓ Indexed
 allotments                 | master_folio_id        | ✓ Indexed
 allotments                 | account_manager_id     | ✓ Indexed
 allotments                 | operations_manager_id  | ✓ Indexed
 allotments                 | created_by             | ✓ Indexed
 allotments                 | updated_by             | ✓ Indexed
 allotments                 | confirmed_by           | ✓ Indexed
 allotments                 | cancelled_by           | ✓ Indexed
 allotments                 | deleted_by             | ✓ Indexed
 allotments                 | tenant_id              | ✓ Indexed
 booking_sources            | property_id            | ✓ Indexed
 booking_sources            | tenant_id              | ✓ Indexed
 booking_sources            | tenant_id              | ✓ Indexed
 booking_sources            | tenant_id              | ✓ Indexed
 booking_sources            | deleted_by             | ✓ Indexed
 booking_sources            | property_id            | ✓ Indexed
 booking_sources            | updated_by             | ✓ Indexed
 booking_sources            | created_by             | ✓ Indexed
 booking_sources            | property_id            | ✓ Indexed
 booking_sources            | property_id            | ✓ Indexed
 booking_sources            | property_id            | ✓ Indexed
 booking_sources            | property_id            | ✓ Indexed
 deposit_schedules          | updated_by             | ✓ Indexed
 deposit_schedules          | tenant_id              | ✓ Indexed
 deposit_schedules          | tenant_id              | ✓ Indexed
 deposit_schedules          | property_id            | ✓ Indexed
 deposit_schedules          | property_id            | ✓ Indexed
 deposit_schedules          | property_id            | ✓ Indexed
 deposit_schedules          | property_id            | ✓ Indexed
 deposit_schedules          | property_id            | ✓ Indexed
 deposit_schedules          | reservation_id         | ✓ Indexed
 deposit_schedules          | guest_id               | ✓ Indexed
 deposit_schedules          | folio_id               | ✓ Indexed
 deposit_schedules          | parent_schedule_id     | ✓ Indexed
 deposit_schedules          | posting_id             | ✓ Indexed
 deposit_schedules          | created_by             | ✓ Indexed
 deposit_schedules          | paid_by                | ✓ Indexed
 deposit_schedules          | waived_by              | ✓ Indexed
 deposit_schedules          | waiver_approved_by     | ✓ Indexed
 deposit_schedules          | posted_by              | ✓ Indexed
 deposit_schedules          | deleted_by             | ✓ Indexed
 guest_preferences          | deleted_by             | ✓ Indexed
 guest_preferences          | tenant_id              | ✓ Indexed
 guest_preferences          | property_id            | ✓ Indexed
 guest_preferences          | guest_id               | ✓ Indexed
 guest_preferences          | guest_id               | ✓ Indexed
 guest_preferences          | guest_id               | ✓ Indexed
 guest_preferences          | guest_id               | ✓ Indexed
 guest_preferences          | guest_id               | ✓ Indexed
 guest_preferences          | preferred_room_type_id | ✓ Indexed
 guest_preferences          | created_by             | ✓ Indexed
 guest_preferences          | updated_by             | ✓ Indexed
 guest_preferences          | collected_by           | ✓ Indexed
 guest_preferences          | verified_by            | ✓ Indexed
 market_segments            | tenant_id              | ✓ Indexed
 market_segments            | tenant_id              | ✓ Indexed
 market_segments            | tenant_id              | ✓ Indexed
 market_segments            | property_id            | ✓ Indexed
 market_segments            | property_id            | ✓ Indexed
 market_segments            | property_id            | ✓ Indexed
 market_segments            | property_id            | ✓ Indexed
 market_segments            | property_id            | ✓ Indexed
 market_segments            | parent_segment_id      | ✓ Indexed
 market_segments            | default_rate_plan_id   | ✓ Indexed
 market_segments            | created_by             | ✓ Indexed
 market_segments            | updated_by             | ✓ Indexed
 market_segments            | deleted_by             | ✓ Indexed
 reservation_status_history | tenant_id              | ✓ Indexed
 reservation_status_history | reservation_id         | ✓ Indexed
 reservation_status_history | reservation_id         | ✓ Indexed
 reservation_traces         | guest_id               | ✓ Indexed
 reservation_traces         | assigned_to            | ✓ Indexed
 reservation_traces         | completed_by           | ✓ Indexed
 reservation_traces         | tenant_id              | ✓ Indexed
 reservation_traces         | updated_by             | ✓ Indexed
 reservation_traces         | deleted_by             | ✓ Indexed
 reservation_traces         | created_by             | ✓ Indexed
 reservation_traces         | property_id            | ✓ Indexed
 reservation_traces         | reservation_id         | ✓ Indexed
 reservations               | property_id            | ✓ Indexed
 reservations               | rate_id                | ✓ Indexed
 reservations               | room_type_id           | ✓ Indexed
 reservations               | guest_id               | ✓ Indexed
 reservations               | tenant_id              | ✓ Indexed
 reservations               | property_id            | ✓ Indexed
 reservations               | property_id            | ✓ Indexed
 reservations               | property_id            | ✓ Indexed
 reservations               | property_id            | ✓ Indexed
 reservations               | property_id            | ✓ Indexed
 waitlist_entries           | tenant_id              | ✓ Indexed
 waitlist_entries           | property_id            | ✓ Indexed
 waitlist_entries           | reservation_id         | ✓ Indexed
 waitlist_entries           | guest_id               | ✓ Indexed
 waitlist_entries           | requested_room_type_id | ✓ Indexed
 waitlist_entries           | requested_rate_id      | ✓ Indexed
 waitlist_entries           | created_by             | ✓ Indexed
 waitlist_entries           | updated_by             | ✓ Indexed
 waitlist_entries           | deleted_by             | ✓ Indexed
(109 rows)


3. Checking partial indexes for soft delete...
     tablename      |                 indexname                 |        partial_index_status         
--------------------+-------------------------------------------+-------------------------------------
 allotments         | idx_allotments_account                    | ✓ Has soft delete filter
 allotments         | idx_allotments_code                       | ✓ Has soft delete filter
 allotments         | idx_allotments_cutoff                     | ✓ Has soft delete filter
 allotments         | idx_allotments_dates                      | ✓ Has soft delete filter
 allotments         | idx_allotments_room_type                  | ✓ Has soft delete filter
 allotments         | idx_allotments_status                     | ✓ Has soft delete filter
 allotments         | idx_allotments_tenant                     | ✓ Has soft delete filter
 allotments         | idx_uk_allotments_code                    | ✓ Has soft delete filter
 booking_sources    | idx_booking_sources_active                | ✓ Has soft delete filter
 booking_sources    | idx_booking_sources_code                  | ✓ Has soft delete filter
 booking_sources    | idx_booking_sources_integration           | ✓ Has soft delete filter
 booking_sources    | idx_booking_sources_tenant                | ✓ Has soft delete filter
 booking_sources    | idx_booking_sources_type                  | ✓ Has soft delete filter
 booking_sources    | idx_uk_booking_sources_code_active        | ✓ Has soft delete filter
 deposit_schedules  | idx_deposit_schedules_due_date            | ✓ Has soft delete filter
 deposit_schedules  | idx_deposit_schedules_folio               | ✓ Has soft delete filter
 deposit_schedules  | idx_deposit_schedules_guest               | ✓ Has soft delete filter
 deposit_schedules  | idx_deposit_schedules_overdue             | ✓ Has soft delete filter
 deposit_schedules  | idx_deposit_schedules_reservation         | ✓ Has soft delete filter
 deposit_schedules  | idx_deposit_schedules_status              | ✓ Has soft delete filter
 deposit_schedules  | idx_deposit_schedules_tenant              | ✓ Has soft delete filter
 deposit_schedules  | idx_uk_deposit_schedules_number           | ✓ Has soft delete filter
 guest_preferences  | idx_guest_preferences_active              | ✓ Has soft delete filter
 guest_preferences  | idx_guest_preferences_category            | ✓ Has soft delete filter
 guest_preferences  | idx_guest_preferences_guest               | ✓ Has soft delete filter
 guest_preferences  | idx_guest_preferences_mandatory           | ✓ Has soft delete filter
 guest_preferences  | idx_guest_preferences_property            | ✓ Has soft delete filter
 market_segments    | idx_market_segments_active                | ✓ Has soft delete filter
 market_segments    | idx_market_segments_code                  | ✓ Has soft delete filter
 market_segments    | idx_market_segments_parent                | ✓ Has soft delete filter
 market_segments    | idx_market_segments_tenant                | ✓ Has soft delete filter
 market_segments    | idx_market_segments_type                  | ✓ Has soft delete filter
 market_segments    | idx_uk_market_segments_code               | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_alert_channels     | ⚠ Has WHERE but not for soft delete
 reservation_traces | idx_reservation_traces_alert_trigger      | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_assigned_due       | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_completion         | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_created_by         | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_due_date           | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_guest              | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_property           | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_reservation_status | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_tenant             | ✓ Has soft delete filter
 reservation_traces | idx_reservation_traces_trace_type         | ✓ Has soft delete filter
 reservations       | idx_reservations_arrivals                 | ✓ Has soft delete filter
 reservations       | idx_reservations_balance_due              | ✓ Has soft delete filter
 reservations       | idx_reservations_cancellation_date        | ⚠ Has WHERE but not for soft delete
 reservations       | idx_reservations_channel_ref              | ✓ Has soft delete filter
 reservations       | idx_reservations_check_in                 | ✓ Has soft delete filter
 reservations       | idx_reservations_check_out                | ✓ Has soft delete filter
 reservations       | idx_reservations_confirmation             | ✓ Has soft delete filter
 reservations       | idx_reservations_dashboard                | ✓ Has soft delete filter
 reservations       | idx_reservations_dates                    | ✓ Has soft delete filter
 reservations       | idx_reservations_deleted_at               | ⚠ Has WHERE but not for soft delete
 reservations       | idx_reservations_departures               | ✓ Has soft delete filter
 reservations       | idx_reservations_guest_email              | ✓ Has soft delete filter
 reservations       | idx_reservations_guest_id                 | ✓ Has soft delete filter
 reservations       | idx_reservations_guest_name               | ✓ Has soft delete filter
 reservations       | idx_reservations_guest_name_trgm          | ✓ Has soft delete filter
 reservations       | idx_reservations_guest_phone              | ✓ Has soft delete filter
 reservations       | idx_reservations_in_house                 | ✓ Has soft delete filter
 reservations       | idx_reservations_no_show                  | ✓ Has soft delete filter
 reservations       | idx_reservations_no_show_date             | ⚠ Has WHERE but not for soft delete
 reservations       | idx_reservations_paid_amount              | ✓ Has soft delete filter
 reservations       | idx_reservations_promo_code               | ✓ Has soft delete filter
 reservations       | idx_reservations_property_id              | ✓ Has soft delete filter
 reservations       | idx_reservations_property_status          | ✓ Has soft delete filter
 reservations       | idx_reservations_rate_id                  | ✓ Has soft delete filter
 reservations       | idx_reservations_room_number              | ✓ Has soft delete filter
 reservations       | idx_reservations_room_type_id             | ✓ Has soft delete filter
 reservations       | idx_reservations_source                   | ✓ Has soft delete filter
 reservations       | idx_reservations_status                   | ✓ Has soft delete filter
 reservations       | idx_reservations_tenant_id                | ✓ Has soft delete filter
 reservations       | idx_reservations_total_amount             | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_arrival_departure    | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_guest_status         | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_last_notified        | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_offer_status         | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_priority             | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_reservation          | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_room_type            | ✓ Has soft delete filter
 waitlist_entries   | idx_waitlist_entries_tenant               | ✓ Has soft delete filter
(82 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/03-bookings/verify-03-reservations-booking-indexes.sql:220: NOTICE:  
psql:indexes/03-bookings/verify-03-reservations-booking-indexes.sql:220: NOTICE:  Category: Reservations & Booking
psql:indexes/03-bookings/verify-03-reservations-booking-indexes.sql:220: NOTICE:  Total Secondary Indexes: 137
psql:indexes/03-bookings/verify-03-reservations-booking-indexes.sql:220: NOTICE:  Tables with Indexes: 7 / 9
psql:indexes/03-bookings/verify-03-reservations-booking-indexes.sql:220: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/03-bookings/verify-03-reservations-booking-indexes.sql:220: NOTICE:  
psql:indexes/03-bookings/verify-03-reservations-booking-indexes.sql:220: WARNING:  ⚠⚠⚠ RESERVATIONS & BOOKING INDEX VERIFICATION ISSUES FOUND ⚠⚠⚠
DO

==============================================
Reservations & Booking index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  GUEST RELATIONS & CRM - INDEX VERIFICATION
  Tables: 7
==============================================

1. Index count by table...
        tablename        | total_indexes | primary_keys | secondary_indexes 
-------------------------+---------------+--------------+-------------------
 automated_messages      |            23 |            1 |                22
 communication_templates |            24 |            1 |                23
 guest_communications    |            23 |            1 |                22
 guest_documents         |            30 |            1 |                29
 guest_feedback          |            33 |            1 |                32
 guest_loyalty_programs  |            26 |            1 |                25
 guest_notes             |            29 |            1 |                28
(7 rows)


2. Checking if foreign key columns are indexed...
       table_name        |      column_name       |  status   
-------------------------+------------------------+-----------
 automated_messages      | property_id            | ✓ Indexed
 automated_messages      | property_id            | ✓ Indexed
 automated_messages      | template_id            | ✓ Indexed
 automated_messages      | fallback_template_id   | ✓ Indexed
 automated_messages      | created_by             | ✓ Indexed
 automated_messages      | updated_by             | ✓ Indexed
 automated_messages      | deleted_by             | ✓ Indexed
 automated_messages      | tenant_id              | ✓ Indexed
 automated_messages      | tenant_id              | ✓ Indexed
 communication_templates | property_id            | ✓ Indexed
 communication_templates | property_id            | ✓ Indexed
 communication_templates | property_id            | ✓ Indexed
 communication_templates | property_id            | ✓ Indexed
 communication_templates | tenant_id              | ✓ Indexed
 communication_templates | tenant_id              | ✓ Indexed
 communication_templates | tenant_id              | ✓ Indexed
 communication_templates | tenant_id              | ✓ Indexed
 communication_templates | tenant_id              | ✓ Indexed
 communication_templates | tenant_id              | ✓ Indexed
 communication_templates | created_by             | ✓ Indexed
 communication_templates | updated_by             | ✓ Indexed
 guest_communications    | guest_id               | ✓ Indexed
 guest_communications    | property_id            | ✓ Indexed
 guest_communications    | property_id            | ✓ Indexed
 guest_communications    | reservation_id         | ✓ Indexed
 guest_communications    | template_id            | ✓ Indexed
 guest_communications    | created_by             | ✓ Indexed
 guest_communications    | tenant_id              | ✓ Indexed
 guest_documents         | previous_version_id    | ✓ Indexed
 guest_documents         | last_viewed_by         | ✓ Indexed
 guest_documents         | uploaded_by            | ✓ Indexed
 guest_documents         | verified_by            | ✓ Indexed
 guest_documents         | deleted_by             | ✓ Indexed
 guest_documents         | reservation_id         | ✓ Indexed
 guest_documents         | guest_id               | ✓ Indexed
 guest_documents         | guest_id               | ✓ Indexed
 guest_documents         | property_id            | ✓ Indexed
 guest_documents         | property_id            | ✓ Indexed
 guest_documents         | property_id            | ✓ Indexed
 guest_documents         | tenant_id              | ✓ Indexed
 guest_documents         | updated_by             | ✓ Indexed
 guest_documents         | created_by             | ✓ Indexed
 guest_feedback          | guest_id               | ✓ Indexed
 guest_feedback          | tenant_id              | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | property_id            | ✓ Indexed
 guest_feedback          | reservation_id         | ✓ Indexed
 guest_feedback          | responded_by           | ✓ Indexed
 guest_feedback          | responded_by           | ✓ Indexed
 guest_loyalty_programs  | deleted_by             | ✓ Indexed
 guest_loyalty_programs  | updated_by             | ✓ Indexed
 guest_loyalty_programs  | created_by             | ✓ Indexed
 guest_loyalty_programs  | referred_by_guest_id   | ✓ Indexed
 guest_loyalty_programs  | enrollment_property_id | ✓ Indexed
 guest_loyalty_programs  | guest_id               | ✓ Indexed
 guest_loyalty_programs  | guest_id               | ✓ Indexed
 guest_loyalty_programs  | property_id            | ✓ Indexed
 guest_loyalty_programs  | property_id            | ✓ Indexed
 guest_loyalty_programs  | tenant_id              | ✓ Indexed
 guest_loyalty_programs  | tenant_id              | ✓ Indexed
 guest_notes             | resolved_by            | ✓ Indexed
 guest_notes             | created_by             | ✓ Indexed
 guest_notes             | updated_by             | ✓ Indexed
 guest_notes             | acknowledged_by        | ✓ Indexed
 guest_notes             | parent_note_id         | ✓ Indexed
 guest_notes             | deleted_by             | ✓ Indexed
 guest_notes             | tenant_id              | ✓ Indexed
 guest_notes             | property_id            | ✓ Indexed
 guest_notes             | property_id            | ✓ Indexed
 guest_notes             | property_id            | ✓ Indexed
 guest_notes             | property_id            | ✓ Indexed
 guest_notes             | guest_id               | ✓ Indexed
 guest_notes             | guest_id               | ✓ Indexed
 guest_notes             | reservation_id         | ✓ Indexed
 guest_notes             | assigned_to            | ✓ Indexed
(85 rows)


3. Checking partial indexes for soft delete...
        tablename        |                indexname                 |        partial_index_status         
-------------------------+------------------------------------------+-------------------------------------
 automated_messages      | idx_automated_messages_ab_test           | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_active            | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_channel           | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_code              | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_conditions        | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_last_sent         | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_metadata          | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_performance       | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_priority          | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_property          | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_property_active   | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_tags              | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_template          | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_tenant            | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_tenant_channel    | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_trigger           | ✓ Has soft delete filter
 automated_messages      | idx_automated_messages_trigger_active    | ✓ Has soft delete filter
 communication_templates | idx_comm_template_active                 | ✓ Has soft delete filter
 communication_templates | idx_comm_template_automated              | ✓ Has soft delete filter
 communication_templates | idx_comm_template_category               | ✓ Has soft delete filter
 communication_templates | idx_comm_template_code                   | ✓ Has soft delete filter
 communication_templates | idx_comm_template_code_language          | ✓ Has soft delete filter
 communication_templates | idx_comm_template_language               | ✓ Has soft delete filter
 communication_templates | idx_comm_template_last_used              | ✓ Has soft delete filter
 communication_templates | idx_comm_template_lookup                 | ✓ Has soft delete filter
 communication_templates | idx_comm_template_property               | ✓ Has soft delete filter
 communication_templates | idx_comm_template_tenant                 | ✓ Has soft delete filter
 communication_templates | idx_comm_template_tenant_property        | ✓ Has soft delete filter
 communication_templates | idx_comm_template_trigger_event          | ✓ Has soft delete filter
 communication_templates | idx_comm_template_type                   | ✓ Has soft delete filter
 communication_templates | idx_comm_template_usage                  | ✓ Has soft delete filter
 guest_communications    | idx_guest_comm_delivered                 | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_external_id               | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_failed                    | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_opened                    | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_pending                   | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_recipient_email           | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_recipient_phone           | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_reservation               | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_sent                      | ⚠ Has WHERE but not for soft delete
 guest_communications    | idx_guest_comm_template                  | ⚠ Has WHERE but not for soft delete
 guest_documents         | idx_guest_documents_access_level         | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_category             | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_expiry               | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_expiry_upcoming      | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_guest                | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_guest_type           | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_latest_version       | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_legal_hold           | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_metadata             | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_number               | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_pending_verification | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_pii                  | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_property             | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_property_expiry      | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_reservation          | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_retention            | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_tags                 | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_tenant               | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_type                 | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_uploaded_at          | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_verification_pending | ✓ Has soft delete filter
 guest_documents         | idx_guest_documents_verified             | ✓ Has soft delete filter
 guest_feedback          | idx_guest_feedback_external_id           | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_featured              | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_high_ratings          | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_low_ratings           | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_needs_response        | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_negative_sentiment    | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_property_avg          | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_property_performance  | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_public                | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_recommend             | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_responded             | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_return                | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_review_text           | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_review_title          | ⚠ Has WHERE but not for soft delete
 guest_feedback          | idx_guest_feedback_verified              | ⚠ Has WHERE but not for soft delete
 guest_loyalty_programs  | idx_guest_loyalty_programs_active        | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_benefits      | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_enrollment    | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_expiry        | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_guest         | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_guest_active  | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_last_activity | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_membership    | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_metadata      | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_points        | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_preferences   | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_property      | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_property_tier | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_status        | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_tags          | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_tenant        | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_tenant_tier   | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_tier          | ✓ Has soft delete filter
 guest_loyalty_programs  | idx_guest_loyalty_programs_tier_expiry   | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_action_required          | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_alert                    | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_alert_triggers           | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_alerts_active            | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_assigned_to              | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_category                 | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_created_at               | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_created_by               | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_followup                 | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_guest                    | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_guest_type               | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_metadata                 | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_parent                   | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_priority                 | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_property                 | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_property_status          | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_property_unresolved      | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_reservation              | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_severity                 | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_status                   | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_tags                     | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_tenant                   | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_type                     | ✓ Has soft delete filter
 guest_notes             | idx_guest_notes_unresolved               | ✓ Has soft delete filter
(121 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/03-bookings/verify-07-guest-crm-indexes.sql:172: NOTICE:  
psql:indexes/03-bookings/verify-07-guest-crm-indexes.sql:172: NOTICE:  Category: Guest Relations & CRM
psql:indexes/03-bookings/verify-07-guest-crm-indexes.sql:172: NOTICE:  Total Secondary Indexes: 181
psql:indexes/03-bookings/verify-07-guest-crm-indexes.sql:172: NOTICE:  Tables with Indexes: 7 / 7
psql:indexes/03-bookings/verify-07-guest-crm-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/03-bookings/verify-07-guest-crm-indexes.sql:172: NOTICE:  
psql:indexes/03-bookings/verify-07-guest-crm-indexes.sql:172: NOTICE:  ✓✓✓ GUEST RELATIONS & CRM INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Guest Relations & CRM index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  FINANCIAL MANAGEMENT - INDEX VERIFICATION
  Tables: 15
==============================================

1. Index count by table...
       tablename        | total_indexes | primary_keys | secondary_indexes 
------------------------+---------------+--------------+-------------------
 accounts_receivable    |            38 |            1 |                37
 cashier_sessions       |            33 |            1 |                32
 charge_postings        |            20 |            1 |                19
 commission_tracking    |            43 |            1 |                42
 credit_limits          |            35 |            1 |                34
 financial_closures     |            35 |            1 |                34
 folios                 |            17 |            1 |                16
 general_ledger_batches |            11 |            1 |                10
 general_ledger_entries |            13 |            1 |                12
 invoice_items          |            14 |            1 |                13
 invoices               |            31 |            1 |                30
 payment_tokens         |            14 |            1 |                13
 payments               |            29 |            1 |                28
 refunds                |            21 |            1 |                20
 tax_configurations     |            29 |            1 |                28
(15 rows)


2. Checking if foreign key columns are indexed...
       table_name       |          column_name           |  status   
------------------------+--------------------------------+-----------
 accounts_receivable    | reconciled_by                  | ✓ Indexed
 accounts_receivable    | collection_manager_id          | ✓ Indexed
 accounts_receivable    | account_manager_id             | ✓ Indexed
 accounts_receivable    | write_off_approved_by          | ✓ Indexed
 accounts_receivable    | written_off_by                 | ✓ Indexed
 accounts_receivable    | collection_agent_id            | ✓ Indexed
 accounts_receivable    | folio_id                       | ✓ Indexed
 accounts_receivable    | invoice_id                     | ✓ Indexed
 accounts_receivable    | reservation_id                 | ✓ Indexed
 accounts_receivable    | guest_id                       | ✓ Indexed
 accounts_receivable    | property_id                    | ✓ Indexed
 accounts_receivable    | property_id                    | ✓ Indexed
 accounts_receivable    | property_id                    | ✓ Indexed
 accounts_receivable    | property_id                    | ✓ Indexed
 accounts_receivable    | property_id                    | ✓ Indexed
 accounts_receivable    | tenant_id                      | ✓ Indexed
 accounts_receivable    | deleted_by                     | ✓ Indexed
 accounts_receivable    | updated_by                     | ✓ Indexed
 accounts_receivable    | created_by                     | ✓ Indexed
 cashier_sessions       | previous_session_id            | ✓ Indexed
 cashier_sessions       | property_id                    | ✓ Indexed
 cashier_sessions       | property_id                    | ✓ Indexed
 cashier_sessions       | property_id                    | ✓ Indexed
 cashier_sessions       | property_id                    | ✓ Indexed
 cashier_sessions       | cashier_id                     | ✓ Indexed
 cashier_sessions       | cashier_id                     | ✓ Indexed
 cashier_sessions       | reconciled_by                  | ✓ Indexed
 cashier_sessions       | audited_by                     | ✓ Indexed
 cashier_sessions       | approved_by                    | ✓ Indexed
 cashier_sessions       | tenant_id                      | ✓ Indexed
 cashier_sessions       | reviewed_by                    | ✓ Indexed
 cashier_sessions       | investigated_by                | ✓ Indexed
 cashier_sessions       | next_session_id                | ✓ Indexed
 cashier_sessions       | deleted_by                     | ✓ Indexed
 cashier_sessions       | updated_by                     | ✓ Indexed
 cashier_sessions       | created_by                     | ✓ Indexed
 charge_postings        | created_by                     | ✓ Indexed
 charge_postings        | updated_by                     | ✓ Indexed
 charge_postings        | tenant_id                      | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | property_id                    | ✓ Indexed
 charge_postings        | folio_id                       | ✓ Indexed
 charge_postings        | reservation_id                 | ✓ Indexed
 charge_postings        | guest_id                       | ✓ Indexed
 charge_postings        | original_posting_id            | ✓ Indexed
 charge_postings        | void_posting_id                | ✓ Indexed
 charge_postings        | transfer_from_folio_id         | ✓ Indexed
 charge_postings        | voided_by                      | ✓ Indexed
 charge_postings        | deleted_by                     | ✓ Indexed
 charge_postings        | transfer_to_folio_id           | ✓ Indexed
 commission_tracking    | property_id                    | ✓ Indexed
 commission_tracking    | tenant_id                      | ✓ Indexed
 commission_tracking    | contract_id                    | ✓ Indexed
 commission_tracking    | dispute_filed_by               | ✓ Indexed
 commission_tracking    | adjusted_by                    | ✓ Indexed
 commission_tracking    | original_commission_id         | ✓ Indexed
 commission_tracking    | reversed_by                    | ✓ Indexed
 commission_tracking    | primary_commission_id          | ✓ Indexed
 commission_tracking    | paid_by                        | ✓ Indexed
 commission_tracking    | approved_by                    | ✓ Indexed
 commission_tracking    | guest_id                       | ✓ Indexed
 commission_tracking    | payment_id                     | ✓ Indexed
 commission_tracking    | invoice_id                     | ✓ Indexed
 commission_tracking    | reservation_id                 | ✓ Indexed
 commission_tracking    | staff_id                       | ✓ Indexed
 commission_tracking    | staff_id                       | ✓ Indexed
 commission_tracking    | property_id                    | ✓ Indexed
 commission_tracking    | deleted_by                     | ✓ Indexed
 commission_tracking    | updated_by                     | ✓ Indexed
 commission_tracking    | created_by                     | ✓ Indexed
 commission_tracking    | parent_commission_id           | ✓ Indexed
 commission_tracking    | reconciled_by                  | ✓ Indexed
 credit_limits          | tenant_id                      | ✓ Indexed
 credit_limits          | property_id                    | ✓ Indexed
 credit_limits          | property_id                    | ✓ Indexed
 credit_limits          | property_id                    | ✓ Indexed
 credit_limits          | property_id                    | ✓ Indexed
 credit_limits          | guest_id                       | ✓ Indexed
 credit_limits          | temporary_increase_approved_by | ✓ Indexed
 credit_limits          | reviewed_by                    | ✓ Indexed
 credit_limits          | approved_by                    | ✓ Indexed
 credit_limits          | suspended_by                   | ✓ Indexed
 credit_limits          | blocked_by                     | ✓ Indexed
 credit_limits          | relationship_manager_id        | ✓ Indexed
 credit_limits          | created_by                     | ✓ Indexed
 credit_limits          | updated_by                     | ✓ Indexed
 credit_limits          | deleted_by                     | ✓ Indexed
 financial_closures     | audited_by                     | ✓ Indexed
 financial_closures     | tenant_id                      | ✓ Indexed
 financial_closures     | property_id                    | ✓ Indexed
 financial_closures     | property_id                    | ✓ Indexed
 financial_closures     | property_id                    | ✓ Indexed
 financial_closures     | property_id                    | ✓ Indexed
 financial_closures     | property_id                    | ✓ Indexed
 financial_closures     | property_id                    | ✓ Indexed
 financial_closures     | gl_posted_by                   | ✓ Indexed
 financial_closures     | approved_by                    | ✓ Indexed
 financial_closures     | reviewed_by                    | ✓ Indexed
 financial_closures     | verified_by                    | ✓ Indexed
 financial_closures     | reopened_by                    | ✓ Indexed
 financial_closures     | locked_by                      | ✓ Indexed
 financial_closures     | previous_closure_id            | ✓ Indexed
 financial_closures     | created_by                     | ✓ Indexed
 financial_closures     | updated_by                     | ✓ Indexed
 financial_closures     | deleted_by                     | ✓ Indexed
 folios                 | settled_by                     | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 folios                 | reservation_id                 | ✓ Indexed
 folios                 | guest_id                       | ✓ Indexed
 folios                 | transferred_from_folio_id      | ✓ Indexed
 folios                 | transferred_to_folio_id        | ✓ Indexed
 folios                 | created_by                     | ✓ Indexed
 folios                 | updated_by                     | ✓ Indexed
 folios                 | deleted_by                     | ✓ Indexed
 folios                 | tenant_id                      | ✓ Indexed
 folios                 | tenant_id                      | ✓ Indexed
 folios                 | tenant_id                      | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 folios                 | property_id                    | ✓ Indexed
 general_ledger_batches | deleted_by                     | ✓ Indexed
 general_ledger_batches | updated_by                     | ✓ Indexed
 general_ledger_batches | created_by                     | ✓ Indexed
 general_ledger_batches | exported_by                    | ✓ Indexed
 general_ledger_batches | property_id                    | ✓ Indexed
 general_ledger_batches | property_id                    | ✓ Indexed
 general_ledger_batches | tenant_id                      | ✓ Indexed
 general_ledger_batches | tenant_id                      | ✓ Indexed
 general_ledger_entries | deleted_by                     | ✓ Indexed
 general_ledger_entries | gl_batch_id                    | ✓ Indexed
 general_ledger_entries | tenant_id                      | ✓ Indexed
 general_ledger_entries | property_id                    | ✓ Indexed
 general_ledger_entries | folio_id                       | ✓ Indexed
 general_ledger_entries | reservation_id                 | ✓ Indexed
 general_ledger_entries | posted_by                      | ✓ Indexed
 general_ledger_entries | created_by                     | ✓ Indexed
 general_ledger_entries | updated_by                     | ✓ Indexed
 invoice_items          | invoice_id                     | ✓ Indexed
 invoice_items          | invoice_id                     | ✓ Indexed
 invoice_items          | invoice_id                     | ✓ Indexed
 invoice_items          | tenant_id                      | ✓ Indexed
 invoices               | property_id                    | ✓ Indexed
 invoices               | property_id                    | ✓ Indexed
 invoices               | property_id                    | ✓ Indexed
 invoices               | tenant_id                      | ✓ Indexed
 invoices               | guest_id                       | ✓ Indexed
 invoices               | guest_id                       | ✓ Indexed
 invoices               | reservation_id                 | ✓ Indexed
 invoices               | property_id                    | ✓ Indexed
 payment_tokens         | property_id                    | ✓ Indexed
 payment_tokens         | guest_id                       | ✓ Indexed
 payment_tokens         | company_id                     | ✓ Indexed
 payment_tokens         | deleted_by                     | ✓ Indexed
 payment_tokens         | updated_by                     | ✓ Indexed
 payment_tokens         | created_by                     | ✓ Indexed
 payment_tokens         | tenant_id                      | ✓ Indexed
 payment_tokens         | tenant_id                      | ✓ Indexed
 payments               | reservation_id                 | ✓ Indexed
 payments               | guest_id                       | ✓ Indexed
 payments               | tenant_id                      | ✓ Indexed
 payments               | payment_token_id               | ✓ Indexed
 payments               | property_id                    | ✓ Indexed
 payments               | property_id                    | ✓ Indexed
 payments               | reservation_id                 | ✓ Indexed
 refunds                | tenant_id                      | ✓ Indexed
 refunds                | reservation_id                 | ✓ Indexed
 refunds                | guest_id                       | ✓ Indexed
 refunds                | folio_id                       | ✓ Indexed
 refunds                | original_payment_id            | ✓ Indexed
 refunds                | original_posting_id            | ✓ Indexed
 refunds                | parent_refund_id               | ✓ Indexed
 refunds                | created_by                     | ✓ Indexed
 refunds                | updated_by                     | ✓ Indexed
 refunds                | requested_by                   | ✓ Indexed
 refunds                | approved_by                    | ✓ Indexed
 refunds                | rejected_by                    | ✓ Indexed
 refunds                | processing_started_by          | ✓ Indexed
 refunds                | processed_by                   | ✓ Indexed
 refunds                | deleted_by                     | ✓ Indexed
 refunds                | property_id                    | ✓ Indexed
 refunds                | property_id                    | ✓ Indexed
 refunds                | property_id                    | ✓ Indexed
 refunds                | property_id                    | ✓ Indexed
 refunds                | property_id                    | ✓ Indexed
 refunds                | tenant_id                      | ✓ Indexed
 refunds                | tenant_id                      | ✓ Indexed
 refunds                | property_id                    | ✓ Indexed
 tax_configurations     | created_by                     | ✓ Indexed
 tax_configurations     | updated_by                     | ✓ Indexed
 tax_configurations     | deleted_by                     | ✓ Indexed
 tax_configurations     | tenant_id                      | ✓ Indexed
 tax_configurations     | property_id                    | ✓ Indexed
 tax_configurations     | property_id                    | ✓ Indexed
 tax_configurations     | property_id                    | ✓ Indexed
 tax_configurations     | property_id                    | ✓ Indexed
 tax_configurations     | composite_tax_id               | ✓ Indexed
 tax_configurations     | replaced_by_config_id          | ✓ Indexed
 tax_configurations     | replaces_config_id             | ✓ Indexed
 tax_configurations     | approved_by                    | ✓ Indexed
(209 rows)


3. Checking partial indexes for soft delete...
       tablename        |                  indexname                  |        partial_index_status         
------------------------+---------------------------------------------+-------------------------------------
 accounts_receivable    | idx_accounts_receivable_account             | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_aging               | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_collection          | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_company             | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_disputed            | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_due_date            | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_gl_posted           | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_guest               | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_invoice             | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_legal               | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_manager             | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_metadata            | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_number              | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_outstanding         | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_overdue             | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_payment_plan        | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_priority            | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_property            | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_property_aging      | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_property_collection | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_property_overdue    | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_reservation         | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_source              | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_status              | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_tags                | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_tenant              | ✓ Has soft delete filter
 accounts_receivable    | idx_accounts_receivable_written_off         | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_approval               | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_bank_deposit           | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_business_date          | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_cashier                | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_cashier_date           | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_closed_at              | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_discrepancy            | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_metadata               | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_number                 | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_open                   | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_opened_at              | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_previous               | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_property               | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_property_date          | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_property_open          | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_reconciled             | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_status                 | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_tags                   | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_tenant                 | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_terminal               | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_unreconciled           | ✓ Has soft delete filter
 cashier_sessions       | idx_cashier_sessions_variance               | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_business_date           | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_department              | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_folio                   | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_guest                   | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_posting_date            | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_reconciliation          | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_reservation             | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_source                  | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_tenant                  | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_transaction_type        | ✓ Has soft delete filter
 charge_postings        | idx_charge_postings_voided                  | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_agent               | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_approval            | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_beneficiary         | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_beneficiary_period  | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_disputed            | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_fiscal              | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_gl_posted           | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_metadata            | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_number              | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_parent              | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_payment_cycle       | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_payment_due         | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_payment_status      | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_property            | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_property_pending    | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_reconciled          | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_reservation         | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_reversed            | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_source              | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_split               | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_staff               | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_staff_unpaid        | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_status              | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_tags                | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_tenant              | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_transaction_date    | ✓ Has soft delete filter
 commission_tracking    | idx_commission_tracking_type                | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_account                   | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_account_active            | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_active                    | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_approval                  | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_block                     | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_blocked                   | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_company                   | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_credit_check_expiry       | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_effective                 | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_guest                     | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_metadata                  | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_overdue                   | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_property                  | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_property_active           | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_property_risk             | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_property_utilization      | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_relationship_manager      | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_review                    | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_risk                      | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_status                    | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_suspended                 | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_tags                      | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_temp_increase             | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_tenant                    | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_utilization               | ✓ Has soft delete filter
 credit_limits          | idx_credit_limits_warning                   | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_approval             | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_approved_by          | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_business_date        | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_closed               | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_exceptions           | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_fiscal_year          | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_gl_posted            | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_locked               | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_metadata             | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_number               | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_open                 | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_pending_approval     | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_period               | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_previous             | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_property             | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_property_date        | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_property_fiscal      | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_property_type_status | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_reconciled           | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_status               | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_tags                 | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_tenant               | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_type                 | ✓ Has soft delete filter
 financial_closures     | idx_financial_closures_variances            | ✓ Has soft delete filter
 folios                 | idx_folios_balance                          | ✓ Has soft delete filter
 folios                 | idx_folios_created                          | ✓ Has soft delete filter
 folios                 | idx_folios_guest                            | ✓ Has soft delete filter
 folios                 | idx_folios_number                           | ✓ Has soft delete filter
 folios                 | idx_folios_property                         | ✓ Has soft delete filter
 folios                 | idx_folios_reservation                      | ✓ Has soft delete filter
 folios                 | idx_folios_status                           | ✓ Has soft delete filter
 folios                 | idx_folios_tenant                           | ✓ Has soft delete filter
 folios                 | idx_folios_type                             | ✓ Has soft delete filter
 general_ledger_batches | idx_gl_batches_batch_date                   | ✓ Has soft delete filter
 general_ledger_batches | idx_gl_batches_exported                     | ✓ Has soft delete filter
 general_ledger_batches | idx_gl_batches_source_status                | ✓ Has soft delete filter
 general_ledger_batches | idx_gl_batches_tenant                       | ✓ Has soft delete filter
 general_ledger_batches | idx_gl_batches_variance                     | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_account                      | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_batch                        | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_currency                     | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_folio                        | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_reservation                  | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_source                       | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_status                       | ✓ Has soft delete filter
 general_ledger_entries | idx_gl_entries_tenant_posting               | ✓ Has soft delete filter
 invoice_items          | idx_invoice_items_item_code                 | ⚠ Has WHERE but not for soft delete
 invoice_items          | idx_invoice_items_reference_id              | ⚠ Has WHERE but not for soft delete
 invoice_items          | idx_invoice_items_reference_type            | ⚠ Has WHERE but not for soft delete
 invoice_items          | idx_invoice_items_service_date              | ⚠ Has WHERE but not for soft delete
 invoices               | idx_invoices_balance_due                    | ✓ Has soft delete filter
 invoices               | idx_invoices_billing_from                   | ⚠ Has WHERE but not for soft delete
 invoices               | idx_invoices_billing_to                     | ⚠ Has WHERE but not for soft delete
 invoices               | idx_invoices_currency                       | ✓ Has soft delete filter
 invoices               | idx_invoices_deleted_at                     | ⚠ Has WHERE but not for soft delete
 invoices               | idx_invoices_due_date                       | ✓ Has soft delete filter
 invoices               | idx_invoices_guest_date                     | ✓ Has soft delete filter
 invoices               | idx_invoices_guest_id                       | ✓ Has soft delete filter
 invoices               | idx_invoices_invoice_date                   | ✓ Has soft delete filter
 invoices               | idx_invoices_number                         | ✓ Has soft delete filter
 invoices               | idx_invoices_overdue                        | ✓ Has soft delete filter
 invoices               | idx_invoices_paid_amount                    | ✓ Has soft delete filter
 invoices               | idx_invoices_pdf_generated                  | ⚠ Has WHERE but not for soft delete
 invoices               | idx_invoices_property_date                  | ✓ Has soft delete filter
 invoices               | idx_invoices_property_id                    | ✓ Has soft delete filter
 invoices               | idx_invoices_property_status                | ✓ Has soft delete filter
 invoices               | idx_invoices_reservation_id                 | ✓ Has soft delete filter
 invoices               | idx_invoices_sent_at                        | ⚠ Has WHERE but not for soft delete
 invoices               | idx_invoices_sent_to                        | ⚠ Has WHERE but not for soft delete
 invoices               | idx_invoices_status                         | ✓ Has soft delete filter
 invoices               | idx_invoices_tenant_id                      | ✓ Has soft delete filter
 invoices               | idx_invoices_total_amount                   | ✓ Has soft delete filter
 invoices               | idx_invoices_type                           | ✓ Has soft delete filter
 invoices               | idx_invoices_unpaid                         | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_billing_address          | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_company                  | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_fingerprint              | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_guest                    | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_last_used                | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_metadata                 | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_property                 | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_tenant                   | ✓ Has soft delete filter
 payment_tokens         | idx_payment_tokens_vault                    | ✓ Has soft delete filter
 payments               | idx_payments_amount                         | ✓ Has soft delete filter
 payments               | idx_payments_card_last4                     | ⚠ Has WHERE but not for soft delete
 payments               | idx_payments_card_type                      | ⚠ Has WHERE but not for soft delete
 payments               | idx_payments_currency                       | ✓ Has soft delete filter
 payments               | idx_payments_deleted_at                     | ⚠ Has WHERE but not for soft delete
 payments               | idx_payments_external_transaction           | ✓ Has soft delete filter
 payments               | idx_payments_failed                         | ✓ Has soft delete filter
 payments               | idx_payments_gateway                        | ✓ Has soft delete filter
 payments               | idx_payments_guest_id                       | ✓ Has soft delete filter
 payments               | idx_payments_payment_method                 | ✓ Has soft delete filter
 payments               | idx_payments_pending                        | ✓ Has soft delete filter
 payments               | idx_payments_processed_at                   | ⚠ Has WHERE but not for soft delete
 payments               | idx_payments_property_date                  | ✓ Has soft delete filter
 payments               | idx_payments_property_id                    | ✓ Has soft delete filter
 payments               | idx_payments_reference                      | ✓ Has soft delete filter
 payments               | idx_payments_refund_amount                  | ✓ Has soft delete filter
 payments               | idx_payments_refund_date                    | ⚠ Has WHERE but not for soft delete
 payments               | idx_payments_reservation_id                 | ✓ Has soft delete filter
 payments               | idx_payments_reservation_status             | ✓ Has soft delete filter
 payments               | idx_payments_status                         | ✓ Has soft delete filter
 payments               | idx_payments_tenant_id                      | ✓ Has soft delete filter
 payments               | idx_payments_transaction_type               | ✓ Has soft delete filter
 refunds                | idx_refunds_approval                        | ✓ Has soft delete filter
 refunds                | idx_refunds_folio                           | ✓ Has soft delete filter
 refunds                | idx_refunds_guest                           | ✓ Has soft delete filter
 refunds                | idx_refunds_requested                       | ✓ Has soft delete filter
 refunds                | idx_refunds_reservation                     | ✓ Has soft delete filter
 refunds                | idx_refunds_status                          | ✓ Has soft delete filter
 refunds                | idx_refunds_tenant                          | ✓ Has soft delete filter
 refunds                | idx_uk_refunds_number                       | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_active                      | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_applies_to                  | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_approval                    | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_certificate_expiry          | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_code                        | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_composite                   | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_country                     | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_effective                   | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_filing                      | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_jurisdiction                | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_lookup                      | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_metadata                    | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_property                    | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_property_active             | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_property_type               | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_registration_expiry         | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_remittance                  | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_tags                        | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_tenant                      | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_tier_ranges                 | ✓ Has soft delete filter
 tax_configurations     | idx_tax_configs_type                        | ✓ Has soft delete filter
(247 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/04-financial/verify-04-financial-management-indexes.sql:266: NOTICE:  
psql:indexes/04-financial/verify-04-financial-management-indexes.sql:266: NOTICE:  Category: Financial Management
psql:indexes/04-financial/verify-04-financial-management-indexes.sql:266: NOTICE:  Total Secondary Indexes: 368
psql:indexes/04-financial/verify-04-financial-management-indexes.sql:266: NOTICE:  Tables with Indexes: 15 / 15
psql:indexes/04-financial/verify-04-financial-management-indexes.sql:266: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/04-financial/verify-04-financial-management-indexes.sql:266: NOTICE:  
psql:indexes/04-financial/verify-04-financial-management-indexes.sql:266: NOTICE:  ✓✓✓ FINANCIAL MANAGEMENT INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Financial Management index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  SERVICES & HOUSEKEEPING - INDEX VERIFICATION
  Tables: 6
==============================================

1. Index count by table...
      tablename       | total_indexes | primary_keys | secondary_indexes 
----------------------+---------------+--------------+-------------------
 housekeeping_tasks   |            28 |            1 |                27
 maintenance_requests |            22 |            1 |                21
 reservation_services |            19 |            1 |                18
 services             |            25 |            1 |                24
 spa_appointments     |            17 |            1 |                16
 spa_treatments       |            13 |            1 |                12
(6 rows)


2. Checking if foreign key columns are indexed...
      table_name      |      column_name       |  status   
----------------------+------------------------+-----------
 housekeeping_tasks   | property_id            | ✓ Indexed
 housekeeping_tasks   | property_id            | ✓ Indexed
 housekeeping_tasks   | property_id            | ✓ Indexed
 housekeeping_tasks   | tenant_id              | ✓ Indexed
 housekeeping_tasks   | property_id            | ✓ Indexed
 housekeeping_tasks   | property_id            | ✓ Indexed
 maintenance_requests | deleted_by             | ✓ Indexed
 maintenance_requests | assigned_by            | ✓ Indexed
 maintenance_requests | escalated_to           | ✓ Indexed
 maintenance_requests | cancelled_by           | ✓ Indexed
 maintenance_requests | tenant_id              | ✓ Indexed
 maintenance_requests | tenant_id              | ✓ Indexed
 maintenance_requests | tenant_id              | ✓ Indexed
 maintenance_requests | property_id            | ✓ Indexed
 maintenance_requests | property_id            | ✓ Indexed
 maintenance_requests | property_id            | ✓ Indexed
 maintenance_requests | property_id            | ✓ Indexed
 maintenance_requests | property_id            | ✓ Indexed
 maintenance_requests | property_id            | ✓ Indexed
 maintenance_requests | property_id            | ✓ Indexed
 maintenance_requests | room_id                | ✓ Indexed
 maintenance_requests | room_id                | ✓ Indexed
 maintenance_requests | reservation_id         | ✓ Indexed
 maintenance_requests | guest_id               | ✓ Indexed
 maintenance_requests | created_by             | ✓ Indexed
 maintenance_requests | previous_request_id    | ✓ Indexed
 maintenance_requests | updated_by             | ✓ Indexed
 maintenance_requests | reported_by            | ✓ Indexed
 maintenance_requests | assigned_to            | ✓ Indexed
 maintenance_requests | completed_by           | ✓ Indexed
 maintenance_requests | verified_by            | ✓ Indexed
 reservation_services | reservation_id         | ✓ Indexed
 reservation_services | reservation_id         | ✓ Indexed
 reservation_services | service_id             | ✓ Indexed
 reservation_services | tenant_id              | ✓ Indexed
 services             | tenant_id              | ✓ Indexed
 services             | property_id            | ✓ Indexed
 services             | property_id            | ✓ Indexed
 services             | property_id            | ✓ Indexed
 services             | property_id            | ✓ Indexed
 services             | property_id            | ✓ Indexed
 spa_appointments     | deleted_by             | ✓ Indexed
 spa_appointments     | reservation_id         | ✓ Indexed
 spa_appointments     | folio_id               | ✓ Indexed
 spa_appointments     | primary_therapist_id   | ✓ Indexed
 spa_appointments     | secondary_therapist_id | ✓ Indexed
 spa_appointments     | room_id                | ✓ Indexed
 spa_appointments     | cancelled_by           | ✓ Indexed
 spa_appointments     | created_by             | ✓ Indexed
 spa_appointments     | updated_by             | ✓ Indexed
 spa_appointments     | tenant_id              | ✓ Indexed
 spa_appointments     | property_id            | ✓ Indexed
 spa_appointments     | treatment_id           | ✓ Indexed
 spa_appointments     | guest_id               | ✓ Indexed
 spa_treatments       | tenant_id              | ✓ Indexed
 spa_treatments       | property_id            | ✓ Indexed
 spa_treatments       | property_id            | ✓ Indexed
 spa_treatments       | default_room_id        | ✓ Indexed
 spa_treatments       | created_by             | ✓ Indexed
 spa_treatments       | updated_by             | ✓ Indexed
 spa_treatments       | deleted_by             | ✓ Indexed
 spa_treatments       | tenant_id              | ✓ Indexed
(62 rows)


3. Checking partial indexes for soft delete...
      tablename       |                indexname                |        partial_index_status         
----------------------+-----------------------------------------+-------------------------------------
 housekeeping_tasks   | idx_hk_tasks_assigned_at                | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_assigned_to                | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_completed_at               | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_credits                    | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_deleted_at                 | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_guest_id                   | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_guest_request              | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_inspected_at               | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_inspected_by               | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_inspection_passed          | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_pending                    | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_priority                   | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_property_date              | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_property_id                | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_property_room              | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_property_status            | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_room_number                | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_scheduled_date             | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_scheduled_time             | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_staff_today                | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_started_at                 | ⚠ Has WHERE but not for soft delete
 housekeeping_tasks   | idx_hk_tasks_status                     | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_task_type                  | ✓ Has soft delete filter
 housekeeping_tasks   | idx_hk_tasks_tenant_id                  | ✓ Has soft delete filter
 maintenance_requests | idx_maintenance_assigned                | ✓ Has soft delete filter
 maintenance_requests | idx_maintenance_category                | ✓ Has soft delete filter
 maintenance_requests | idx_maintenance_oos                     | ✓ Has soft delete filter
 maintenance_requests | idx_maintenance_priority                | ✓ Has soft delete filter
 maintenance_requests | idx_maintenance_room                    | ✓ Has soft delete filter
 maintenance_requests | idx_maintenance_status                  | ✓ Has soft delete filter
 maintenance_requests | idx_maintenance_tenant                  | ✓ Has soft delete filter
 maintenance_requests | idx_uk_maintenance_requests_number      | ✓ Has soft delete filter
 reservation_services | idx_res_services_assigned_to            | ✓ Has soft delete filter
 reservation_services | idx_res_services_booking_date           | ⚠ Has WHERE but not for soft delete
 reservation_services | idx_res_services_completed              | ⚠ Has WHERE but not for soft delete
 reservation_services | idx_res_services_deleted_at             | ⚠ Has WHERE but not for soft delete
 reservation_services | idx_res_services_reservation_date       | ✓ Has soft delete filter
 reservation_services | idx_res_services_reservation_id         | ✓ Has soft delete filter
 reservation_services | idx_res_services_scheduled              | ✓ Has soft delete filter
 reservation_services | idx_res_services_service_code           | ⚠ Has WHERE but not for soft delete
 reservation_services | idx_res_services_service_date           | ✓ Has soft delete filter
 reservation_services | idx_res_services_service_id             | ✓ Has soft delete filter
 reservation_services | idx_res_services_service_time           | ⚠ Has WHERE but not for soft delete
 reservation_services | idx_res_services_staff_pending          | ✓ Has soft delete filter
 reservation_services | idx_res_services_status                 | ✓ Has soft delete filter
 reservation_services | idx_res_services_tenant_id              | ✓ Has soft delete filter
 reservation_services | idx_res_services_total_price            | ✓ Has soft delete filter
 services             | idx_services_bookable                   | ✓ Has soft delete filter
 services             | idx_services_category                   | ✓ Has soft delete filter
 services             | idx_services_code                       | ✓ Has soft delete filter
 services             | idx_services_currency                   | ✓ Has soft delete filter
 services             | idx_services_deleted_at                 | ⚠ Has WHERE but not for soft delete
 services             | idx_services_display_order              | ✓ Has soft delete filter
 services             | idx_services_is_active                  | ✓ Has soft delete filter
 services             | idx_services_is_available               | ✓ Has soft delete filter
 services             | idx_services_is_taxable                 | ✓ Has soft delete filter
 services             | idx_services_name                       | ✓ Has soft delete filter
 services             | idx_services_name_trgm                  | ✓ Has soft delete filter
 services             | idx_services_price                      | ✓ Has soft delete filter
 services             | idx_services_property_category          | ✓ Has soft delete filter
 services             | idx_services_property_code              | ✓ Has soft delete filter
 services             | idx_services_property_id                | ✓ Has soft delete filter
 services             | idx_services_requires_booking           | ✓ Has soft delete filter
 services             | idx_services_subcategory                | ✓ Has soft delete filter
 services             | idx_services_tenant_id                  | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_guest              | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_metadata           | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_payment_status     | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_required_resources | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_reservation        | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_room               | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_status             | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_tenant_date        | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_therapist          | ✓ Has soft delete filter
 spa_appointments     | idx_spa_appointments_treatment_start    | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_availability         | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_available_days       | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_category             | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_default_room         | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_duration             | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_metadata             | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_required_resources   | ✓ Has soft delete filter
 spa_treatments       | idx_spa_treatments_tenant               | ✓ Has soft delete filter
(83 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/05-operations/verify-05-services-housekeeping-indexes.sql:212: NOTICE:  
psql:indexes/05-operations/verify-05-services-housekeeping-indexes.sql:212: NOTICE:  Category: Services & Housekeeping
psql:indexes/05-operations/verify-05-services-housekeeping-indexes.sql:212: NOTICE:  Total Secondary Indexes: 118
psql:indexes/05-operations/verify-05-services-housekeeping-indexes.sql:212: NOTICE:  Tables with Indexes: 6 / 6
psql:indexes/05-operations/verify-05-services-housekeeping-indexes.sql:212: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/05-operations/verify-05-services-housekeeping-indexes.sql:212: NOTICE:  
psql:indexes/05-operations/verify-05-services-housekeeping-indexes.sql:212: NOTICE:  ✓✓✓ SERVICES & HOUSEKEEPING INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Services & Housekeeping index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  STAFF & OPERATIONS - INDEX VERIFICATION
  Tables: 6
==============================================

1. Index count by table...
    tablename     | total_indexes | primary_keys | secondary_indexes 
------------------+---------------+--------------+-------------------
 incident_reports |            42 |            1 |                41
 lost_and_found   |            35 |            1 |                34
 shift_handovers  |            30 |            1 |                29
 staff_schedules  |            38 |            1 |                37
 staff_tasks      |            44 |            1 |                43
 vendor_contracts |            38 |            1 |                37
(6 rows)


2. Checking if foreign key columns are indexed...
    table_name    |        column_name        |  status   
------------------+---------------------------+-----------
 incident_reports | deleted_by                | ✓ Indexed
 incident_reports | updated_by                | ✓ Indexed
 incident_reports | created_by                | ✓ Indexed
 incident_reports | closed_by                 | ✓ Indexed
 incident_reports | approved_by               | ✓ Indexed
 incident_reports | reviewed_by               | ✓ Indexed
 incident_reports | management_id             | ✓ Indexed
 incident_reports | verified_by               | ✓ Indexed
 incident_reports | investigated_by           | ✓ Indexed
 incident_reports | first_responder           | ✓ Indexed
 incident_reports | discovered_by             | ✓ Indexed
 incident_reports | guest_id                  | ✓ Indexed
 incident_reports | room_id                   | ✓ Indexed
 incident_reports | property_id               | ✓ Indexed
 incident_reports | tenant_id                 | ✓ Indexed
 incident_reports | property_id               | ✓ Indexed
 incident_reports | property_id               | ✓ Indexed
 incident_reports | property_id               | ✓ Indexed
 incident_reports | property_id               | ✓ Indexed
 lost_and_found   | guest_id                  | ✓ Indexed
 lost_and_found   | tenant_id                 | ✓ Indexed
 lost_and_found   | property_id               | ✓ Indexed
 lost_and_found   | property_id               | ✓ Indexed
 lost_and_found   | property_id               | ✓ Indexed
 lost_and_found   | property_id               | ✓ Indexed
 lost_and_found   | room_id                   | ✓ Indexed
 lost_and_found   | guest_id                  | ✓ Indexed
 lost_and_found   | reservation_id            | ✓ Indexed
 lost_and_found   | found_by                  | ✓ Indexed
 lost_and_found   | stored_by                 | ✓ Indexed
 lost_and_found   | claimed_by_guest_id       | ✓ Indexed
 lost_and_found   | verified_by               | ✓ Indexed
 lost_and_found   | returned_by               | ✓ Indexed
 lost_and_found   | deleted_by                | ✓ Indexed
 lost_and_found   | updated_by                | ✓ Indexed
 lost_and_found   | created_by                | ✓ Indexed
 lost_and_found   | approved_by               | ✓ Indexed
 lost_and_found   | disposed_by               | ✓ Indexed
 shift_handovers  | property_id               | ✓ Indexed
 shift_handovers  | property_id               | ✓ Indexed
 shift_handovers  | outgoing_user_id          | ✓ Indexed
 shift_handovers  | incoming_user_id          | ✓ Indexed
 shift_handovers  | acknowledged_by           | ✓ Indexed
 shift_handovers  | tenant_id                 | ✓ Indexed
 shift_handovers  | property_id               | ✓ Indexed
 shift_handovers  | property_id               | ✓ Indexed
 shift_handovers  | manager_id                | ✓ Indexed
 shift_handovers  | deleted_by                | ✓ Indexed
 shift_handovers  | updated_by                | ✓ Indexed
 shift_handovers  | created_by                | ✓ Indexed
 shift_handovers  | previous_handover_id      | ✓ Indexed
 staff_schedules  | tenant_id                 | ✓ Indexed
 staff_schedules  | property_id               | ✓ Indexed
 staff_schedules  | property_id               | ✓ Indexed
 staff_schedules  | property_id               | ✓ Indexed
 staff_schedules  | property_id               | ✓ Indexed
 staff_schedules  | user_id                   | ✓ Indexed
 staff_schedules  | user_id                   | ✓ Indexed
 staff_schedules  | replacing_user_id         | ✓ Indexed
 staff_schedules  | swap_requested_by         | ✓ Indexed
 staff_schedules  | swap_requested_with       | ✓ Indexed
 staff_schedules  | swap_approved_by          | ✓ Indexed
 staff_schedules  | overtime_approved_by      | ✓ Indexed
 staff_schedules  | leave_approved_by         | ✓ Indexed
 staff_schedules  | published_by              | ✓ Indexed
 staff_schedules  | approved_by               | ✓ Indexed
 staff_schedules  | parent_schedule_id        | ✓ Indexed
 staff_schedules  | created_by                | ✓ Indexed
 staff_schedules  | updated_by                | ✓ Indexed
 staff_schedules  | deleted_by                | ✓ Indexed
 staff_tasks      | deleted_by                | ✓ Indexed
 staff_tasks      | updated_by                | ✓ Indexed
 staff_tasks      | created_by                | ✓ Indexed
 staff_tasks      | parent_task_id            | ✓ Indexed
 staff_tasks      | approved_by               | ✓ Indexed
 staff_tasks      | escalated_to              | ✓ Indexed
 staff_tasks      | blocked_by                | ✓ Indexed
 staff_tasks      | verified_by               | ✓ Indexed
 staff_tasks      | completed_by              | ✓ Indexed
 staff_tasks      | accepted_by               | ✓ Indexed
 staff_tasks      | housekeeping_task_id      | ✓ Indexed
 staff_tasks      | guest_id                  | ✓ Indexed
 staff_tasks      | reservation_id            | ✓ Indexed
 staff_tasks      | room_id                   | ✓ Indexed
 staff_tasks      | delegated_from            | ✓ Indexed
 staff_tasks      | assigned_by               | ✓ Indexed
 staff_tasks      | assigned_to               | ✓ Indexed
 staff_tasks      | assigned_to               | ✓ Indexed
 staff_tasks      | assigned_to               | ✓ Indexed
 staff_tasks      | property_id               | ✓ Indexed
 staff_tasks      | property_id               | ✓ Indexed
 staff_tasks      | property_id               | ✓ Indexed
 staff_tasks      | property_id               | ✓ Indexed
 staff_tasks      | tenant_id                 | ✓ Indexed
 vendor_contracts | tenant_id                 | ✓ Indexed
 vendor_contracts | property_id               | ✓ Indexed
 vendor_contracts | property_id               | ✓ Indexed
 vendor_contracts | property_id               | ✓ Indexed
 vendor_contracts | property_id               | ✓ Indexed
 vendor_contracts | contract_owner            | ✓ Indexed
 vendor_contracts | approver_id               | ✓ Indexed
 vendor_contracts | approved_by               | ✓ Indexed
 vendor_contracts | legal_reviewed_by         | ✓ Indexed
 vendor_contracts | terminated_by             | ✓ Indexed
 vendor_contracts | parent_contract_id        | ✓ Indexed
 vendor_contracts | supersedes_contract_id    | ✓ Indexed
 vendor_contracts | superseded_by_contract_id | ✓ Indexed
 vendor_contracts | created_by                | ✓ Indexed
 vendor_contracts | updated_by                | ✓ Indexed
 vendor_contracts | deleted_by                | ✓ Indexed
(110 rows)


3. Checking partial indexes for soft delete...
    tablename     |                indexname                |   partial_index_status   
------------------+-----------------------------------------+--------------------------
 incident_reports | idx_incident_reports_closed             | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_confidential       | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_corrective_actions | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_date               | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_datetime           | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_fatality           | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_follow_up          | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_guest              | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_injuries           | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_insurance          | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_investigation      | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_legal              | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_metadata           | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_number             | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_open               | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_osha               | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_property           | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_property_date      | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_property_status    | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_property_type      | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_recent_open        | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_regulatory         | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_room               | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_severity           | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_status             | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_tags               | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_tenant             | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_type               | ✓ Has soft delete filter
 incident_reports | idx_incident_reports_witnesses          | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_category             | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_claimed              | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_disposal_due         | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_found_by             | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_found_date           | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_guest                | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_guest_items          | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_guest_notified       | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_item_number          | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_metadata             | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_pending_claims       | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_property             | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_property_status      | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_property_unclaimed   | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_recent               | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_reservation          | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_room                 | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_shipped              | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_status               | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_storage_location     | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_tags                 | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_tenant               | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_unclaimed            | ✓ Has soft delete filter
 lost_and_found   | idx_lost_and_found_valuable             | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_acknowledged        | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_date                | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_date_shift          | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_department          | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_escalated           | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_follow_up           | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_guest_issues        | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_incoming_user       | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_maintenance_issues  | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_manager_review      | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_metadata            | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_number              | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_outgoing_user       | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_pending             | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_property            | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_property_date       | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_property_department | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_recent              | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_status              | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_tags                | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_tasks_details       | ✓ Has soft delete filter
 shift_handovers  | idx_shift_handovers_tenant              | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_approval            | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_assigned_tasks      | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_checked_in          | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_checked_out         | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_conflicts           | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_current_shift       | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_date                | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_department          | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_department_date     | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_late                | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_leave               | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_metadata            | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_overtime            | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_property            | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_property_date       | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_published           | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_shift_type          | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_status              | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_swap                | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_tags                | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_tenant              | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_upcoming            | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_user                | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_user_date           | ✓ Has soft delete filter
 staff_schedules  | idx_staff_schedules_week                | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_assigned_department     | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_assigned_status         | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_assigned_to             | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_blocked                 | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_checklist               | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_completed               | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_department_status       | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_due_date                | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_due_date_status         | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_guest                   | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_in_progress             | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_issues                  | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_metadata                | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_number                  | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_overdue                 | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_pending                 | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_priority                | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_property                | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_property_status         | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_recurring               | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_reservation             | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_room                    | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_sla                     | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_status                  | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_tags                    | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_tenant                  | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_type                    | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_urgent                  | ✓ Has soft delete filter
 staff_tasks      | idx_staff_tasks_verification            | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_active             | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_approved           | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_auto_renewal       | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_end_date           | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_end_date_upcoming  | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_expiring           | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_insurance_expiry   | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_legal_review       | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_metadata           | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_number             | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_owner              | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_parent             | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_payment_due        | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_performance_issues | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_property           | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_property_active    | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_property_status    | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_renewal_date       | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_risk               | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_start_date         | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_status             | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_tags               | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_tenant             | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_type               | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_vendor_active      | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_vendor_name        | ✓ Has soft delete filter
 vendor_contracts | idx_vendor_contracts_vendor_type        | ✓ Has soft delete filter
(156 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/05-operations/verify-09-staff-operations-indexes.sql:172: NOTICE:  
psql:indexes/05-operations/verify-09-staff-operations-indexes.sql:172: NOTICE:  Category: Staff & Operations
psql:indexes/05-operations/verify-09-staff-operations-indexes.sql:172: NOTICE:  Total Secondary Indexes: 221
psql:indexes/05-operations/verify-09-staff-operations-indexes.sql:172: NOTICE:  Tables with Indexes: 6 / 6
psql:indexes/05-operations/verify-09-staff-operations-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/05-operations/verify-09-staff-operations-indexes.sql:172: NOTICE:  
psql:indexes/05-operations/verify-09-staff-operations-indexes.sql:172: NOTICE:  ✓✓✓ STAFF & OPERATIONS INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Staff & Operations index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  MOBILE & DIGITAL - INDEX VERIFICATION
  Tables: 4
==============================================

1. Index count by table...
      tablename      | total_indexes | primary_keys | secondary_indexes 
---------------------+---------------+--------------+-------------------
 app_usage_analytics |             7 |            1 |                 6
 mobile_keys         |            13 |            1 |                12
 push_notifications  |            10 |            1 |                 9
 qr_codes            |            11 |            1 |                10
(4 rows)


2. Checking if foreign key columns are indexed...
     table_name      |  column_name   |  status   
---------------------+----------------+-----------
 app_usage_analytics | guest_id       | ✓ Indexed
 app_usage_analytics | property_id    | ✓ Indexed
 app_usage_analytics | tenant_id      | ✓ Indexed
 mobile_keys         | reservation_id | ✓ Indexed
 mobile_keys         | room_id        | ✓ Indexed
 mobile_keys         | created_by     | ✓ Indexed
 mobile_keys         | updated_by     | ✓ Indexed
 mobile_keys         | deleted_by     | ✓ Indexed
 mobile_keys         | tenant_id      | ✓ Indexed
 mobile_keys         | property_id    | ✓ Indexed
 mobile_keys         | guest_id       | ✓ Indexed
 push_notifications  | created_by     | ✓ Indexed
 push_notifications  | updated_by     | ✓ Indexed
 push_notifications  | deleted_by     | ✓ Indexed
 push_notifications  | tenant_id      | ✓ Indexed
 push_notifications  | property_id    | ✓ Indexed
 push_notifications  | guest_id       | ✓ Indexed
 qr_codes            | tenant_id      | ✓ Indexed
 qr_codes            | updated_by     | ✓ Indexed
 qr_codes            | deleted_by     | ✓ Indexed
 qr_codes            | room_id        | ✓ Indexed
 qr_codes            | property_id    | ✓ Indexed
 qr_codes            | created_by     | ✓ Indexed
(23 rows)


3. Checking partial indexes for soft delete...
      tablename      |             indexname              |   partial_index_status   
---------------------+------------------------------------+--------------------------
 app_usage_analytics | idx_app_usage_analytics_event_type | ✓ Has soft delete filter
 app_usage_analytics | idx_app_usage_analytics_guest      | ✓ Has soft delete filter
 app_usage_analytics | idx_app_usage_analytics_property   | ✓ Has soft delete filter
 app_usage_analytics | idx_app_usage_analytics_session    | ✓ Has soft delete filter
 app_usage_analytics | idx_app_usage_analytics_tenant     | ✓ Has soft delete filter
 app_usage_analytics | idx_app_usage_analytics_timestamp  | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_code               | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_guest              | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_property           | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_reservation        | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_room               | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_status             | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_tenant             | ✓ Has soft delete filter
 mobile_keys         | idx_mobile_keys_valid              | ✓ Has soft delete filter
 push_notifications  | idx_push_notifications_guest       | ✓ Has soft delete filter
 push_notifications  | idx_push_notifications_property    | ✓ Has soft delete filter
 push_notifications  | idx_push_notifications_recipient   | ✓ Has soft delete filter
 push_notifications  | idx_push_notifications_scheduled   | ✓ Has soft delete filter
 push_notifications  | idx_push_notifications_status      | ✓ Has soft delete filter
 push_notifications  | idx_push_notifications_tenant      | ✓ Has soft delete filter
 qr_codes            | idx_qr_codes_active                | ✓ Has soft delete filter
 qr_codes            | idx_qr_codes_code                  | ✓ Has soft delete filter
 qr_codes            | idx_qr_codes_property              | ✓ Has soft delete filter
 qr_codes            | idx_qr_codes_room                  | ✓ Has soft delete filter
 qr_codes            | idx_qr_codes_tenant                | ✓ Has soft delete filter
 qr_codes            | idx_qr_codes_type                  | ✓ Has soft delete filter
(26 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/05-operations/verify-13-mobile-digital-indexes.sql:172: NOTICE:  
psql:indexes/05-operations/verify-13-mobile-digital-indexes.sql:172: NOTICE:  Category: Mobile & Digital
psql:indexes/05-operations/verify-13-mobile-digital-indexes.sql:172: NOTICE:  Total Secondary Indexes: 37
psql:indexes/05-operations/verify-13-mobile-digital-indexes.sql:172: NOTICE:  Tables with Indexes: 4 / 4
psql:indexes/05-operations/verify-13-mobile-digital-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/05-operations/verify-13-mobile-digital-indexes.sql:172: NOTICE:  
psql:indexes/05-operations/verify-13-mobile-digital-indexes.sql:172: NOTICE:  ✓✓✓ MOBILE & DIGITAL INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Mobile & Digital index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CHANNEL MANAGEMENT & OTA - INDEX VERIFICATION
  Tables: 10
==============================================

1. Index count by table...
        tablename         | total_indexes | primary_keys | secondary_indexes 
--------------------------+---------------+--------------+-------------------
 channel_commission_rules |            26 |            1 |                25
 channel_mappings         |            24 |            1 |                23
 channel_rate_parity      |            28 |            1 |                27
 gds_connections          |            11 |            1 |                10
 gds_message_log          |            12 |            1 |                11
 gds_reservation_queue    |            12 |            1 |                11
 ota_configurations       |            12 |            1 |                11
 ota_inventory_sync       |            27 |            1 |                26
 ota_rate_plans           |            13 |            1 |                12
 ota_reservations_queue   |            16 |            1 |                15
(10 rows)


2. Checking if foreign key columns are indexed...
        table_name        |       column_name        |  status   
--------------------------+--------------------------+-----------
 channel_commission_rules | ota_config_id            | ✓ Indexed
 channel_commission_rules | property_id              | ✓ Indexed
 channel_commission_rules | property_id              | ✓ Indexed
 channel_commission_rules | tenant_id                | ✓ Indexed
 channel_commission_rules | tenant_id                | ✓ Indexed
 channel_commission_rules | deleted_by               | ✓ Indexed
 channel_commission_rules | updated_by               | ✓ Indexed
 channel_commission_rules | created_by               | ✓ Indexed
 channel_commission_rules | approved_by              | ✓ Indexed
 channel_mappings         | tenant_id                | ✓ Indexed
 channel_mappings         | property_id              | ✓ Indexed
 channel_mappings         | property_id              | ✓ Indexed
 channel_mappings         | property_id              | ✓ Indexed
 channel_mappings         | property_id              | ✓ Indexed
 channel_rate_parity      | deleted_by               | ✓ Indexed
 channel_rate_parity      | updated_by               | ✓ Indexed
 channel_rate_parity      | created_by               | ✓ Indexed
 channel_rate_parity      | resolved_by              | ✓ Indexed
 channel_rate_parity      | rate_plan_id             | ✓ Indexed
 channel_rate_parity      | room_type_id             | ✓ Indexed
 channel_rate_parity      | room_type_id             | ✓ Indexed
 channel_rate_parity      | property_id              | ✓ Indexed
 channel_rate_parity      | property_id              | ✓ Indexed
 channel_rate_parity      | property_id              | ✓ Indexed
 channel_rate_parity      | tenant_id                | ✓ Indexed
 channel_rate_parity      | tenant_id                | ✓ Indexed
 gds_connections          | property_id              | ✓ Indexed
 gds_connections          | updated_by               | ✓ Indexed
 gds_connections          | created_by               | ✓ Indexed
 gds_connections          | tenant_id                | ✓ Indexed
 gds_connections          | tenant_id                | ✓ Indexed
 gds_connections          | property_id              | ✓ Indexed
 gds_connections          | deleted_by               | ✓ Indexed
 gds_message_log          | updated_by               | ✓ Indexed
 gds_message_log          | created_by               | ✓ Indexed
 gds_message_log          | property_id              | ✓ Indexed
 gds_message_log          | tenant_id                | ✓ Indexed
 gds_message_log          | gds_connection_id        | ✓ Indexed
 gds_reservation_queue    | updated_by               | ✓ Indexed
 gds_reservation_queue    | gds_message_id           | ✓ Indexed
 gds_reservation_queue    | gds_connection_id        | ✓ Indexed
 gds_reservation_queue    | tenant_id                | ✓ Indexed
 gds_reservation_queue    | property_id              | ✓ Indexed
 gds_reservation_queue    | processed_reservation_id | ✓ Indexed
 gds_reservation_queue    | created_by               | ✓ Indexed
 ota_configurations       | tenant_id                | ✓ Indexed
 ota_configurations       | tenant_id                | ✓ Indexed
 ota_configurations       | tenant_id                | ✓ Indexed
 ota_configurations       | property_id              | ✓ Indexed
 ota_configurations       | updated_by               | ✓ Indexed
 ota_configurations       | created_by               | ✓ Indexed
 ota_configurations       | property_id              | ✓ Indexed
 ota_configurations       | property_id              | ✓ Indexed
 ota_configurations       | property_id              | ✓ Indexed
 ota_configurations       | property_id              | ✓ Indexed
 ota_configurations       | tenant_id                | ✓ Indexed
 ota_inventory_sync       | updated_by               | ✓ Indexed
 ota_inventory_sync       | deleted_by               | ✓ Indexed
 ota_inventory_sync       | ota_config_id            | ✓ Indexed
 ota_inventory_sync       | room_type_id             | ✓ Indexed
 ota_inventory_sync       | tenant_id                | ✓ Indexed
 ota_inventory_sync       | tenant_id                | ✓ Indexed
 ota_inventory_sync       | property_id              | ✓ Indexed
 ota_inventory_sync       | property_id              | ✓ Indexed
 ota_inventory_sync       | rate_plan_id             | ✓ Indexed
 ota_inventory_sync       | triggered_by_user_id     | ✓ Indexed
 ota_inventory_sync       | created_by               | ✓ Indexed
 ota_rate_plans           | ota_configuration_id     | ✓ Indexed
 ota_rate_plans           | created_by               | ✓ Indexed
 ota_rate_plans           | rate_id                  | ✓ Indexed
 ota_rate_plans           | rate_id                  | ✓ Indexed
 ota_rate_plans           | ota_configuration_id     | ✓ Indexed
 ota_rate_plans           | ota_configuration_id     | ✓ Indexed
 ota_rate_plans           | ota_configuration_id     | ✓ Indexed
 ota_rate_plans           | ota_configuration_id     | ✓ Indexed
 ota_rate_plans           | updated_by               | ✓ Indexed
 ota_rate_plans           | property_id              | ✓ Indexed
 ota_rate_plans           | property_id              | ✓ Indexed
 ota_rate_plans           | tenant_id                | ✓ Indexed
 ota_rate_plans           | tenant_id                | ✓ Indexed
 ota_reservations_queue   | reservation_id           | ✓ Indexed
 ota_reservations_queue   | ota_configuration_id     | ✓ Indexed
 ota_reservations_queue   | ota_configuration_id     | ✓ Indexed
 ota_reservations_queue   | property_id              | ✓ Indexed
 ota_reservations_queue   | property_id              | ✓ Indexed
 ota_reservations_queue   | tenant_id                | ✓ Indexed
(86 rows)


3. Checking partial indexes for soft delete...
        tablename         |                    indexname                    |        partial_index_status         
--------------------------+-------------------------------------------------+-------------------------------------
 channel_commission_rules | idx_channel_commission_rules_active             | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_channel            | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_contract           | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_date_active        | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_effective          | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_metadata           | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_model              | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_ota_config         | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_priority           | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_property           | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_property_channel   | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_rate_plans         | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_review             | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_room_types         | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_rule_code          | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_tags               | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_tenant             | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_tenant_active      | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_tier_structure     | ✓ Has soft delete filter
 channel_commission_rules | idx_channel_commission_rules_type               | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_channel_code               | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_channel_entity             | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_channel_name               | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_deleted_at                 | ⚠ Has WHERE but not for soft delete
 channel_mappings         | idx_channel_mappings_entity_id                  | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_entity_lookup              | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_entity_type                | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_external_code              | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_external_id                | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_external_lookup            | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_is_active                  | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_last_sync                  | ⚠ Has WHERE but not for soft delete
 channel_mappings         | idx_channel_mappings_property_active            | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_property_id                | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_sync_error                 | ✓ Has soft delete filter
 channel_mappings         | idx_channel_mappings_sync_status                | ⚠ Has WHERE but not for soft delete
 channel_mappings         | idx_channel_mappings_tenant_id                  | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_alert                   | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_channel_rates           | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_check_completed         | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_check_date              | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_check_initiated         | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_competitor_rates        | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_contract_risk           | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_market_position         | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_metadata                | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_property                | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_property_date           | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_property_status         | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_rate_plan               | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_recurring               | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_room_date               | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_room_type               | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_status                  | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_tags                    | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_tenant                  | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_tenant_unresolved       | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_unresolved              | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_violation_details       | ✓ Has soft delete filter
 channel_rate_parity      | idx_channel_rate_parity_violations              | ✓ Has soft delete filter
 gds_connections          | idx_gds_connections_credentials                 | ✓ Has soft delete filter
 gds_connections          | idx_gds_connections_profile                     | ✓ Has soft delete filter
 gds_connections          | idx_gds_connections_property_status             | ✓ Has soft delete filter
 gds_connections          | idx_gds_connections_retry                       | ✓ Has soft delete filter
 gds_connections          | idx_gds_connections_status                      | ✓ Has soft delete filter
 gds_connections          | idx_gds_connections_tenant                      | ✓ Has soft delete filter
 gds_message_log          | idx_gds_message_log_ack                         | ⚠ Has WHERE but not for soft delete
 gds_message_log          | idx_gds_message_log_conversation                | ⚠ Has WHERE but not for soft delete
 gds_message_log          | idx_gds_message_log_correlation                 | ⚠ Has WHERE but not for soft delete
 gds_message_log          | idx_gds_message_log_payload_json                | ⚠ Has WHERE but not for soft delete
 gds_message_log          | idx_gds_message_log_retry                       | ⚠ Has WHERE but not for soft delete
 gds_reservation_queue    | idx_gds_reservation_queue_failure               | ⚠ Has WHERE but not for soft delete
 gds_reservation_queue    | idx_gds_reservation_queue_processed_reservation | ⚠ Has WHERE but not for soft delete
 gds_reservation_queue    | idx_gds_reservation_queue_processing            | ⚠ Has WHERE but not for soft delete
 ota_configurations       | idx_ota_config_active                           | ✓ Has soft delete filter
 ota_configurations       | idx_ota_config_ota_code                         | ✓ Has soft delete filter
 ota_configurations       | idx_ota_config_property                         | ✓ Has soft delete filter
 ota_configurations       | idx_ota_config_sync_enabled                     | ✓ Has soft delete filter
 ota_configurations       | idx_ota_config_sync_failed                      | ✓ Has soft delete filter
 ota_configurations       | idx_ota_config_sync_status                      | ✓ Has soft delete filter
 ota_configurations       | idx_ota_config_tenant_property                  | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_batch                    | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_channel                  | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_channel_date             | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_completed_at             | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_conflicts                | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_created_at               | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_date_range               | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_differences              | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_failed                   | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_metadata                 | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_ota_config               | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_property                 | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_property_status          | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_rate_plan                | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_retry                    | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_room_type                | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_started_at               | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_status                   | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_tags                     | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_tenant                   | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_tenant_channel           | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_triggered_by             | ✓ Has soft delete filter
 ota_inventory_sync       | idx_ota_inventory_sync_type                     | ✓ Has soft delete filter
 ota_rate_plans           | idx_ota_rate_plan_active                        | ✓ Has soft delete filter
 ota_rate_plans           | idx_ota_rate_plan_booking_window                | ✓ Has soft delete filter
 ota_rate_plans           | idx_ota_rate_plan_ota_config                    | ✓ Has soft delete filter
 ota_rate_plans           | idx_ota_rate_plan_ota_id                        | ✓ Has soft delete filter
 ota_rate_plans           | idx_ota_rate_plan_rate                          | ✓ Has soft delete filter
 ota_rate_plans           | idx_ota_rate_plan_tenant_property               | ✓ Has soft delete filter
 ota_rate_plans           | idx_ota_rate_plan_type                          | ✓ Has soft delete filter
 ota_reservations_queue   | idx_ota_queue_booking_reference                 | ⚠ Has WHERE but not for soft delete
 ota_reservations_queue   | idx_ota_queue_failed                            | ⚠ Has WHERE but not for soft delete
 ota_reservations_queue   | idx_ota_queue_guest_email                       | ⚠ Has WHERE but not for soft delete
 ota_reservations_queue   | idx_ota_queue_pending                           | ⚠ Has WHERE but not for soft delete
 ota_reservations_queue   | idx_ota_queue_processed_at                      | ⚠ Has WHERE but not for soft delete
 ota_reservations_queue   | idx_ota_queue_processing                        | ⚠ Has WHERE but not for soft delete
 ota_reservations_queue   | idx_ota_queue_reservation_id                    | ⚠ Has WHERE but not for soft delete
(118 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/06-integrations/verify-06-channel-ota-indexes.sql:236: NOTICE:  
psql:indexes/06-integrations/verify-06-channel-ota-indexes.sql:236: NOTICE:  Category: Channel Management & OTA
psql:indexes/06-integrations/verify-06-channel-ota-indexes.sql:236: NOTICE:  Total Secondary Indexes: 171
psql:indexes/06-integrations/verify-06-channel-ota-indexes.sql:236: NOTICE:  Tables with Indexes: 10 / 10
psql:indexes/06-integrations/verify-06-channel-ota-indexes.sql:236: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/06-integrations/verify-06-channel-ota-indexes.sql:236: NOTICE:  
psql:indexes/06-integrations/verify-06-channel-ota-indexes.sql:236: NOTICE:  ✓✓✓ CHANNEL MANAGEMENT & OTA INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Channel Management & OTA index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  MARKETING & CAMPAIGNS - INDEX VERIFICATION
  Tables: 5
==============================================

1. Index count by table...
       tablename       | total_indexes | primary_keys | secondary_indexes 
-----------------------+---------------+--------------+-------------------
 campaign_segments     |            16 |            1 |                15
 marketing_campaigns   |            22 |            1 |                21
 promotional_codes     |            20 |            1 |                19
 referral_tracking     |            23 |            1 |                22
 social_media_mentions |            33 |            1 |                32
(5 rows)


2. Checking if foreign key columns are indexed...
      table_name       |     column_name     |  status   
-----------------------+---------------------+-----------
 campaign_segments     | tenant_id           | ✓ Indexed
 campaign_segments     | property_id         | ✓ Indexed
 campaign_segments     | property_id         | ✓ Indexed
 campaign_segments     | owner_id            | ✓ Indexed
 campaign_segments     | created_by          | ✓ Indexed
 campaign_segments     | updated_by          | ✓ Indexed
 campaign_segments     | deleted_by          | ✓ Indexed
 marketing_campaigns   | created_by          | ✓ Indexed
 marketing_campaigns   | property_id         | ✓ Indexed
 marketing_campaigns   | deleted_by          | ✓ Indexed
 marketing_campaigns   | updated_by          | ✓ Indexed
 marketing_campaigns   | property_id         | ✓ Indexed
 marketing_campaigns   | property_id         | ✓ Indexed
 marketing_campaigns   | tenant_id           | ✓ Indexed
 marketing_campaigns   | campaign_manager_id | ✓ Indexed
 marketing_campaigns   | created_by_user_id  | ✓ Indexed
 marketing_campaigns   | approved_by         | ✓ Indexed
 promotional_codes     | property_id         | ✓ Indexed
 promotional_codes     | tenant_id           | ✓ Indexed
 promotional_codes     | property_id         | ✓ Indexed
 promotional_codes     | property_id         | ✓ Indexed
 promotional_codes     | campaign_id         | ✓ Indexed
 promotional_codes     | created_by_user_id  | ✓ Indexed
 promotional_codes     | owner_id            | ✓ Indexed
 promotional_codes     | created_by          | ✓ Indexed
 promotional_codes     | updated_by          | ✓ Indexed
 promotional_codes     | deleted_by          | ✓ Indexed
 referral_tracking     | tenant_id           | ✓ Indexed
 referral_tracking     | property_id         | ✓ Indexed
 referral_tracking     | property_id         | ✓ Indexed
 referral_tracking     | referee_id          | ✓ Indexed
 referral_tracking     | reservation_id      | ✓ Indexed
 referral_tracking     | campaign_id         | ✓ Indexed
 referral_tracking     | parent_referral_id  | ✓ Indexed
 referral_tracking     | approved_by         | ✓ Indexed
 referral_tracking     | created_by          | ✓ Indexed
 referral_tracking     | updated_by          | ✓ Indexed
 referral_tracking     | deleted_by          | ✓ Indexed
 social_media_mentions | tenant_id           | ✓ Indexed
 social_media_mentions | property_id         | ✓ Indexed
 social_media_mentions | property_id         | ✓ Indexed
 social_media_mentions | property_id         | ✓ Indexed
 social_media_mentions | guest_id            | ✓ Indexed
 social_media_mentions | reservation_id      | ✓ Indexed
 social_media_mentions | responded_by        | ✓ Indexed
 social_media_mentions | assigned_to         | ✓ Indexed
 social_media_mentions | escalated_to        | ✓ Indexed
 social_media_mentions | verified_by         | ✓ Indexed
 social_media_mentions | campaign_id         | ✓ Indexed
 social_media_mentions | parent_mention_id   | ✓ Indexed
 social_media_mentions | created_by          | ✓ Indexed
 social_media_mentions | updated_by          | ✓ Indexed
 social_media_mentions | deleted_by          | ✓ Indexed
(53 rows)


3. Checking partial indexes for soft delete...
       tablename       |                   indexname                    |   partial_index_status   
-----------------------+------------------------------------------------+--------------------------
 campaign_segments     | idx_campaign_segments_active                   | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_code                     | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_criteria                 | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_metadata                 | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_owner                    | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_property                 | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_property_active          | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_refresh                  | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_tags                     | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_tenant                   | ✓ Has soft delete filter
 campaign_segments     | idx_campaign_segments_type                     | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_active                 | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_approval               | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_channels               | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_code                   | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_dates                  | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_manager                | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_metadata               | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_property               | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_property_active        | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_property_type          | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_roi                    | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_status                 | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_tags                   | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_tenant                 | ✓ Has soft delete filter
 marketing_campaigns   | idx_marketing_campaigns_type                   | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_active                   | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_campaign                 | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_code                     | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_metadata                 | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_owner                    | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_performance              | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_property                 | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_property_active          | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_status                   | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_tags                     | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_tenant                   | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_usage                    | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_valid                    | ✓ Has soft delete filter
 promotional_codes     | idx_promotional_codes_validity_period          | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_approval                 | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_campaign                 | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_code                     | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_converted                | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_metadata                 | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_parent                   | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_property                 | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_property_status          | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_referee                  | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_referrer                 | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_referrer_performance     | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_reservation              | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_rewards_issued           | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_status                   | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_suspicious               | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_tags                     | ✓ Has soft delete filter
 referral_tracking     | idx_referral_tracking_tenant                   | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_assigned             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_campaign             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_category             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_crisis               | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_escalated            | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_flagged              | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_guest                | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_hashtags             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_influencer           | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_metadata             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_parent               | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_platform             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_platform_sentiment   | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_post_id              | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_posted_at            | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_priority             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_property             | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_property_sentiment   | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_property_unresponded | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_requires_response    | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_reservation          | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_sentiment            | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_status               | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_tags                 | ✓ Has soft delete filter
 social_media_mentions | idx_social_media_mentions_tenant               | ✓ Has soft delete filter
(82 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/06-integrations/verify-10-marketing-campaigns-indexes.sql:172: NOTICE:  
psql:indexes/06-integrations/verify-10-marketing-campaigns-indexes.sql:172: NOTICE:  Category: Marketing & Campaigns
psql:indexes/06-integrations/verify-10-marketing-campaigns-indexes.sql:172: NOTICE:  Total Secondary Indexes: 109
psql:indexes/06-integrations/verify-10-marketing-campaigns-indexes.sql:172: NOTICE:  Tables with Indexes: 5 / 5
psql:indexes/06-integrations/verify-10-marketing-campaigns-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/06-integrations/verify-10-marketing-campaigns-indexes.sql:172: NOTICE:  
psql:indexes/06-integrations/verify-10-marketing-campaigns-indexes.sql:172: NOTICE:  ✓✓✓ MARKETING & CAMPAIGNS INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Marketing & Campaigns index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  INTEGRATION HUB - INDEX VERIFICATION
  Tables: 4
==============================================

1. Index count by table...
       tablename       | total_indexes | primary_keys | secondary_indexes 
-----------------------+---------------+--------------+-------------------
 api_logs              |             9 |            1 |                 8
 data_sync_status      |            11 |            1 |                10
 integration_mappings  |            10 |            1 |                 9
 webhook_subscriptions |             8 |            1 |                 7
(4 rows)


2. Checking if foreign key columns are indexed...
      table_name       | column_name |  status   
-----------------------+-------------+-----------
 api_logs              | tenant_id   | ✓ Indexed
 api_logs              | property_id | ✓ Indexed
 api_logs              | user_id     | ✓ Indexed
 data_sync_status      | property_id | ✓ Indexed
 data_sync_status      | deleted_by  | ✓ Indexed
 data_sync_status      | tenant_id   | ✓ Indexed
 data_sync_status      | updated_by  | ✓ Indexed
 data_sync_status      | created_by  | ✓ Indexed
 integration_mappings  | tenant_id   | ✓ Indexed
 integration_mappings  | property_id | ✓ Indexed
 integration_mappings  | created_by  | ✓ Indexed
 integration_mappings  | updated_by  | ✓ Indexed
 integration_mappings  | deleted_by  | ✓ Indexed
 webhook_subscriptions | deleted_by  | ✓ Indexed
 webhook_subscriptions | updated_by  | ✓ Indexed
 webhook_subscriptions | created_by  | ✓ Indexed
 webhook_subscriptions | property_id | ✓ Indexed
 webhook_subscriptions | tenant_id   | ✓ Indexed
(18 rows)


3. Checking partial indexes for soft delete...
       tablename       |              indexname               |   partial_index_status   
-----------------------+--------------------------------------+--------------------------
 api_logs              | idx_api_logs_endpoint                | ✓ Has soft delete filter
 api_logs              | idx_api_logs_method                  | ✓ Has soft delete filter
 api_logs              | idx_api_logs_property                | ✓ Has soft delete filter
 api_logs              | idx_api_logs_status                  | ✓ Has soft delete filter
 api_logs              | idx_api_logs_success                 | ✓ Has soft delete filter
 api_logs              | idx_api_logs_tenant                  | ✓ Has soft delete filter
 api_logs              | idx_api_logs_timestamp               | ✓ Has soft delete filter
 api_logs              | idx_api_logs_user                    | ✓ Has soft delete filter
 data_sync_status      | idx_data_sync_status_entity          | ✓ Has soft delete filter
 data_sync_status      | idx_data_sync_status_name            | ✓ Has soft delete filter
 data_sync_status      | idx_data_sync_status_next_sync       | ✓ Has soft delete filter
 data_sync_status      | idx_data_sync_status_property        | ✓ Has soft delete filter
 data_sync_status      | idx_data_sync_status_started         | ✓ Has soft delete filter
 data_sync_status      | idx_data_sync_status_status          | ✓ Has soft delete filter
 data_sync_status      | idx_data_sync_status_tenant          | ✓ Has soft delete filter
 integration_mappings  | idx_integration_mappings_active      | ✓ Has soft delete filter
 integration_mappings  | idx_integration_mappings_integration | ✓ Has soft delete filter
 integration_mappings  | idx_integration_mappings_property    | ✓ Has soft delete filter
 integration_mappings  | idx_integration_mappings_sync        | ✓ Has soft delete filter
 integration_mappings  | idx_integration_mappings_tenant      | ✓ Has soft delete filter
 integration_mappings  | idx_integration_mappings_type        | ✓ Has soft delete filter
 webhook_subscriptions | idx_webhook_subscriptions_active     | ✓ Has soft delete filter
 webhook_subscriptions | idx_webhook_subscriptions_events     | ✓ Has soft delete filter
 webhook_subscriptions | idx_webhook_subscriptions_property   | ✓ Has soft delete filter
 webhook_subscriptions | idx_webhook_subscriptions_tenant     | ✓ Has soft delete filter
(25 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/06-integrations/verify-15-integration-hub-indexes.sql:172: NOTICE:  
psql:indexes/06-integrations/verify-15-integration-hub-indexes.sql:172: NOTICE:  Category: Integration Hub
psql:indexes/06-integrations/verify-15-integration-hub-indexes.sql:172: NOTICE:  Total Secondary Indexes: 34
psql:indexes/06-integrations/verify-15-integration-hub-indexes.sql:172: NOTICE:  Tables with Indexes: 4 / 4
psql:indexes/06-integrations/verify-15-integration-hub-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/06-integrations/verify-15-integration-hub-indexes.sql:172: NOTICE:  
psql:indexes/06-integrations/verify-15-integration-hub-indexes.sql:172: NOTICE:  ✓✓✓ INTEGRATION HUB INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Integration Hub index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  COMPLIANCE & LEGAL - INDEX VERIFICATION
  Tables: 4
==============================================

1. Index count by table...
      tablename      | total_indexes | primary_keys | secondary_indexes 
---------------------+---------------+--------------+-------------------
 contract_agreements |            31 |            1 |                30
 gdpr_consent_logs   |            26 |            1 |                25
 insurance_claims    |            37 |            1 |                36
 police_reports      |            29 |            1 |                28
(4 rows)


2. Checking if foreign key columns are indexed...
     table_name      |        column_name         |  status   
---------------------+----------------------------+-----------
 contract_agreements | superseded_by_agreement_id | ✓ Indexed
 contract_agreements | supersedes_agreement_id    | ✓ Indexed
 contract_agreements | parent_agreement_id        | ✓ Indexed
 contract_agreements | approved_by                | ✓ Indexed
 contract_agreements | legal_reviewed_by          | ✓ Indexed
 contract_agreements | terminated_by              | ✓ Indexed
 contract_agreements | property_id                | ✓ Indexed
 contract_agreements | property_id                | ✓ Indexed
 contract_agreements | tenant_id                  | ✓ Indexed
 contract_agreements | property_id                | ✓ Indexed
 contract_agreements | property_id                | ✓ Indexed
 contract_agreements | deleted_by                 | ✓ Indexed
 contract_agreements | updated_by                 | ✓ Indexed
 contract_agreements | created_by                 | ✓ Indexed
 gdpr_consent_logs   | tenant_id                  | ✓ Indexed
 gdpr_consent_logs   | property_id                | ✓ Indexed
 gdpr_consent_logs   | property_id                | ✓ Indexed
 gdpr_consent_logs   | previous_consent_id        | ✓ Indexed
 gdpr_consent_logs   | superseded_by_consent_id   | ✓ Indexed
 gdpr_consent_logs   | recorded_by                | ✓ Indexed
 gdpr_consent_logs   | verified_by                | ✓ Indexed
 gdpr_consent_logs   | dpo_reviewed_by            | ✓ Indexed
 gdpr_consent_logs   | created_by                 | ✓ Indexed
 gdpr_consent_logs   | updated_by                 | ✓ Indexed
 gdpr_consent_logs   | deleted_by                 | ✓ Indexed
 insurance_claims    | deleted_by                 | ✓ Indexed
 insurance_claims    | incident_report_id         | ✓ Indexed
 insurance_claims    | police_report_id           | ✓ Indexed
 insurance_claims    | room_id                    | ✓ Indexed
 insurance_claims    | guest_id                   | ✓ Indexed
 insurance_claims    | employee_id                | ✓ Indexed
 insurance_claims    | payment_received_by        | ✓ Indexed
 insurance_claims    | reviewed_by                | ✓ Indexed
 insurance_claims    | approved_by                | ✓ Indexed
 insurance_claims    | parent_claim_id            | ✓ Indexed
 insurance_claims    | created_by                 | ✓ Indexed
 insurance_claims    | updated_by                 | ✓ Indexed
 insurance_claims    | tenant_id                  | ✓ Indexed
 insurance_claims    | property_id                | ✓ Indexed
 insurance_claims    | property_id                | ✓ Indexed
 insurance_claims    | property_id                | ✓ Indexed
 insurance_claims    | property_id                | ✓ Indexed
 police_reports      | updated_by                 | ✓ Indexed
 police_reports      | created_by                 | ✓ Indexed
 police_reports      | parent_report_id           | ✓ Indexed
 police_reports      | room_id                    | ✓ Indexed
 police_reports      | incident_report_id         | ✓ Indexed
 police_reports      | property_id                | ✓ Indexed
 police_reports      | property_id                | ✓ Indexed
 police_reports      | property_id                | ✓ Indexed
 police_reports      | property_id                | ✓ Indexed
 police_reports      | tenant_id                  | ✓ Indexed
 police_reports      | deleted_by                 | ✓ Indexed
(53 rows)


3. Checking partial indexes for soft delete...
      tablename      |                 indexname                 |   partial_index_status   
---------------------+-------------------------------------------+--------------------------
 contract_agreements | idx_contract_agreements_active            | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_approval          | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_breach            | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_effective         | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_expiry_upcoming   | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_insurance         | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_legal_review      | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_metadata          | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_number            | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_parent            | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_pending_signature | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_property          | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_property_active   | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_property_type     | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_renewal           | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_signature         | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_status            | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_tags              | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_tenant            | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_terminated        | ✓ Has soft delete filter
 contract_agreements | idx_contract_agreements_type              | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_active              | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_consent_date        | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_dpo_review          | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_email               | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_expiry              | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_metadata            | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_property            | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_property_type       | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_renewal             | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_rights              | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_status              | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_subject             | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_subject_active      | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_tags                | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_tenant              | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_type                | ✓ Has soft delete filter
 gdpr_consent_logs   | idx_gdpr_consent_logs_withdrawal          | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_appealed             | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_company              | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_denied               | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_employee             | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_filed_date           | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_follow_up            | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_guest                | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_incident_date        | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_incident_report      | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_insurance_number     | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_investigation        | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_legal                | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_metadata             | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_number               | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_parent               | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_payment              | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_police_report        | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_policy               | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_property             | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_property_open        | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_property_status      | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_property_type        | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_room                 | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_settlement           | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_status               | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_subrogation          | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_tags                 | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_tenant               | ✓ Has soft delete filter
 insurance_claims    | idx_insurance_claims_type                 | ✓ Has soft delete filter
 police_reports      | idx_police_reports_agency                 | ✓ Has soft delete filter
 police_reports      | idx_police_reports_arrests                | ✓ Has soft delete filter
 police_reports      | idx_police_reports_confidential           | ✓ Has soft delete filter
 police_reports      | idx_police_reports_court_case             | ✓ Has soft delete filter
 police_reports      | idx_police_reports_follow_up              | ✓ Has soft delete filter
 police_reports      | idx_police_reports_incident               | ✓ Has soft delete filter
 police_reports      | idx_police_reports_incident_date          | ✓ Has soft delete filter
 police_reports      | idx_police_reports_incident_report        | ✓ Has soft delete filter
 police_reports      | idx_police_reports_incident_type          | ✓ Has soft delete filter
 police_reports      | idx_police_reports_insurance              | ✓ Has soft delete filter
 police_reports      | idx_police_reports_investigation          | ✓ Has soft delete filter
 police_reports      | idx_police_reports_metadata               | ✓ Has soft delete filter
 police_reports      | idx_police_reports_number                 | ✓ Has soft delete filter
 police_reports      | idx_police_reports_parent                 | ✓ Has soft delete filter
 police_reports      | idx_police_reports_police_case            | ✓ Has soft delete filter
 police_reports      | idx_police_reports_property               | ✓ Has soft delete filter
 police_reports      | idx_police_reports_property_ongoing       | ✓ Has soft delete filter
 police_reports      | idx_police_reports_property_status        | ✓ Has soft delete filter
 police_reports      | idx_police_reports_property_type          | ✓ Has soft delete filter
 police_reports      | idx_police_reports_resolved               | ✓ Has soft delete filter
 police_reports      | idx_police_reports_room                   | ✓ Has soft delete filter
 police_reports      | idx_police_reports_status                 | ✓ Has soft delete filter
 police_reports      | idx_police_reports_tags                   | ✓ Has soft delete filter
 police_reports      | idx_police_reports_tenant                 | ✓ Has soft delete filter
(91 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/07-analytics/verify-11-compliance-legal-indexes.sql:172: NOTICE:  
psql:indexes/07-analytics/verify-11-compliance-legal-indexes.sql:172: NOTICE:  Category: Compliance & Legal
psql:indexes/07-analytics/verify-11-compliance-legal-indexes.sql:172: NOTICE:  Total Secondary Indexes: 119
psql:indexes/07-analytics/verify-11-compliance-legal-indexes.sql:172: NOTICE:  Tables with Indexes: 4 / 4
psql:indexes/07-analytics/verify-11-compliance-legal-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/07-analytics/verify-11-compliance-legal-indexes.sql:172: NOTICE:  
psql:indexes/07-analytics/verify-11-compliance-legal-indexes.sql:172: NOTICE:  ✓✓✓ COMPLIANCE & LEGAL INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Compliance & Legal index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  ANALYTICS & REPORTING - INDEX VERIFICATION
  Tables: 14
==============================================

1. Index count by table...
          tablename          | total_indexes | primary_keys | secondary_indexes 
-----------------------------+---------------+--------------+-------------------
 ab_test_results             |             8 |            1 |                 7
 alert_rules                 |             4 |            1 |                 3
 analytics_metric_dimensions |            12 |            1 |                11
 analytics_metrics           |            22 |            1 |                21
 analytics_reports           |            25 |            1 |                24
 forecasting_models          |             8 |            1 |                 7
 guest_journey_tracking      |            12 |            1 |                11
 performance_alerts          |             5 |            1 |                 4
 performance_baselines       |             4 |            1 |                 3
 performance_reports         |             5 |            1 |                 4
 performance_thresholds      |             4 |            1 |                 3
 report_property_ids         |             8 |            1 |                 7
 report_schedules            |             4 |            1 |                 3
 revenue_attribution         |             8 |            1 |                 7
(14 rows)


2. Checking if foreign key columns are indexed...
         table_name          |    column_name     |  status   
-----------------------------+--------------------+-----------
 ab_test_results             | deleted_by         | ✓ Indexed
 ab_test_results             | tenant_id          | ✓ Indexed
 ab_test_results             | property_id        | ✓ Indexed
 ab_test_results             | created_by         | ✓ Indexed
 ab_test_results             | updated_by         | ✓ Indexed
 analytics_metric_dimensions | tenant_id          | ✓ Indexed
 analytics_metric_dimensions | metric_id          | ✓ Indexed
 analytics_metric_dimensions | metric_id          | ✓ Indexed
 analytics_metric_dimensions | metric_id          | ✓ Indexed
 analytics_metrics           | property_id        | ✓ Indexed
 analytics_metrics           | property_id        | ✓ Indexed
 analytics_metrics           | property_id        | ✓ Indexed
 analytics_metrics           | tenant_id          | ✓ Indexed
 analytics_metrics           | property_id        | ✓ Indexed
 analytics_metrics           | property_id        | ✓ Indexed
 analytics_metrics           | property_id        | ✓ Indexed
 analytics_metrics           | room_type_id       | ✓ Indexed
 analytics_metrics           | rate_id            | ✓ Indexed
 analytics_reports           | created_by_user_id | ✓ Indexed
 analytics_reports           | tenant_id          | ✓ Indexed
 analytics_reports           | tenant_id          | ✓ Indexed
 analytics_reports           | tenant_id          | ✓ Indexed
 analytics_reports           | tenant_id          | ✓ Indexed
 analytics_reports           | created_by_user_id | ✓ Indexed
 forecasting_models          | updated_by         | ✓ Indexed
 forecasting_models          | tenant_id          | ✓ Indexed
 forecasting_models          | property_id        | ✓ Indexed
 forecasting_models          | created_by         | ✓ Indexed
 forecasting_models          | deleted_by         | ✓ Indexed
 guest_journey_tracking      | property_id        | ✓ Indexed
 guest_journey_tracking      | guest_id           | ✓ Indexed
 guest_journey_tracking      | created_by         | ✓ Indexed
 guest_journey_tracking      | updated_by         | ✓ Indexed
 guest_journey_tracking      | deleted_by         | ✓ Indexed
 guest_journey_tracking      | tenant_id          | ✓ Indexed
 report_property_ids         | property_id        | ✓ Indexed
 report_property_ids         | report_id          | ✓ Indexed
 report_property_ids         | property_id        | ✓ Indexed
 report_property_ids         | property_id        | ✓ Indexed
 report_property_ids         | property_id        | ✓ Indexed
 report_property_ids         | tenant_id          | ✓ Indexed
 report_property_ids         | report_id          | ✓ Indexed
 report_property_ids         | report_id          | ✓ Indexed
 report_property_ids         | report_id          | ✓ Indexed
 revenue_attribution         | tenant_id          | ✓ Indexed
 revenue_attribution         | reservation_id     | ✓ Indexed
 revenue_attribution         | campaign_id        | ✓ Indexed
 revenue_attribution         | created_by         | ✓ Indexed
 revenue_attribution         | updated_by         | ✓ Indexed
 revenue_attribution         | deleted_by         | ✓ Indexed
 revenue_attribution         | property_id        | ✓ Indexed
(51 rows)


3. Checking partial indexes for soft delete...
          tablename          |               indexname                |        partial_index_status         
-----------------------------+----------------------------------------+-------------------------------------
 ab_test_results             | idx_ab_test_results_category           | ✓ Has soft delete filter
 ab_test_results             | idx_ab_test_results_property           | ✓ Has soft delete filter
 ab_test_results             | idx_ab_test_results_status             | ✓ Has soft delete filter
 ab_test_results             | idx_ab_test_results_tenant             | ✓ Has soft delete filter
 alert_rules                 | idx_alert_rules_active                 | ⚠ Has WHERE but not for soft delete
 analytics_metric_dimensions | idx_analytics_dimensions_percentage    | ⚠ Has WHERE but not for soft delete
 analytics_metric_dimensions | idx_analytics_dimensions_rank          | ⚠ Has WHERE but not for soft delete
 analytics_metrics           | idx_analytics_metrics_comparisons      | ⚠ Has WHERE but not for soft delete
 analytics_metrics           | idx_analytics_metrics_rate_id          | ⚠ Has WHERE but not for soft delete
 analytics_metrics           | idx_analytics_metrics_room_type_id     | ⚠ Has WHERE but not for soft delete
 analytics_metrics           | idx_analytics_metrics_segment          | ⚠ Has WHERE but not for soft delete
 analytics_metrics           | idx_analytics_metrics_source           | ⚠ Has WHERE but not for soft delete
 analytics_reports           | idx_analytics_reports_code             | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_created_by_user  | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_deleted_at       | ⚠ Has WHERE but not for soft delete
 analytics_reports           | idx_analytics_reports_is_active        | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_is_public        | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_is_scheduled     | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_last_run         | ⚠ Has WHERE but not for soft delete
 analytics_reports           | idx_analytics_reports_name             | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_name_trgm        | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_next_run         | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_tenant_active    | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_tenant_code      | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_tenant_id        | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_type             | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_user_reports     | ✓ Has soft delete filter
 analytics_reports           | idx_analytics_reports_viz_type         | ✓ Has soft delete filter
 forecasting_models          | idx_forecasting_models_active          | ✓ Has soft delete filter
 forecasting_models          | idx_forecasting_models_property        | ✓ Has soft delete filter
 forecasting_models          | idx_forecasting_models_tenant          | ✓ Has soft delete filter
 forecasting_models          | idx_forecasting_models_type            | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_converted   | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_guest       | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_metadata    | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_property    | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_status      | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_tenant      | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_touchpoints | ✓ Has soft delete filter
 guest_journey_tracking      | idx_guest_journey_tracking_type        | ✓ Has soft delete filter
 performance_alerts          | idx_performance_alerts_unacknowledged  | ⚠ Has WHERE but not for soft delete
 performance_reports         | idx_performance_reports_severity       | ⚠ Has WHERE but not for soft delete
 performance_thresholds      | idx_performance_thresholds_active      | ⚠ Has WHERE but not for soft delete
 performance_thresholds      | idx_performance_thresholds_metric      | ⚠ Has WHERE but not for soft delete
 report_schedules            | idx_report_schedules_active            | ⚠ Has WHERE but not for soft delete
 report_schedules            | idx_report_schedules_next_run          | ⚠ Has WHERE but not for soft delete
 revenue_attribution         | idx_revenue_attribution_campaign       | ✓ Has soft delete filter
 revenue_attribution         | idx_revenue_attribution_property       | ✓ Has soft delete filter
 revenue_attribution         | idx_revenue_attribution_reservation    | ✓ Has soft delete filter
 revenue_attribution         | idx_revenue_attribution_tenant         | ✓ Has soft delete filter
(50 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/07-analytics/verify-12-analytics-reporting-indexes.sql:172: NOTICE:  
psql:indexes/07-analytics/verify-12-analytics-reporting-indexes.sql:172: NOTICE:  Category: Analytics & Reporting
psql:indexes/07-analytics/verify-12-analytics-reporting-indexes.sql:172: NOTICE:  Total Secondary Indexes: 115
psql:indexes/07-analytics/verify-12-analytics-reporting-indexes.sql:172: NOTICE:  Tables with Indexes: 14 / 14
psql:indexes/07-analytics/verify-12-analytics-reporting-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/07-analytics/verify-12-analytics-reporting-indexes.sql:172: NOTICE:  
psql:indexes/07-analytics/verify-12-analytics-reporting-indexes.sql:172: NOTICE:  ✓✓✓ ANALYTICS & REPORTING INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
Analytics & Reporting index verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  SYSTEM & AUDIT - INDEX VERIFICATION
  Tables: 3
==============================================

1. Index count by table...
    tablename    | total_indexes | primary_keys | secondary_indexes 
-----------------+---------------+--------------+-------------------
 audit_logs      |             9 |            1 |                 8
 business_dates  |            18 |            1 |                17
 night_audit_log |            15 |            1 |                14
(3 rows)


2. Checking if foreign key columns are indexed...
   table_name    |       column_name        |  status   
-----------------+--------------------------+-----------
 audit_logs      | tenant_id                | ✓ Indexed
 audit_logs      | property_id              | ✓ Indexed
 audit_logs      | property_id              | ✓ Indexed
 audit_logs      | property_id              | ✓ Indexed
 audit_logs      | property_id              | ✓ Indexed
 audit_logs      | property_id              | ✓ Indexed
 audit_logs      | user_id                  | ✓ Indexed
 business_dates  | tenant_id                | ✓ Indexed
 business_dates  | tenant_id                | ✓ Indexed
 business_dates  | tenant_id                | ✓ Indexed
 business_dates  | property_id              | ✓ Indexed
 business_dates  | property_id              | ✓ Indexed
 business_dates  | property_id              | ✓ Indexed
 business_dates  | property_id              | ✓ Indexed
 business_dates  | property_id              | ✓ Indexed
 business_dates  | property_id              | ✓ Indexed
 business_dates  | property_id              | ✓ Indexed
 business_dates  | created_by               | ✓ Indexed
 business_dates  | updated_by               | ✓ Indexed
 business_dates  | date_opened_by           | ✓ Indexed
 business_dates  | date_closed_by           | ✓ Indexed
 business_dates  | date_rolled_by           | ✓ Indexed
 business_dates  | locked_by                | ✓ Indexed
 business_dates  | reconciled_by            | ✓ Indexed
 business_dates  | night_audit_started_by   | ✓ Indexed
 business_dates  | night_audit_completed_by | ✓ Indexed
 business_dates  | deleted_by               | ✓ Indexed
 night_audit_log | tenant_id                | ✓ Indexed
 night_audit_log | property_id              | ✓ Indexed
 night_audit_log | property_id              | ✓ Indexed
 night_audit_log | property_id              | ✓ Indexed
 night_audit_log | property_id              | ✓ Indexed
 night_audit_log | property_id              | ✓ Indexed
 night_audit_log | business_date_id         | ✓ Indexed
 night_audit_log | initiated_by             | ✓ Indexed
 night_audit_log | completed_by             | ✓ Indexed
 night_audit_log | acknowledged_by          | ✓ Indexed
 night_audit_log | previous_attempt_id      | ✓ Indexed
 night_audit_log | created_by               | ✓ Indexed
 night_audit_log | updated_by               | ✓ Indexed
 night_audit_log | deleted_by               | ✓ Indexed
(41 rows)


3. Checking partial indexes for soft delete...
    tablename    |                indexname                |        partial_index_status         
-----------------+-----------------------------------------+-------------------------------------
 audit_logs      | idx_audit_logs_compliance               | ⚠ Has WHERE but not for soft delete
 audit_logs      | idx_audit_logs_request                  | ⚠ Has WHERE but not for soft delete
 audit_logs      | idx_audit_logs_severity                 | ⚠ Has WHERE but not for soft delete
 business_dates  | idx_business_dates_audit_status         | ✓ Has soft delete filter
 business_dates  | idx_business_dates_open                 | ✓ Has soft delete filter
 business_dates  | idx_business_dates_property_date        | ✓ Has soft delete filter
 business_dates  | idx_business_dates_status               | ✓ Has soft delete filter
 business_dates  | idx_business_dates_tenant               | ✓ Has soft delete filter
 business_dates  | idx_uk_business_dates_open_per_property | ✓ Has soft delete filter
 night_audit_log | idx_night_audit_attention               | ✓ Has soft delete filter
 night_audit_log | idx_night_audit_started                 | ✓ Has soft delete filter
 night_audit_log | idx_night_audit_status                  | ✓ Has soft delete filter
 night_audit_log | idx_night_audit_tenant                  | ✓ Has soft delete filter
(13 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:indexes/07-analytics/verify-14-system-audit-indexes.sql:172: NOTICE:  
psql:indexes/07-analytics/verify-14-system-audit-indexes.sql:172: NOTICE:  Category: System & Audit
psql:indexes/07-analytics/verify-14-system-audit-indexes.sql:172: NOTICE:  Total Secondary Indexes: 39
psql:indexes/07-analytics/verify-14-system-audit-indexes.sql:172: NOTICE:  Tables with Indexes: 3 / 3
psql:indexes/07-analytics/verify-14-system-audit-indexes.sql:172: NOTICE:  Foreign Keys Without Index: 0
psql:indexes/07-analytics/verify-14-system-audit-indexes.sql:172: NOTICE:  
psql:indexes/07-analytics/verify-14-system-audit-indexes.sql:172: NOTICE:  ✓✓✓ SYSTEM & AUDIT INDEX VERIFICATION PASSED ✓✓✓
DO

==============================================
System & Audit index verification complete!
==============================================

======================================================
  INDEX VERIFICATION COMPLETE
======================================================


======================================================
  PHASE 3: CONSTRAINTS VERIFICATION
======================================================

You are now connected to database "tartware" as user "postgres".

======================================================
  CONSTRAINT VERIFICATION - ALL CATEGORIES
======================================================

You are now connected to database "tartware" as user "postgres".

==============================================
  CORE FOUNDATION - CONSTRAINT VERIFICATION
  Tables: 13
==============================================

1. Foreign key constraints by table...
        table_name        | fk_count 
--------------------------+----------
 guests                   |        1
 properties               |        1
 property_settings        |        4
 room_settings            |        4
 setting_categories       |        2
 setting_definitions      |        3
 system_admin_audit_log   |        2
 system_administrators    |        2
 tenant_settings          |        4
 user_settings            |        4
 user_tenant_associations |        2
(11 rows)


2. Verifying DELETE RESTRICT policy...
        table_name        |            constraint_name            | delete_rule |   status   
--------------------------+---------------------------------------+-------------+------------
 guests                   | fk_guests_tenant_id                   | RESTRICT    | ✓ Recorded
 properties               | fk_properties_tenant_id               | RESTRICT    | ✓ Recorded
 property_settings        | fk_property_settings_created_by       | RESTRICT    | ✓ Recorded
 property_settings        | fk_property_settings_definition       | RESTRICT    | ✓ Recorded
 property_settings        | fk_property_settings_property         | RESTRICT    | ✓ Recorded
 property_settings        | fk_property_settings_updated_by       | RESTRICT    | ✓ Recorded
 room_settings            | fk_room_settings_created_by           | RESTRICT    | ✓ Recorded
 room_settings            | fk_room_settings_definition           | RESTRICT    | ✓ Recorded
 room_settings            | fk_room_settings_room                 | RESTRICT    | ✓ Recorded
 room_settings            | fk_room_settings_updated_by           | RESTRICT    | ✓ Recorded
 setting_categories       | fk_setting_categories_created_by      | RESTRICT    | ✓ Recorded
 setting_categories       | fk_setting_categories_updated_by      | RESTRICT    | ✓ Recorded
 setting_definitions      | fk_setting_definitions_category       | RESTRICT    | ✓ Recorded
 setting_definitions      | fk_setting_definitions_created_by     | RESTRICT    | ✓ Recorded
 setting_definitions      | fk_setting_definitions_updated_by     | RESTRICT    | ✓ Recorded
 system_admin_audit_log   | system_admin_audit_log_admin_id_fkey  | NO ACTION   | ✓ Recorded
 system_admin_audit_log   | system_admin_audit_log_tenant_id_fkey | NO ACTION   | ✓ Recorded
 system_administrators    | system_administrators_created_by_fkey | NO ACTION   | ✓ Recorded
 system_administrators    | system_administrators_updated_by_fkey | NO ACTION   | ✓ Recorded
 tenant_settings          | fk_tenant_settings_created_by         | RESTRICT    | ✓ Recorded
 tenant_settings          | fk_tenant_settings_definition         | RESTRICT    | ✓ Recorded
 tenant_settings          | fk_tenant_settings_tenant             | RESTRICT    | ✓ Recorded
 tenant_settings          | fk_tenant_settings_updated_by         | RESTRICT    | ✓ Recorded
 user_settings            | fk_user_settings_created_by           | RESTRICT    | ✓ Recorded
 user_settings            | fk_user_settings_definition           | RESTRICT    | ✓ Recorded
 user_settings            | fk_user_settings_updated_by           | RESTRICT    | ✓ Recorded
 user_settings            | fk_user_settings_user                 | RESTRICT    | ✓ Recorded
 user_tenant_associations | fk_user_tenant_assoc_tenant_id        | RESTRICT    | ✓ Recorded
 user_tenant_associations | fk_user_tenant_assoc_user_id          | RESTRICT    | ✓ Recorded
(29 rows)


3. Verifying UPDATE CASCADE policy...
        table_name        |            constraint_name            | update_rule |   status   
--------------------------+---------------------------------------+-------------+------------
 guests                   | fk_guests_tenant_id                   | CASCADE     | ✓ Recorded
 properties               | fk_properties_tenant_id               | CASCADE     | ✓ Recorded
 property_settings        | fk_property_settings_created_by       | CASCADE     | ✓ Recorded
 property_settings        | fk_property_settings_definition       | CASCADE     | ✓ Recorded
 property_settings        | fk_property_settings_property         | CASCADE     | ✓ Recorded
 property_settings        | fk_property_settings_updated_by       | CASCADE     | ✓ Recorded
 room_settings            | fk_room_settings_created_by           | CASCADE     | ✓ Recorded
 room_settings            | fk_room_settings_definition           | CASCADE     | ✓ Recorded
 room_settings            | fk_room_settings_room                 | CASCADE     | ✓ Recorded
 room_settings            | fk_room_settings_updated_by           | CASCADE     | ✓ Recorded
 setting_categories       | fk_setting_categories_created_by      | CASCADE     | ✓ Recorded
 setting_categories       | fk_setting_categories_updated_by      | CASCADE     | ✓ Recorded
 setting_definitions      | fk_setting_definitions_category       | CASCADE     | ✓ Recorded
 setting_definitions      | fk_setting_definitions_created_by     | CASCADE     | ✓ Recorded
 setting_definitions      | fk_setting_definitions_updated_by     | CASCADE     | ✓ Recorded
 system_admin_audit_log   | system_admin_audit_log_admin_id_fkey  | NO ACTION   | ✓ Recorded
 system_admin_audit_log   | system_admin_audit_log_tenant_id_fkey | NO ACTION   | ✓ Recorded
 system_administrators    | system_administrators_created_by_fkey | NO ACTION   | ✓ Recorded
 system_administrators    | system_administrators_updated_by_fkey | NO ACTION   | ✓ Recorded
 tenant_settings          | fk_tenant_settings_created_by         | CASCADE     | ✓ Recorded
 tenant_settings          | fk_tenant_settings_definition         | CASCADE     | ✓ Recorded
 tenant_settings          | fk_tenant_settings_tenant             | CASCADE     | ✓ Recorded
 tenant_settings          | fk_tenant_settings_updated_by         | CASCADE     | ✓ Recorded
 user_settings            | fk_user_settings_created_by           | CASCADE     | ✓ Recorded
 user_settings            | fk_user_settings_definition           | CASCADE     | ✓ Recorded
 user_settings            | fk_user_settings_updated_by           | CASCADE     | ✓ Recorded
 user_settings            | fk_user_settings_user                 | CASCADE     | ✓ Recorded
 user_tenant_associations | fk_user_tenant_assoc_tenant_id        | CASCADE     | ✓ Recorded
 user_tenant_associations | fk_user_tenant_assoc_user_id          | CASCADE     | ✓ Recorded
(29 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
        table_name        |            constraint_name            |          status          
--------------------------+---------------------------------------+--------------------------
 guests                   | fk_guests_tenant_id                   | ✓ Multi-tenancy enforced
 properties               | fk_properties_tenant_id               | ✓ Multi-tenancy enforced
 system_admin_audit_log   | system_admin_audit_log_tenant_id_fkey | ✓ Multi-tenancy enforced
 tenant_settings          | fk_tenant_settings_tenant             | ✓ Multi-tenancy enforced
 user_tenant_associations | fk_user_tenant_assoc_tenant_id        | ✓ Multi-tenancy enforced
(5 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  Category: Core Foundation
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  Total Foreign Keys: 29
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  DELETE RESTRICT: 25 / 29
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  UPDATE CASCADE: 25 / 29
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  Tenant FKs: 5
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  
psql:constraints/01-core/verify-01-core-foundation-constraints.sql:266: NOTICE:  ✓✓✓ CORE FOUNDATION CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Core Foundation constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  ROOM & INVENTORY MANAGEMENT - CONSTRAINT VERIFICATION
  Tables: 4
==============================================

1. Foreign key constraints by table...
    table_name     | fk_count 
-------------------+----------
 rates             |        3
 room_availability |        3
 room_types        |        2
 rooms             |        3
(4 rows)


2. Verifying DELETE RESTRICT policy...
    table_name     |          constraint_name          | delete_rule |   status   
-------------------+-----------------------------------+-------------+------------
 rates             | fk_rates_property_id              | RESTRICT    | ✓ Recorded
 rates             | fk_rates_room_type_id             | RESTRICT    | ✓ Recorded
 rates             | fk_rates_tenant_id                | RESTRICT    | ✓ Recorded
 room_availability | fk_room_availability_property_id  | RESTRICT    | ✓ Recorded
 room_availability | fk_room_availability_room_type_id | RESTRICT    | ✓ Recorded
 room_availability | fk_room_availability_tenant_id    | RESTRICT    | ✓ Recorded
 room_types        | fk_room_types_property_id         | RESTRICT    | ✓ Recorded
 room_types        | fk_room_types_tenant_id           | RESTRICT    | ✓ Recorded
 rooms             | fk_rooms_property_id              | RESTRICT    | ✓ Recorded
 rooms             | fk_rooms_room_type_id             | RESTRICT    | ✓ Recorded
 rooms             | fk_rooms_tenant_id                | RESTRICT    | ✓ Recorded
(11 rows)


3. Verifying UPDATE CASCADE policy...
    table_name     |          constraint_name          | update_rule |   status   
-------------------+-----------------------------------+-------------+------------
 rates             | fk_rates_property_id              | CASCADE     | ✓ Recorded
 rates             | fk_rates_room_type_id             | CASCADE     | ✓ Recorded
 rates             | fk_rates_tenant_id                | CASCADE     | ✓ Recorded
 room_availability | fk_room_availability_property_id  | CASCADE     | ✓ Recorded
 room_availability | fk_room_availability_room_type_id | CASCADE     | ✓ Recorded
 room_availability | fk_room_availability_tenant_id    | CASCADE     | ✓ Recorded
 room_types        | fk_room_types_property_id         | CASCADE     | ✓ Recorded
 room_types        | fk_room_types_tenant_id           | CASCADE     | ✓ Recorded
 rooms             | fk_rooms_property_id              | CASCADE     | ✓ Recorded
 rooms             | fk_rooms_room_type_id             | CASCADE     | ✓ Recorded
 rooms             | fk_rooms_tenant_id                | CASCADE     | ✓ Recorded
(11 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
    table_name     |        constraint_name         |          status          
-------------------+--------------------------------+--------------------------
 rates             | fk_rates_tenant_id             | ✓ Multi-tenancy enforced
 room_availability | fk_room_availability_tenant_id | ✓ Multi-tenancy enforced
 room_types        | fk_room_types_tenant_id        | ✓ Multi-tenancy enforced
 rooms             | fk_rooms_tenant_id             | ✓ Multi-tenancy enforced
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  Category: Room & Inventory Management
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  Total Foreign Keys: 11
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  DELETE RESTRICT: 11 / 11
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  UPDATE CASCADE: 11 / 11
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  Tenant FKs: 4
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  
psql:constraints/02-inventory/verify-02-room-inventory-constraints.sql:166: NOTICE:  ✓✓✓ ROOM & INVENTORY MANAGEMENT CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Room & Inventory Management constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  REVENUE MANAGEMENT - CONSTRAINT VERIFICATION
  Tables: 7
==============================================

1. Foreign key constraints by table...
      table_name      | fk_count 
----------------------+----------
 competitor_rates     |        7
 demand_calendar      |        6
 pricing_rules        |        6
 rate_overrides       |       17
 rate_recommendations |       13
 revenue_forecasts    |        7
 revenue_goals        |       10
(7 rows)


2. Verifying DELETE RESTRICT policy...
      table_name      |            constraint_name             | delete_rule |   status   
----------------------+----------------------------------------+-------------+------------
 competitor_rates     | fk_competitor_rates_created_by         | SET NULL    | ✓ Recorded
 competitor_rates     | fk_competitor_rates_deleted_by         | SET NULL    | ✓ Recorded
 competitor_rates     | fk_competitor_rates_our_room_type      | SET NULL    | ✓ Recorded
 competitor_rates     | fk_competitor_rates_property           | CASCADE     | ✓ Recorded
 competitor_rates     | fk_competitor_rates_tenant             | CASCADE     | ✓ Recorded
 competitor_rates     | fk_competitor_rates_updated_by         | SET NULL    | ✓ Recorded
 competitor_rates     | fk_competitor_rates_verified_by        | SET NULL    | ✓ Recorded
 demand_calendar      | fk_demand_calendar_action_taken_by     | SET NULL    | ✓ Recorded
 demand_calendar      | fk_demand_calendar_created_by          | SET NULL    | ✓ Recorded
 demand_calendar      | fk_demand_calendar_deleted_by          | SET NULL    | ✓ Recorded
 demand_calendar      | fk_demand_calendar_property            | CASCADE     | ✓ Recorded
 demand_calendar      | fk_demand_calendar_tenant              | CASCADE     | ✓ Recorded
 demand_calendar      | fk_demand_calendar_updated_by          | SET NULL    | ✓ Recorded
 pricing_rules        | fk_pricing_rules_approved_by           | SET NULL    | ✓ Recorded
 pricing_rules        | fk_pricing_rules_created_by            | SET NULL    | ✓ Recorded
 pricing_rules        | fk_pricing_rules_deleted_by            | SET NULL    | ✓ Recorded
 pricing_rules        | fk_pricing_rules_property              | CASCADE     | ✓ Recorded
 pricing_rules        | fk_pricing_rules_tenant                | CASCADE     | ✓ Recorded
 pricing_rules        | fk_pricing_rules_updated_by            | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_applied_by           | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_approved_by          | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_booking_source       | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_created_by           | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_deleted_by           | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_guest                | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_market_segment       | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_property             | RESTRICT    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_rate_plan            | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_rejected_by          | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_requested_by         | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_reservation          | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_reviewed_by          | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_room_type            | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_tenant               | RESTRICT    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_updated_by           | SET NULL    | ✓ Recorded
 rate_overrides       | fk_rate_overrides_verified_by          | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_accepted_by    | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_created_by     | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_deleted_by     | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_feedback_by    | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_implemented_by | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_property       | CASCADE     | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_rate_plan      | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_rejected_by    | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_reviewed_by    | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_room_type      | CASCADE     | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_superseded_by  | SET NULL    | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_tenant         | CASCADE     | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_updated_by     | SET NULL    | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_adjusted_by       | SET NULL    | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_created_by        | SET NULL    | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_deleted_by        | SET NULL    | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_property          | CASCADE     | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_reviewed_by       | SET NULL    | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_tenant            | CASCADE     | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_updated_by        | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_action_plan_owner     | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_approved_by           | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_created_by            | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_deleted_by            | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_original_goal         | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_property              | CASCADE     | ✓ Recorded
 revenue_goals        | fk_revenue_goals_responsible_user      | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_revised_by            | SET NULL    | ✓ Recorded
 revenue_goals        | fk_revenue_goals_tenant                | CASCADE     | ✓ Recorded
 revenue_goals        | fk_revenue_goals_updated_by            | SET NULL    | ✓ Recorded
(66 rows)


3. Verifying UPDATE CASCADE policy...
      table_name      |            constraint_name             | update_rule |   status   
----------------------+----------------------------------------+-------------+------------
 competitor_rates     | fk_competitor_rates_created_by         | NO ACTION   | ✓ Recorded
 competitor_rates     | fk_competitor_rates_deleted_by         | NO ACTION   | ✓ Recorded
 competitor_rates     | fk_competitor_rates_our_room_type      | NO ACTION   | ✓ Recorded
 competitor_rates     | fk_competitor_rates_property           | NO ACTION   | ✓ Recorded
 competitor_rates     | fk_competitor_rates_tenant             | NO ACTION   | ✓ Recorded
 competitor_rates     | fk_competitor_rates_updated_by         | NO ACTION   | ✓ Recorded
 competitor_rates     | fk_competitor_rates_verified_by        | NO ACTION   | ✓ Recorded
 demand_calendar      | fk_demand_calendar_action_taken_by     | NO ACTION   | ✓ Recorded
 demand_calendar      | fk_demand_calendar_created_by          | NO ACTION   | ✓ Recorded
 demand_calendar      | fk_demand_calendar_deleted_by          | NO ACTION   | ✓ Recorded
 demand_calendar      | fk_demand_calendar_property            | NO ACTION   | ✓ Recorded
 demand_calendar      | fk_demand_calendar_tenant              | NO ACTION   | ✓ Recorded
 demand_calendar      | fk_demand_calendar_updated_by          | NO ACTION   | ✓ Recorded
 pricing_rules        | fk_pricing_rules_approved_by           | NO ACTION   | ✓ Recorded
 pricing_rules        | fk_pricing_rules_created_by            | NO ACTION   | ✓ Recorded
 pricing_rules        | fk_pricing_rules_deleted_by            | NO ACTION   | ✓ Recorded
 pricing_rules        | fk_pricing_rules_property              | NO ACTION   | ✓ Recorded
 pricing_rules        | fk_pricing_rules_tenant                | NO ACTION   | ✓ Recorded
 pricing_rules        | fk_pricing_rules_updated_by            | NO ACTION   | ✓ Recorded
 rate_overrides       | fk_rate_overrides_applied_by           | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_approved_by          | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_booking_source       | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_created_by           | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_deleted_by           | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_guest                | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_market_segment       | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_property             | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_rate_plan            | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_rejected_by          | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_requested_by         | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_reservation          | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_reviewed_by          | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_room_type            | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_tenant               | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_updated_by           | CASCADE     | ✓ Recorded
 rate_overrides       | fk_rate_overrides_verified_by          | CASCADE     | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_accepted_by    | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_created_by     | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_deleted_by     | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_feedback_by    | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_implemented_by | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_property       | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_rate_plan      | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_rejected_by    | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_reviewed_by    | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_room_type      | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_superseded_by  | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_tenant         | NO ACTION   | ✓ Recorded
 rate_recommendations | fk_rate_recommendations_updated_by     | NO ACTION   | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_adjusted_by       | NO ACTION   | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_created_by        | NO ACTION   | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_deleted_by        | NO ACTION   | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_property          | NO ACTION   | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_reviewed_by       | NO ACTION   | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_tenant            | NO ACTION   | ✓ Recorded
 revenue_forecasts    | fk_revenue_forecasts_updated_by        | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_action_plan_owner     | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_approved_by           | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_created_by            | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_deleted_by            | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_original_goal         | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_property              | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_responsible_user      | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_revised_by            | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_tenant                | NO ACTION   | ✓ Recorded
 revenue_goals        | fk_revenue_goals_updated_by            | NO ACTION   | ✓ Recorded
(66 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
      table_name      |        constraint_name         |          status          
----------------------+--------------------------------+--------------------------
 competitor_rates     | fk_competitor_rates_tenant     | ✓ Multi-tenancy enforced
 demand_calendar      | fk_demand_calendar_tenant      | ✓ Multi-tenancy enforced
 pricing_rules        | fk_pricing_rules_tenant        | ✓ Multi-tenancy enforced
 rate_overrides       | fk_rate_overrides_tenant       | ✓ Multi-tenancy enforced
 rate_recommendations | fk_rate_recommendations_tenant | ✓ Multi-tenancy enforced
 revenue_forecasts    | fk_revenue_forecasts_tenant    | ✓ Multi-tenancy enforced
 revenue_goals        | fk_revenue_goals_tenant        | ✓ Multi-tenancy enforced
(7 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  Category: Revenue Management
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  Total Foreign Keys: 66
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  DELETE RESTRICT: 2 / 66
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  UPDATE CASCADE: 17 / 66
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  Tenant FKs: 7
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  
psql:constraints/02-inventory/verify-08-revenue-management-constraints.sql:166: NOTICE:  ✓✓✓ REVENUE MANAGEMENT CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Revenue Management constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  RESERVATIONS & BOOKING - CONSTRAINT VERIFICATION
  Tables: 9
==============================================

1. Foreign key constraints by table...
         table_name         | fk_count 
----------------------------+----------
 allotments                 |       13
 booking_sources            |        5
 deposit_schedules          |       14
 guest_preferences          |        9
 market_segments            |        7
 reservation_status_history |        2
 reservation_traces         |        9
 reservations               |        5
 waitlist_entries           |        9
(9 rows)


2. Verifying DELETE RESTRICT policy...
         table_name         |               constraint_name                | delete_rule |   status   
----------------------------+----------------------------------------------+-------------+------------
 allotments                 | fk_allotments_account_manager                | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_booking_source                 | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_cancelled_by                   | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_confirmed_by                   | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_created_by                     | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_deleted_by                     | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_market_segment                 | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_master_folio                   | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_operations_manager             | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_property                       | RESTRICT    | ✓ Recorded
 allotments                 | fk_allotments_room_type                      | SET NULL    | ✓ Recorded
 allotments                 | fk_allotments_tenant                         | RESTRICT    | ✓ Recorded
 allotments                 | fk_allotments_updated_by                     | SET NULL    | ✓ Recorded
 booking_sources            | fk_booking_sources_created_by                | SET NULL    | ✓ Recorded
 booking_sources            | fk_booking_sources_deleted_by                | SET NULL    | ✓ Recorded
 booking_sources            | fk_booking_sources_property                  | RESTRICT    | ✓ Recorded
 booking_sources            | fk_booking_sources_tenant                    | RESTRICT    | ✓ Recorded
 booking_sources            | fk_booking_sources_updated_by                | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_created_by              | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_deleted_by              | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_folio                   | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_guest                   | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_paid_by                 | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_parent                  | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_posted_by               | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_posting                 | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_property                | RESTRICT    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_reservation             | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_tenant                  | RESTRICT    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_updated_by              | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_waived_by               | SET NULL    | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_waiver_approved_by      | SET NULL    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_collected_by            | SET NULL    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_created_by              | SET NULL    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_deleted_by              | SET NULL    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_guest                   | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_property                | RESTRICT    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_room_type               | SET NULL    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_tenant                  | RESTRICT    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_updated_by              | SET NULL    | ✓ Recorded
 guest_preferences          | fk_guest_preferences_verified_by             | SET NULL    | ✓ Recorded
 market_segments            | fk_market_segments_created_by                | SET NULL    | ✓ Recorded
 market_segments            | fk_market_segments_deleted_by                | SET NULL    | ✓ Recorded
 market_segments            | fk_market_segments_parent                    | SET NULL    | ✓ Recorded
 market_segments            | fk_market_segments_property                  | RESTRICT    | ✓ Recorded
 market_segments            | fk_market_segments_rate_plan                 | SET NULL    | ✓ Recorded
 market_segments            | fk_market_segments_tenant                    | RESTRICT    | ✓ Recorded
 market_segments            | fk_market_segments_updated_by                | SET NULL    | ✓ Recorded
 reservation_status_history | fk_reservation_status_history_reservation_id | RESTRICT    | ✓ Recorded
 reservation_status_history | fk_reservation_status_history_tenant_id      | RESTRICT    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_assigned_to            | SET NULL    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_completed_by           | SET NULL    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_created_by             | SET NULL    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_deleted_by             | SET NULL    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_guest                  | SET NULL    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_property               | RESTRICT    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_reservation            | RESTRICT    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_tenant                 | RESTRICT    | ✓ Recorded
 reservation_traces         | fk_reservation_traces_updated_by             | SET NULL    | ✓ Recorded
 reservations               | fk_reservations_guest_id                     | RESTRICT    | ✓ Recorded
 reservations               | fk_reservations_property_id                  | RESTRICT    | ✓ Recorded
 reservations               | fk_reservations_rate_id                      | RESTRICT    | ✓ Recorded
 reservations               | fk_reservations_room_type_id                 | RESTRICT    | ✓ Recorded
 reservations               | fk_reservations_tenant_id                    | RESTRICT    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_created_by               | SET NULL    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_deleted_by               | SET NULL    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_guest                    | SET NULL    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_property                 | RESTRICT    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_rate                     | SET NULL    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_reservation              | SET NULL    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_room_type                | SET NULL    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_tenant                   | RESTRICT    | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_updated_by               | SET NULL    | ✓ Recorded
(73 rows)


3. Verifying UPDATE CASCADE policy...
         table_name         |               constraint_name                | update_rule |   status   
----------------------------+----------------------------------------------+-------------+------------
 allotments                 | fk_allotments_account_manager                | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_booking_source                 | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_cancelled_by                   | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_confirmed_by                   | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_created_by                     | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_deleted_by                     | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_market_segment                 | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_master_folio                   | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_operations_manager             | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_property                       | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_room_type                      | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_tenant                         | CASCADE     | ✓ Recorded
 allotments                 | fk_allotments_updated_by                     | CASCADE     | ✓ Recorded
 booking_sources            | fk_booking_sources_created_by                | CASCADE     | ✓ Recorded
 booking_sources            | fk_booking_sources_deleted_by                | CASCADE     | ✓ Recorded
 booking_sources            | fk_booking_sources_property                  | CASCADE     | ✓ Recorded
 booking_sources            | fk_booking_sources_tenant                    | CASCADE     | ✓ Recorded
 booking_sources            | fk_booking_sources_updated_by                | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_created_by              | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_deleted_by              | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_folio                   | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_guest                   | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_paid_by                 | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_parent                  | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_posted_by               | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_posting                 | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_property                | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_reservation             | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_tenant                  | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_updated_by              | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_waived_by               | CASCADE     | ✓ Recorded
 deposit_schedules          | fk_deposit_schedules_waiver_approved_by      | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_collected_by            | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_created_by              | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_deleted_by              | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_guest                   | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_property                | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_room_type               | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_tenant                  | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_updated_by              | CASCADE     | ✓ Recorded
 guest_preferences          | fk_guest_preferences_verified_by             | CASCADE     | ✓ Recorded
 market_segments            | fk_market_segments_created_by                | CASCADE     | ✓ Recorded
 market_segments            | fk_market_segments_deleted_by                | CASCADE     | ✓ Recorded
 market_segments            | fk_market_segments_parent                    | CASCADE     | ✓ Recorded
 market_segments            | fk_market_segments_property                  | CASCADE     | ✓ Recorded
 market_segments            | fk_market_segments_rate_plan                 | CASCADE     | ✓ Recorded
 market_segments            | fk_market_segments_tenant                    | CASCADE     | ✓ Recorded
 market_segments            | fk_market_segments_updated_by                | CASCADE     | ✓ Recorded
 reservation_status_history | fk_reservation_status_history_reservation_id | CASCADE     | ✓ Recorded
 reservation_status_history | fk_reservation_status_history_tenant_id      | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_assigned_to            | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_completed_by           | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_created_by             | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_deleted_by             | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_guest                  | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_property               | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_reservation            | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_tenant                 | CASCADE     | ✓ Recorded
 reservation_traces         | fk_reservation_traces_updated_by             | CASCADE     | ✓ Recorded
 reservations               | fk_reservations_guest_id                     | CASCADE     | ✓ Recorded
 reservations               | fk_reservations_property_id                  | CASCADE     | ✓ Recorded
 reservations               | fk_reservations_rate_id                      | CASCADE     | ✓ Recorded
 reservations               | fk_reservations_room_type_id                 | CASCADE     | ✓ Recorded
 reservations               | fk_reservations_tenant_id                    | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_created_by               | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_deleted_by               | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_guest                    | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_property                 | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_rate                     | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_reservation              | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_room_type                | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_tenant                   | CASCADE     | ✓ Recorded
 waitlist_entries           | fk_waitlist_entries_updated_by               | CASCADE     | ✓ Recorded
(73 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
         table_name         |             constraint_name             |          status          
----------------------------+-----------------------------------------+--------------------------
 allotments                 | fk_allotments_tenant                    | ✓ Multi-tenancy enforced
 booking_sources            | fk_booking_sources_tenant               | ✓ Multi-tenancy enforced
 deposit_schedules          | fk_deposit_schedules_tenant             | ✓ Multi-tenancy enforced
 guest_preferences          | fk_guest_preferences_tenant             | ✓ Multi-tenancy enforced
 market_segments            | fk_market_segments_tenant               | ✓ Multi-tenancy enforced
 reservation_status_history | fk_reservation_status_history_tenant_id | ✓ Multi-tenancy enforced
 reservation_traces         | fk_reservation_traces_tenant            | ✓ Multi-tenancy enforced
 reservations               | fk_reservations_tenant_id               | ✓ Multi-tenancy enforced
 waitlist_entries           | fk_waitlist_entries_tenant              | ✓ Multi-tenancy enforced
(9 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  Category: Reservations & Booking
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  Total Foreign Keys: 73
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  DELETE RESTRICT: 22 / 73
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  UPDATE CASCADE: 73 / 73
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  Tenant FKs: 9
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  
psql:constraints/03-bookings/verify-03-reservations-booking-constraints.sql:246: NOTICE:  ✓✓✓ RESERVATIONS & BOOKING CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Reservations & Booking constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  GUEST RELATIONS & CRM - CONSTRAINT VERIFICATION
  Tables: 7
==============================================

1. Foreign key constraints by table...
       table_name        | fk_count 
-------------------------+----------
 automated_messages      |        7
 communication_templates |        4
 guest_communications    |        6
 guest_documents         |       11
 guest_feedback          |        5
 guest_loyalty_programs  |        8
 guest_notes             |       11
(7 rows)


2. Verifying DELETE RESTRICT policy...
       table_name        |                constraint_name                | delete_rule |   status   
-------------------------+-----------------------------------------------+-------------+------------
 automated_messages      | fk_automated_messages_created_by              | SET NULL    | ✓ Recorded
 automated_messages      | fk_automated_messages_deleted_by              | SET NULL    | ✓ Recorded
 automated_messages      | fk_automated_messages_fallback_template       | SET NULL    | ✓ Recorded
 automated_messages      | fk_automated_messages_property                | CASCADE     | ✓ Recorded
 automated_messages      | fk_automated_messages_template                | SET NULL    | ✓ Recorded
 automated_messages      | fk_automated_messages_tenant                  | CASCADE     | ✓ Recorded
 automated_messages      | fk_automated_messages_updated_by              | SET NULL    | ✓ Recorded
 communication_templates | fk_comm_template_created_by                   | SET NULL    | ✓ Recorded
 communication_templates | fk_comm_template_property                     | CASCADE     | ✓ Recorded
 communication_templates | fk_comm_template_tenant                       | CASCADE     | ✓ Recorded
 communication_templates | fk_comm_template_updated_by                   | SET NULL    | ✓ Recorded
 guest_communications    | fk_guest_comm_created_by                      | SET NULL    | ✓ Recorded
 guest_communications    | fk_guest_comm_guest                           | CASCADE     | ✓ Recorded
 guest_communications    | fk_guest_comm_property                        | CASCADE     | ✓ Recorded
 guest_communications    | fk_guest_comm_reservation                     | SET NULL    | ✓ Recorded
 guest_communications    | fk_guest_comm_template                        | SET NULL    | ✓ Recorded
 guest_communications    | fk_guest_comm_tenant                          | CASCADE     | ✓ Recorded
 guest_documents         | fk_guest_documents_created_by                 | SET NULL    | ✓ Recorded
 guest_documents         | fk_guest_documents_deleted_by                 | SET NULL    | ✓ Recorded
 guest_documents         | fk_guest_documents_guest                      | CASCADE     | ✓ Recorded
 guest_documents         | fk_guest_documents_last_viewed_by             | SET NULL    | ✓ Recorded
 guest_documents         | fk_guest_documents_previous_version           | SET NULL    | ✓ Recorded
 guest_documents         | fk_guest_documents_property                   | CASCADE     | ✓ Recorded
 guest_documents         | fk_guest_documents_reservation                | SET NULL    | ✓ Recorded
 guest_documents         | fk_guest_documents_tenant                     | CASCADE     | ✓ Recorded
 guest_documents         | fk_guest_documents_updated_by                 | SET NULL    | ✓ Recorded
 guest_documents         | fk_guest_documents_uploaded_by                | SET NULL    | ✓ Recorded
 guest_documents         | fk_guest_documents_verified_by                | SET NULL    | ✓ Recorded
 guest_feedback          | fk_guest_feedback_guest                       | CASCADE     | ✓ Recorded
 guest_feedback          | fk_guest_feedback_property                    | CASCADE     | ✓ Recorded
 guest_feedback          | fk_guest_feedback_reservation                 | CASCADE     | ✓ Recorded
 guest_feedback          | fk_guest_feedback_responded_by                | SET NULL    | ✓ Recorded
 guest_feedback          | fk_guest_feedback_tenant                      | CASCADE     | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_created_by          | SET NULL    | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_deleted_by          | SET NULL    | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_enrollment_property | SET NULL    | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_guest               | CASCADE     | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_property            | CASCADE     | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_referred_by         | SET NULL    | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_tenant              | CASCADE     | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_updated_by          | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_acknowledged_by                | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_assigned_to                    | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_created_by                     | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_deleted_by                     | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_guest                          | CASCADE     | ✓ Recorded
 guest_notes             | fk_guest_notes_parent                         | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_property                       | CASCADE     | ✓ Recorded
 guest_notes             | fk_guest_notes_reservation                    | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_resolved_by                    | SET NULL    | ✓ Recorded
 guest_notes             | fk_guest_notes_tenant                         | CASCADE     | ✓ Recorded
 guest_notes             | fk_guest_notes_updated_by                     | SET NULL    | ✓ Recorded
(52 rows)


3. Verifying UPDATE CASCADE policy...
       table_name        |                constraint_name                | update_rule |   status   
-------------------------+-----------------------------------------------+-------------+------------
 automated_messages      | fk_automated_messages_created_by              | NO ACTION   | ✓ Recorded
 automated_messages      | fk_automated_messages_deleted_by              | NO ACTION   | ✓ Recorded
 automated_messages      | fk_automated_messages_fallback_template       | NO ACTION   | ✓ Recorded
 automated_messages      | fk_automated_messages_property                | NO ACTION   | ✓ Recorded
 automated_messages      | fk_automated_messages_template                | NO ACTION   | ✓ Recorded
 automated_messages      | fk_automated_messages_tenant                  | NO ACTION   | ✓ Recorded
 automated_messages      | fk_automated_messages_updated_by              | NO ACTION   | ✓ Recorded
 communication_templates | fk_comm_template_created_by                   | NO ACTION   | ✓ Recorded
 communication_templates | fk_comm_template_property                     | NO ACTION   | ✓ Recorded
 communication_templates | fk_comm_template_tenant                       | NO ACTION   | ✓ Recorded
 communication_templates | fk_comm_template_updated_by                   | NO ACTION   | ✓ Recorded
 guest_communications    | fk_guest_comm_created_by                      | NO ACTION   | ✓ Recorded
 guest_communications    | fk_guest_comm_guest                           | NO ACTION   | ✓ Recorded
 guest_communications    | fk_guest_comm_property                        | NO ACTION   | ✓ Recorded
 guest_communications    | fk_guest_comm_reservation                     | NO ACTION   | ✓ Recorded
 guest_communications    | fk_guest_comm_template                        | NO ACTION   | ✓ Recorded
 guest_communications    | fk_guest_comm_tenant                          | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_created_by                 | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_deleted_by                 | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_guest                      | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_last_viewed_by             | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_previous_version           | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_property                   | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_reservation                | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_tenant                     | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_updated_by                 | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_uploaded_by                | NO ACTION   | ✓ Recorded
 guest_documents         | fk_guest_documents_verified_by                | NO ACTION   | ✓ Recorded
 guest_feedback          | fk_guest_feedback_guest                       | NO ACTION   | ✓ Recorded
 guest_feedback          | fk_guest_feedback_property                    | NO ACTION   | ✓ Recorded
 guest_feedback          | fk_guest_feedback_reservation                 | NO ACTION   | ✓ Recorded
 guest_feedback          | fk_guest_feedback_responded_by                | NO ACTION   | ✓ Recorded
 guest_feedback          | fk_guest_feedback_tenant                      | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_created_by          | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_deleted_by          | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_enrollment_property | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_guest               | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_property            | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_referred_by         | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_tenant              | NO ACTION   | ✓ Recorded
 guest_loyalty_programs  | fk_guest_loyalty_programs_updated_by          | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_acknowledged_by                | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_assigned_to                    | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_created_by                     | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_deleted_by                     | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_guest                          | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_parent                         | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_property                       | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_reservation                    | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_resolved_by                    | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_tenant                         | NO ACTION   | ✓ Recorded
 guest_notes             | fk_guest_notes_updated_by                     | NO ACTION   | ✓ Recorded
(52 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
       table_name        |         constraint_name          |          status          
-------------------------+----------------------------------+--------------------------
 automated_messages      | fk_automated_messages_tenant     | ✓ Multi-tenancy enforced
 communication_templates | fk_comm_template_tenant          | ✓ Multi-tenancy enforced
 guest_communications    | fk_guest_comm_tenant             | ✓ Multi-tenancy enforced
 guest_documents         | fk_guest_documents_tenant        | ✓ Multi-tenancy enforced
 guest_feedback          | fk_guest_feedback_tenant         | ✓ Multi-tenancy enforced
 guest_loyalty_programs  | fk_guest_loyalty_programs_tenant | ✓ Multi-tenancy enforced
 guest_notes             | fk_guest_notes_tenant            | ✓ Multi-tenancy enforced
(7 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  Category: Guest Relations & CRM
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  Total Foreign Keys: 52
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  DELETE RESTRICT: 0 / 52
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  UPDATE CASCADE: 0 / 52
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  Tenant FKs: 7
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  
psql:constraints/03-bookings/verify-07-guest-crm-constraints.sql:166: NOTICE:  ✓✓✓ GUEST RELATIONS & CRM CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Guest Relations & CRM constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  FINANCIAL MANAGEMENT - CONSTRAINT VERIFICATION
  Tables: 15
==============================================

1. Foreign key constraints by table...
       table_name       | fk_count 
------------------------+----------
 accounts_receivable    |       15
 cashier_sessions       |       13
 charge_postings        |       13
 commission_tracking    |       20
 credit_limits          |       12
 financial_closures     |       13
 folios                 |       10
 general_ledger_batches |        6
 general_ledger_entries |        9
 invoice_items          |        2
 invoices               |        4
 payment_tokens         |        7
 payments               |        5
 refunds                |       16
 tax_configurations     |        9
(15 rows)


2. Verifying DELETE RESTRICT policy...
       table_name       |               constraint_name                | delete_rule |   status   
------------------------+----------------------------------------------+-------------+------------
 accounts_receivable    | fk_accounts_receivable_account_manager       | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_collection_agent      | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_collection_manager    | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_created_by            | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_deleted_by            | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_folio                 | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_guest                 | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_invoice               | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_property              | CASCADE     | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_reconciled_by         | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_reservation           | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_tenant                | CASCADE     | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_updated_by            | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_write_off_approved_by | SET NULL    | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_written_off_by        | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_approved_by              | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_audited_by               | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_cashier                  | CASCADE     | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_created_by               | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_deleted_by               | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_investigated_by          | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_next                     | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_previous                 | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_property                 | CASCADE     | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_reconciled_by            | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_reviewed_by              | SET NULL    | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_tenant                   | CASCADE     | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_updated_by               | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_created_by                | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_deleted_by                | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_folio                     | RESTRICT    | ✓ Recorded
 charge_postings        | fk_charge_postings_guest                     | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_original_posting          | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_property                  | RESTRICT    | ✓ Recorded
 charge_postings        | fk_charge_postings_reservation               | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_tenant                    | RESTRICT    | ✓ Recorded
 charge_postings        | fk_charge_postings_transfer_from             | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_transfer_to               | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_updated_by                | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_void_posting              | SET NULL    | ✓ Recorded
 charge_postings        | fk_charge_postings_voided_by                 | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_adjusted_by           | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_approved_by           | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_contract              | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_created_by            | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_deleted_by            | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_dispute_filed_by      | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_guest                 | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_invoice               | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_original              | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_paid_by               | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_parent                | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_payment               | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_primary               | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_property              | CASCADE     | ✓ Recorded
 commission_tracking    | fk_commission_tracking_reconciled_by         | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_reservation           | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_reversed_by           | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_staff                 | SET NULL    | ✓ Recorded
 commission_tracking    | fk_commission_tracking_tenant                | CASCADE     | ✓ Recorded
 commission_tracking    | fk_commission_tracking_updated_by            | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_approved_by                 | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_blocked_by                  | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_created_by                  | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_deleted_by                  | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_guest                       | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_property                    | CASCADE     | ✓ Recorded
 credit_limits          | fk_credit_limits_relationship_manager        | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_reviewed_by                 | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_suspended_by                | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_temp_increase_approved_by   | SET NULL    | ✓ Recorded
 credit_limits          | fk_credit_limits_tenant                      | CASCADE     | ✓ Recorded
 credit_limits          | fk_credit_limits_updated_by                  | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_approved_by            | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_audited_by             | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_created_by             | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_deleted_by             | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_gl_posted_by           | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_locked_by              | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_previous               | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_property               | CASCADE     | ✓ Recorded
 financial_closures     | fk_financial_closures_reopened_by            | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_reviewed_by            | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_tenant                 | CASCADE     | ✓ Recorded
 financial_closures     | fk_financial_closures_updated_by             | SET NULL    | ✓ Recorded
 financial_closures     | fk_financial_closures_verified_by            | SET NULL    | ✓ Recorded
 folios                 | fk_folios_created_by                         | SET NULL    | ✓ Recorded
 folios                 | fk_folios_deleted_by                         | SET NULL    | ✓ Recorded
 folios                 | fk_folios_guest                              | SET NULL    | ✓ Recorded
 folios                 | fk_folios_property                           | RESTRICT    | ✓ Recorded
 folios                 | fk_folios_reservation                        | SET NULL    | ✓ Recorded
 folios                 | fk_folios_settled_by                         | SET NULL    | ✓ Recorded
 folios                 | fk_folios_tenant                             | RESTRICT    | ✓ Recorded
 folios                 | fk_folios_transferred_from                   | SET NULL    | ✓ Recorded
 folios                 | fk_folios_transferred_to                     | SET NULL    | ✓ Recorded
 folios                 | fk_folios_updated_by                         | SET NULL    | ✓ Recorded
 general_ledger_batches | fk_gl_batches_created_by                     | SET NULL    | ✓ Recorded
 general_ledger_batches | fk_gl_batches_deleted_by                     | SET NULL    | ✓ Recorded
 general_ledger_batches | fk_gl_batches_exported_by                    | SET NULL    | ✓ Recorded
 general_ledger_batches | fk_gl_batches_property                       | RESTRICT    | ✓ Recorded
 general_ledger_batches | fk_gl_batches_tenant                         | RESTRICT    | ✓ Recorded
 general_ledger_batches | fk_gl_batches_updated_by                     | SET NULL    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_batch                          | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_created_by                     | SET NULL    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_deleted_by                     | SET NULL    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_folio                          | SET NULL    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_posted_by                      | SET NULL    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_property                       | RESTRICT    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_reservation                    | SET NULL    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_tenant                         | RESTRICT    | ✓ Recorded
 general_ledger_entries | fk_gl_entries_updated_by                     | SET NULL    | ✓ Recorded
 invoice_items          | fk_invoice_items_invoice_id                  | RESTRICT    | ✓ Recorded
 invoice_items          | fk_invoice_items_tenant_id                   | RESTRICT    | ✓ Recorded
 invoices               | fk_invoices_guest_id                         | RESTRICT    | ✓ Recorded
 invoices               | fk_invoices_property_id                      | RESTRICT    | ✓ Recorded
 invoices               | fk_invoices_reservation_id                   | RESTRICT    | ✓ Recorded
 invoices               | fk_invoices_tenant_id                        | RESTRICT    | ✓ Recorded
 payment_tokens         | fk_payment_tokens_company                    | SET NULL    | ✓ Recorded
 payment_tokens         | fk_payment_tokens_created_by                 | SET NULL    | ✓ Recorded
 payment_tokens         | fk_payment_tokens_deleted_by                 | SET NULL    | ✓ Recorded
 payment_tokens         | fk_payment_tokens_guest                      | SET NULL    | ✓ Recorded
 payment_tokens         | fk_payment_tokens_property                   | SET NULL    | ✓ Recorded
 payment_tokens         | fk_payment_tokens_tenant                     | RESTRICT    | ✓ Recorded
 payment_tokens         | fk_payment_tokens_updated_by                 | SET NULL    | ✓ Recorded
 payments               | fk_payments_guest_id                         | RESTRICT    | ✓ Recorded
 payments               | fk_payments_payment_token_id                 | SET NULL    | ✓ Recorded
 payments               | fk_payments_property_id                      | RESTRICT    | ✓ Recorded
 payments               | fk_payments_reservation_id                   | RESTRICT    | ✓ Recorded
 payments               | fk_payments_tenant_id                        | RESTRICT    | ✓ Recorded
 refunds                | fk_refunds_approved_by                       | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_created_by                        | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_deleted_by                        | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_folio                             | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_guest                             | RESTRICT    | ✓ Recorded
 refunds                | fk_refunds_original_payment                  | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_original_posting                  | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_parent                            | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_processed_by                      | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_processing_started_by             | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_property                          | RESTRICT    | ✓ Recorded
 refunds                | fk_refunds_rejected_by                       | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_requested_by                      | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_reservation                       | SET NULL    | ✓ Recorded
 refunds                | fk_refunds_tenant                            | RESTRICT    | ✓ Recorded
 refunds                | fk_refunds_updated_by                        | SET NULL    | ✓ Recorded
 tax_configurations     | fk_tax_configs_approved_by                   | SET NULL    | ✓ Recorded
 tax_configurations     | fk_tax_configs_composite                     | SET NULL    | ✓ Recorded
 tax_configurations     | fk_tax_configs_created_by                    | SET NULL    | ✓ Recorded
 tax_configurations     | fk_tax_configs_deleted_by                    | SET NULL    | ✓ Recorded
 tax_configurations     | fk_tax_configs_property                      | CASCADE     | ✓ Recorded
 tax_configurations     | fk_tax_configs_replaced_by                   | SET NULL    | ✓ Recorded
 tax_configurations     | fk_tax_configs_replaces                      | SET NULL    | ✓ Recorded
 tax_configurations     | fk_tax_configs_tenant                        | CASCADE     | ✓ Recorded
 tax_configurations     | fk_tax_configs_updated_by                    | SET NULL    | ✓ Recorded
(154 rows)


3. Verifying UPDATE CASCADE policy...
       table_name       |               constraint_name                | update_rule |   status   
------------------------+----------------------------------------------+-------------+------------
 accounts_receivable    | fk_accounts_receivable_account_manager       | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_collection_agent      | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_collection_manager    | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_created_by            | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_deleted_by            | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_folio                 | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_guest                 | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_invoice               | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_property              | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_reconciled_by         | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_reservation           | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_tenant                | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_updated_by            | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_write_off_approved_by | NO ACTION   | ✓ Recorded
 accounts_receivable    | fk_accounts_receivable_written_off_by        | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_approved_by              | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_audited_by               | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_cashier                  | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_created_by               | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_deleted_by               | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_investigated_by          | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_next                     | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_previous                 | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_property                 | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_reconciled_by            | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_reviewed_by              | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_tenant                   | NO ACTION   | ✓ Recorded
 cashier_sessions       | fk_cashier_sessions_updated_by               | NO ACTION   | ✓ Recorded
 charge_postings        | fk_charge_postings_created_by                | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_deleted_by                | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_folio                     | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_guest                     | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_original_posting          | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_property                  | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_reservation               | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_tenant                    | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_transfer_from             | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_transfer_to               | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_updated_by                | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_void_posting              | CASCADE     | ✓ Recorded
 charge_postings        | fk_charge_postings_voided_by                 | CASCADE     | ✓ Recorded
 commission_tracking    | fk_commission_tracking_adjusted_by           | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_approved_by           | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_contract              | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_created_by            | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_deleted_by            | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_dispute_filed_by      | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_guest                 | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_invoice               | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_original              | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_paid_by               | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_parent                | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_payment               | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_primary               | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_property              | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_reconciled_by         | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_reservation           | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_reversed_by           | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_staff                 | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_tenant                | NO ACTION   | ✓ Recorded
 commission_tracking    | fk_commission_tracking_updated_by            | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_approved_by                 | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_blocked_by                  | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_created_by                  | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_deleted_by                  | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_guest                       | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_property                    | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_relationship_manager        | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_reviewed_by                 | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_suspended_by                | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_temp_increase_approved_by   | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_tenant                      | NO ACTION   | ✓ Recorded
 credit_limits          | fk_credit_limits_updated_by                  | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_approved_by            | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_audited_by             | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_created_by             | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_deleted_by             | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_gl_posted_by           | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_locked_by              | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_previous               | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_property               | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_reopened_by            | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_reviewed_by            | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_tenant                 | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_updated_by             | NO ACTION   | ✓ Recorded
 financial_closures     | fk_financial_closures_verified_by            | NO ACTION   | ✓ Recorded
 folios                 | fk_folios_created_by                         | CASCADE     | ✓ Recorded
 folios                 | fk_folios_deleted_by                         | CASCADE     | ✓ Recorded
 folios                 | fk_folios_guest                              | CASCADE     | ✓ Recorded
 folios                 | fk_folios_property                           | CASCADE     | ✓ Recorded
 folios                 | fk_folios_reservation                        | CASCADE     | ✓ Recorded
 folios                 | fk_folios_settled_by                         | CASCADE     | ✓ Recorded
 folios                 | fk_folios_tenant                             | CASCADE     | ✓ Recorded
 folios                 | fk_folios_transferred_from                   | CASCADE     | ✓ Recorded
 folios                 | fk_folios_transferred_to                     | CASCADE     | ✓ Recorded
 folios                 | fk_folios_updated_by                         | CASCADE     | ✓ Recorded
 general_ledger_batches | fk_gl_batches_created_by                     | CASCADE     | ✓ Recorded
 general_ledger_batches | fk_gl_batches_deleted_by                     | CASCADE     | ✓ Recorded
 general_ledger_batches | fk_gl_batches_exported_by                    | CASCADE     | ✓ Recorded
 general_ledger_batches | fk_gl_batches_property                       | CASCADE     | ✓ Recorded
 general_ledger_batches | fk_gl_batches_tenant                         | CASCADE     | ✓ Recorded
 general_ledger_batches | fk_gl_batches_updated_by                     | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_batch                          | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_created_by                     | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_deleted_by                     | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_folio                          | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_posted_by                      | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_property                       | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_reservation                    | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_tenant                         | CASCADE     | ✓ Recorded
 general_ledger_entries | fk_gl_entries_updated_by                     | CASCADE     | ✓ Recorded
 invoice_items          | fk_invoice_items_invoice_id                  | CASCADE     | ✓ Recorded
 invoice_items          | fk_invoice_items_tenant_id                   | CASCADE     | ✓ Recorded
 invoices               | fk_invoices_guest_id                         | CASCADE     | ✓ Recorded
 invoices               | fk_invoices_property_id                      | CASCADE     | ✓ Recorded
 invoices               | fk_invoices_reservation_id                   | CASCADE     | ✓ Recorded
 invoices               | fk_invoices_tenant_id                        | CASCADE     | ✓ Recorded
 payment_tokens         | fk_payment_tokens_company                    | CASCADE     | ✓ Recorded
 payment_tokens         | fk_payment_tokens_created_by                 | CASCADE     | ✓ Recorded
 payment_tokens         | fk_payment_tokens_deleted_by                 | CASCADE     | ✓ Recorded
 payment_tokens         | fk_payment_tokens_guest                      | CASCADE     | ✓ Recorded
 payment_tokens         | fk_payment_tokens_property                   | CASCADE     | ✓ Recorded
 payment_tokens         | fk_payment_tokens_tenant                     | CASCADE     | ✓ Recorded
 payment_tokens         | fk_payment_tokens_updated_by                 | CASCADE     | ✓ Recorded
 payments               | fk_payments_guest_id                         | CASCADE     | ✓ Recorded
 payments               | fk_payments_payment_token_id                 | CASCADE     | ✓ Recorded
 payments               | fk_payments_property_id                      | CASCADE     | ✓ Recorded
 payments               | fk_payments_reservation_id                   | CASCADE     | ✓ Recorded
 payments               | fk_payments_tenant_id                        | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_approved_by                       | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_created_by                        | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_deleted_by                        | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_folio                             | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_guest                             | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_original_payment                  | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_original_posting                  | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_parent                            | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_processed_by                      | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_processing_started_by             | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_property                          | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_rejected_by                       | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_requested_by                      | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_reservation                       | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_tenant                            | CASCADE     | ✓ Recorded
 refunds                | fk_refunds_updated_by                        | CASCADE     | ✓ Recorded
 tax_configurations     | fk_tax_configs_approved_by                   | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_composite                     | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_created_by                    | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_deleted_by                    | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_property                      | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_replaced_by                   | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_replaces                      | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_tenant                        | NO ACTION   | ✓ Recorded
 tax_configurations     | fk_tax_configs_updated_by                    | NO ACTION   | ✓ Recorded
(154 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
       table_name       |        constraint_name        |          status          
------------------------+-------------------------------+--------------------------
 accounts_receivable    | fk_accounts_receivable_tenant | ✓ Multi-tenancy enforced
 cashier_sessions       | fk_cashier_sessions_tenant    | ✓ Multi-tenancy enforced
 charge_postings        | fk_charge_postings_tenant     | ✓ Multi-tenancy enforced
 commission_tracking    | fk_commission_tracking_tenant | ✓ Multi-tenancy enforced
 credit_limits          | fk_credit_limits_tenant       | ✓ Multi-tenancy enforced
 financial_closures     | fk_financial_closures_tenant  | ✓ Multi-tenancy enforced
 folios                 | fk_folios_tenant              | ✓ Multi-tenancy enforced
 general_ledger_batches | fk_gl_batches_tenant          | ✓ Multi-tenancy enforced
 general_ledger_entries | fk_gl_entries_tenant          | ✓ Multi-tenancy enforced
 invoice_items          | fk_invoice_items_tenant_id    | ✓ Multi-tenancy enforced
 invoices               | fk_invoices_tenant_id         | ✓ Multi-tenancy enforced
 payment_tokens         | fk_payment_tokens_tenant      | ✓ Multi-tenancy enforced
 payments               | fk_payments_tenant_id         | ✓ Multi-tenancy enforced
 refunds                | fk_refunds_tenant             | ✓ Multi-tenancy enforced
 tax_configurations     | fk_tax_configs_tenant         | ✓ Multi-tenancy enforced
(15 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  Category: Financial Management
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  Total Foreign Keys: 154
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  DELETE RESTRICT: 23 / 154
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  UPDATE CASCADE: 72 / 154
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  Tenant FKs: 15
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  
psql:constraints/04-financial/verify-04-financial-management-constraints.sql:294: NOTICE:  ✓✓✓ FINANCIAL MANAGEMENT CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Financial Management constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  SERVICES & HOUSEKEEPING - CONSTRAINT VERIFICATION
  Tables: 6
==============================================

1. Foreign key constraints by table...
      table_name      | fk_count 
----------------------+----------
 housekeeping_tasks   |        2
 maintenance_requests |       16
 reservation_services |        3
 services             |        2
 spa_appointments     |       13
 spa_treatments       |        6
(6 rows)


2. Verifying DELETE RESTRICT policy...
      table_name      |             constraint_name             | delete_rule |   status   
----------------------+-----------------------------------------+-------------+------------
 housekeeping_tasks   | fk_housekeeping_tasks_property_id       | RESTRICT    | ✓ Recorded
 housekeeping_tasks   | fk_housekeeping_tasks_tenant_id         | RESTRICT    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_assigned_by     | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_assigned_to     | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_cancelled_by    | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_completed_by    | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_created_by      | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_deleted_by      | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_escalated_to    | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_guest           | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_previous        | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_property        | RESTRICT    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_reported_by     | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_reservation     | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_room            | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_tenant          | RESTRICT    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_updated_by      | SET NULL    | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_verified_by     | SET NULL    | ✓ Recorded
 reservation_services | fk_reservation_services_reservation_id  | RESTRICT    | ✓ Recorded
 reservation_services | fk_reservation_services_service_id      | RESTRICT    | ✓ Recorded
 reservation_services | fk_reservation_services_tenant_id       | RESTRICT    | ✓ Recorded
 services             | fk_services_property_id                 | RESTRICT    | ✓ Recorded
 services             | fk_services_tenant_id                   | RESTRICT    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_cancelled_by        | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_created_by          | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_deleted_by          | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_folio               | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_guest               | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_primary_therapist   | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_property            | RESTRICT    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_reservation         | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_room                | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_secondary_therapist | SET NULL    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_tenant              | RESTRICT    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_treatment           | RESTRICT    | ✓ Recorded
 spa_appointments     | fk_spa_appointments_updated_by          | SET NULL    | ✓ Recorded
 spa_treatments       | fk_spa_treatments_created_by            | SET NULL    | ✓ Recorded
 spa_treatments       | fk_spa_treatments_default_room          | SET NULL    | ✓ Recorded
 spa_treatments       | fk_spa_treatments_deleted_by            | SET NULL    | ✓ Recorded
 spa_treatments       | fk_spa_treatments_property              | RESTRICT    | ✓ Recorded
 spa_treatments       | fk_spa_treatments_tenant                | RESTRICT    | ✓ Recorded
 spa_treatments       | fk_spa_treatments_updated_by            | SET NULL    | ✓ Recorded
(42 rows)


3. Verifying UPDATE CASCADE policy...
      table_name      |             constraint_name             | update_rule |   status   
----------------------+-----------------------------------------+-------------+------------
 housekeeping_tasks   | fk_housekeeping_tasks_property_id       | CASCADE     | ✓ Recorded
 housekeeping_tasks   | fk_housekeeping_tasks_tenant_id         | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_assigned_by     | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_assigned_to     | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_cancelled_by    | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_completed_by    | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_created_by      | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_deleted_by      | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_escalated_to    | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_guest           | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_previous        | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_property        | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_reported_by     | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_reservation     | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_room            | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_tenant          | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_updated_by      | CASCADE     | ✓ Recorded
 maintenance_requests | fk_maintenance_requests_verified_by     | CASCADE     | ✓ Recorded
 reservation_services | fk_reservation_services_reservation_id  | CASCADE     | ✓ Recorded
 reservation_services | fk_reservation_services_service_id      | CASCADE     | ✓ Recorded
 reservation_services | fk_reservation_services_tenant_id       | CASCADE     | ✓ Recorded
 services             | fk_services_property_id                 | CASCADE     | ✓ Recorded
 services             | fk_services_tenant_id                   | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_cancelled_by        | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_created_by          | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_deleted_by          | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_folio               | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_guest               | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_primary_therapist   | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_property            | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_reservation         | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_room                | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_secondary_therapist | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_tenant              | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_treatment           | CASCADE     | ✓ Recorded
 spa_appointments     | fk_spa_appointments_updated_by          | CASCADE     | ✓ Recorded
 spa_treatments       | fk_spa_treatments_created_by            | CASCADE     | ✓ Recorded
 spa_treatments       | fk_spa_treatments_default_room          | CASCADE     | ✓ Recorded
 spa_treatments       | fk_spa_treatments_deleted_by            | CASCADE     | ✓ Recorded
 spa_treatments       | fk_spa_treatments_property              | CASCADE     | ✓ Recorded
 spa_treatments       | fk_spa_treatments_tenant                | CASCADE     | ✓ Recorded
 spa_treatments       | fk_spa_treatments_updated_by            | CASCADE     | ✓ Recorded
(42 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
      table_name      |          constraint_name          |          status          
----------------------+-----------------------------------+--------------------------
 housekeeping_tasks   | fk_housekeeping_tasks_tenant_id   | ✓ Multi-tenancy enforced
 maintenance_requests | fk_maintenance_requests_tenant    | ✓ Multi-tenancy enforced
 reservation_services | fk_reservation_services_tenant_id | ✓ Multi-tenancy enforced
 services             | fk_services_tenant_id             | ✓ Multi-tenancy enforced
 spa_appointments     | fk_spa_appointments_tenant        | ✓ Multi-tenancy enforced
 spa_treatments       | fk_spa_treatments_tenant          | ✓ Multi-tenancy enforced
(6 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  Category: Services & Housekeeping
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  Total Foreign Keys: 42
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  DELETE RESTRICT: 14 / 42
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  UPDATE CASCADE: 42 / 42
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  Tenant FKs: 6
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  
psql:constraints/05-operations/verify-05-services-housekeeping-constraints.sql:222: NOTICE:  ✓✓✓ SERVICES & HOUSEKEEPING CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Services & Housekeeping constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  STAFF & OPERATIONS - CONSTRAINT VERIFICATION
  Tables: 6
==============================================

1. Foreign key constraints by table...
    table_name    | fk_count 
------------------+----------
 incident_reports |       15
 lost_and_found   |       15
 shift_handovers  |       10
 staff_schedules  |       15
 staff_tasks      |       19
 vendor_contracts |       13
(6 rows)


2. Verifying DELETE RESTRICT policy...
    table_name    |             constraint_name             | delete_rule |   status   
------------------+-----------------------------------------+-------------+------------
 incident_reports | fk_incident_reports_approved_by         | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_closed_by           | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_created_by          | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_deleted_by          | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_discovered_by       | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_first_responder     | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_guest               | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_investigated_by     | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_management          | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_property            | CASCADE     | ✓ Recorded
 incident_reports | fk_incident_reports_reviewed_by         | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_room                | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_tenant              | CASCADE     | ✓ Recorded
 incident_reports | fk_incident_reports_updated_by          | SET NULL    | ✓ Recorded
 incident_reports | fk_incident_reports_verified_by         | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_approved_by           | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_claimed_by_guest      | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_created_by            | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_deleted_by            | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_disposed_by           | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_found_by              | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_guest                 | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_property              | CASCADE     | ✓ Recorded
 lost_and_found   | fk_lost_and_found_reservation           | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_returned_by           | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_room                  | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_stored_by             | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_tenant                | CASCADE     | ✓ Recorded
 lost_and_found   | fk_lost_and_found_updated_by            | SET NULL    | ✓ Recorded
 lost_and_found   | fk_lost_and_found_verified_by           | SET NULL    | ✓ Recorded
 shift_handovers  | fk_shift_handovers_acknowledged_by      | SET NULL    | ✓ Recorded
 shift_handovers  | fk_shift_handovers_created_by           | SET NULL    | ✓ Recorded
 shift_handovers  | fk_shift_handovers_deleted_by           | SET NULL    | ✓ Recorded
 shift_handovers  | fk_shift_handovers_incoming_user        | CASCADE     | ✓ Recorded
 shift_handovers  | fk_shift_handovers_manager              | SET NULL    | ✓ Recorded
 shift_handovers  | fk_shift_handovers_outgoing_user        | CASCADE     | ✓ Recorded
 shift_handovers  | fk_shift_handovers_previous             | SET NULL    | ✓ Recorded
 shift_handovers  | fk_shift_handovers_property             | CASCADE     | ✓ Recorded
 shift_handovers  | fk_shift_handovers_tenant               | CASCADE     | ✓ Recorded
 shift_handovers  | fk_shift_handovers_updated_by           | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_approved_by          | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_created_by           | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_deleted_by           | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_leave_approved_by    | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_overtime_approved_by | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_parent_schedule      | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_property             | CASCADE     | ✓ Recorded
 staff_schedules  | fk_staff_schedules_published_by         | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_replacing_user       | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_swap_approved_by     | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_swap_requested_by    | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_swap_requested_with  | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_tenant               | CASCADE     | ✓ Recorded
 staff_schedules  | fk_staff_schedules_updated_by           | SET NULL    | ✓ Recorded
 staff_schedules  | fk_staff_schedules_user                 | CASCADE     | ✓ Recorded
 staff_tasks      | fk_staff_tasks_accepted_by              | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_approved_by              | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_assigned_by              | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_assigned_to              | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_blocked_by               | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_completed_by             | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_created_by               | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_delegated_from           | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_deleted_by               | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_escalated_to             | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_guest                    | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_housekeeping_task        | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_parent_task              | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_property                 | CASCADE     | ✓ Recorded
 staff_tasks      | fk_staff_tasks_reservation              | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_room                     | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_tenant                   | CASCADE     | ✓ Recorded
 staff_tasks      | fk_staff_tasks_updated_by               | SET NULL    | ✓ Recorded
 staff_tasks      | fk_staff_tasks_verified_by              | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_approved_by         | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_approver            | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_created_by          | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_deleted_by          | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_legal_reviewer      | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_owner               | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_parent              | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_property            | CASCADE     | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_superseded_by       | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_supersedes          | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_tenant              | CASCADE     | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_terminated_by       | SET NULL    | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_updated_by          | SET NULL    | ✓ Recorded
(87 rows)


3. Verifying UPDATE CASCADE policy...
    table_name    |             constraint_name             | update_rule |   status   
------------------+-----------------------------------------+-------------+------------
 incident_reports | fk_incident_reports_approved_by         | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_closed_by           | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_created_by          | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_deleted_by          | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_discovered_by       | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_first_responder     | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_guest               | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_investigated_by     | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_management          | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_property            | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_reviewed_by         | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_room                | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_tenant              | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_updated_by          | NO ACTION   | ✓ Recorded
 incident_reports | fk_incident_reports_verified_by         | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_approved_by           | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_claimed_by_guest      | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_created_by            | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_deleted_by            | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_disposed_by           | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_found_by              | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_guest                 | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_property              | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_reservation           | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_returned_by           | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_room                  | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_stored_by             | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_tenant                | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_updated_by            | NO ACTION   | ✓ Recorded
 lost_and_found   | fk_lost_and_found_verified_by           | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_acknowledged_by      | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_created_by           | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_deleted_by           | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_incoming_user        | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_manager              | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_outgoing_user        | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_previous             | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_property             | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_tenant               | NO ACTION   | ✓ Recorded
 shift_handovers  | fk_shift_handovers_updated_by           | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_approved_by          | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_created_by           | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_deleted_by           | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_leave_approved_by    | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_overtime_approved_by | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_parent_schedule      | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_property             | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_published_by         | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_replacing_user       | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_swap_approved_by     | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_swap_requested_by    | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_swap_requested_with  | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_tenant               | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_updated_by           | NO ACTION   | ✓ Recorded
 staff_schedules  | fk_staff_schedules_user                 | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_accepted_by              | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_approved_by              | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_assigned_by              | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_assigned_to              | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_blocked_by               | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_completed_by             | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_created_by               | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_delegated_from           | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_deleted_by               | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_escalated_to             | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_guest                    | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_housekeeping_task        | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_parent_task              | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_property                 | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_reservation              | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_room                     | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_tenant                   | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_updated_by               | NO ACTION   | ✓ Recorded
 staff_tasks      | fk_staff_tasks_verified_by              | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_approved_by         | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_approver            | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_created_by          | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_deleted_by          | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_legal_reviewer      | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_owner               | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_parent              | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_property            | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_superseded_by       | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_supersedes          | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_tenant              | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_terminated_by       | NO ACTION   | ✓ Recorded
 vendor_contracts | fk_vendor_contracts_updated_by          | NO ACTION   | ✓ Recorded
(87 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
    table_name    |      constraint_name       |          status          
------------------+----------------------------+--------------------------
 incident_reports | fk_incident_reports_tenant | ✓ Multi-tenancy enforced
 lost_and_found   | fk_lost_and_found_tenant   | ✓ Multi-tenancy enforced
 shift_handovers  | fk_shift_handovers_tenant  | ✓ Multi-tenancy enforced
 staff_schedules  | fk_staff_schedules_tenant  | ✓ Multi-tenancy enforced
 staff_tasks      | fk_staff_tasks_tenant      | ✓ Multi-tenancy enforced
 vendor_contracts | fk_vendor_contracts_tenant | ✓ Multi-tenancy enforced
(6 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  Category: Staff & Operations
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  Total Foreign Keys: 87
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  DELETE RESTRICT: 0 / 87
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  UPDATE CASCADE: 0 / 87
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  Tenant FKs: 6
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  
psql:constraints/05-operations/verify-09-staff-operations-constraints.sql:166: NOTICE:  ✓✓✓ STAFF & OPERATIONS CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Staff & Operations constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  MOBILE & DIGITAL - CONSTRAINT VERIFICATION
  Tables: 4
==============================================

1. Foreign key constraints by table...
     table_name      | fk_count 
---------------------+----------
 app_usage_analytics |        3
 mobile_keys         |        8
 push_notifications  |        6
 qr_codes            |        6
(4 rows)


2. Verifying DELETE RESTRICT policy...
     table_name      |         constraint_name          | delete_rule |   status   
---------------------+----------------------------------+-------------+------------
 app_usage_analytics | fk_app_usage_analytics_guest     | SET NULL    | ✓ Recorded
 app_usage_analytics | fk_app_usage_analytics_property  | CASCADE     | ✓ Recorded
 app_usage_analytics | fk_app_usage_analytics_tenant    | CASCADE     | ✓ Recorded
 mobile_keys         | fk_mobile_keys_created_by        | SET NULL    | ✓ Recorded
 mobile_keys         | fk_mobile_keys_deleted_by        | SET NULL    | ✓ Recorded
 mobile_keys         | fk_mobile_keys_guest             | CASCADE     | ✓ Recorded
 mobile_keys         | fk_mobile_keys_property          | CASCADE     | ✓ Recorded
 mobile_keys         | fk_mobile_keys_reservation       | CASCADE     | ✓ Recorded
 mobile_keys         | fk_mobile_keys_room              | CASCADE     | ✓ Recorded
 mobile_keys         | fk_mobile_keys_tenant            | CASCADE     | ✓ Recorded
 mobile_keys         | fk_mobile_keys_updated_by        | SET NULL    | ✓ Recorded
 push_notifications  | fk_push_notifications_created_by | SET NULL    | ✓ Recorded
 push_notifications  | fk_push_notifications_deleted_by | SET NULL    | ✓ Recorded
 push_notifications  | fk_push_notifications_guest      | CASCADE     | ✓ Recorded
 push_notifications  | fk_push_notifications_property   | CASCADE     | ✓ Recorded
 push_notifications  | fk_push_notifications_tenant     | CASCADE     | ✓ Recorded
 push_notifications  | fk_push_notifications_updated_by | SET NULL    | ✓ Recorded
 qr_codes            | fk_qr_codes_created_by           | SET NULL    | ✓ Recorded
 qr_codes            | fk_qr_codes_deleted_by           | SET NULL    | ✓ Recorded
 qr_codes            | fk_qr_codes_property             | CASCADE     | ✓ Recorded
 qr_codes            | fk_qr_codes_room                 | SET NULL    | ✓ Recorded
 qr_codes            | fk_qr_codes_tenant               | CASCADE     | ✓ Recorded
 qr_codes            | fk_qr_codes_updated_by           | SET NULL    | ✓ Recorded
(23 rows)


3. Verifying UPDATE CASCADE policy...
     table_name      |         constraint_name          | update_rule |   status   
---------------------+----------------------------------+-------------+------------
 app_usage_analytics | fk_app_usage_analytics_guest     | NO ACTION   | ✓ Recorded
 app_usage_analytics | fk_app_usage_analytics_property  | NO ACTION   | ✓ Recorded
 app_usage_analytics | fk_app_usage_analytics_tenant    | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_created_by        | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_deleted_by        | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_guest             | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_property          | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_reservation       | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_room              | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_tenant            | NO ACTION   | ✓ Recorded
 mobile_keys         | fk_mobile_keys_updated_by        | NO ACTION   | ✓ Recorded
 push_notifications  | fk_push_notifications_created_by | NO ACTION   | ✓ Recorded
 push_notifications  | fk_push_notifications_deleted_by | NO ACTION   | ✓ Recorded
 push_notifications  | fk_push_notifications_guest      | NO ACTION   | ✓ Recorded
 push_notifications  | fk_push_notifications_property   | NO ACTION   | ✓ Recorded
 push_notifications  | fk_push_notifications_tenant     | NO ACTION   | ✓ Recorded
 push_notifications  | fk_push_notifications_updated_by | NO ACTION   | ✓ Recorded
 qr_codes            | fk_qr_codes_created_by           | NO ACTION   | ✓ Recorded
 qr_codes            | fk_qr_codes_deleted_by           | NO ACTION   | ✓ Recorded
 qr_codes            | fk_qr_codes_property             | NO ACTION   | ✓ Recorded
 qr_codes            | fk_qr_codes_room                 | NO ACTION   | ✓ Recorded
 qr_codes            | fk_qr_codes_tenant               | NO ACTION   | ✓ Recorded
 qr_codes            | fk_qr_codes_updated_by           | NO ACTION   | ✓ Recorded
(23 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
     table_name      |        constraint_name        |          status          
---------------------+-------------------------------+--------------------------
 app_usage_analytics | fk_app_usage_analytics_tenant | ✓ Multi-tenancy enforced
 mobile_keys         | fk_mobile_keys_tenant         | ✓ Multi-tenancy enforced
 push_notifications  | fk_push_notifications_tenant  | ✓ Multi-tenancy enforced
 qr_codes            | fk_qr_codes_tenant            | ✓ Multi-tenancy enforced
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  Category: Mobile & Digital
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  Total Foreign Keys: 23
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  DELETE RESTRICT: 0 / 23
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  UPDATE CASCADE: 0 / 23
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  Tenant FKs: 4
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  
psql:constraints/05-operations/verify-13-mobile-digital-constraints.sql:166: NOTICE:  ✓✓✓ MOBILE & DIGITAL CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Mobile & Digital constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  CHANNEL MANAGEMENT & OTA - CONSTRAINT VERIFICATION
  Tables: 10
==============================================

1. Foreign key constraints by table...
        table_name        | fk_count 
--------------------------+----------
 channel_commission_rules |        7
 channel_mappings         |        2
 channel_rate_parity      |        8
 gds_connections          |        5
 gds_message_log          |        5
 gds_reservation_queue    |        7
 ota_configurations       |        4
 ota_inventory_sync       |        9
 ota_rate_plans           |        6
 ota_reservations_queue   |        4
(10 rows)


2. Verifying DELETE RESTRICT policy...
        table_name        |                constraint_name                 | delete_rule |   status   
--------------------------+------------------------------------------------+-------------+------------
 channel_commission_rules | fk_channel_commission_rules_approved_by        | SET NULL    | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_created_by         | SET NULL    | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_deleted_by         | SET NULL    | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_ota_config         | SET NULL    | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_property           | CASCADE     | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_tenant             | CASCADE     | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_updated_by         | SET NULL    | ✓ Recorded
 channel_mappings         | fk_channel_mappings_property_id                | RESTRICT    | ✓ Recorded
 channel_mappings         | fk_channel_mappings_tenant_id                  | RESTRICT    | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_created_by              | SET NULL    | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_deleted_by              | SET NULL    | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_property                | CASCADE     | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_rate_plan               | SET NULL    | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_resolved_by             | SET NULL    | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_room_type               | CASCADE     | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_tenant                  | CASCADE     | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_updated_by              | SET NULL    | ✓ Recorded
 gds_connections          | fk_gds_connections_created_by                  | SET NULL    | ✓ Recorded
 gds_connections          | fk_gds_connections_deleted_by                  | SET NULL    | ✓ Recorded
 gds_connections          | fk_gds_connections_property                    | SET NULL    | ✓ Recorded
 gds_connections          | fk_gds_connections_tenant                      | RESTRICT    | ✓ Recorded
 gds_connections          | fk_gds_connections_updated_by                  | SET NULL    | ✓ Recorded
 gds_message_log          | fk_gds_message_log_connection                  | RESTRICT    | ✓ Recorded
 gds_message_log          | fk_gds_message_log_created_by                  | SET NULL    | ✓ Recorded
 gds_message_log          | fk_gds_message_log_property                    | SET NULL    | ✓ Recorded
 gds_message_log          | fk_gds_message_log_tenant                      | RESTRICT    | ✓ Recorded
 gds_message_log          | fk_gds_message_log_updated_by                  | SET NULL    | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_connection            | RESTRICT    | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_created_by            | SET NULL    | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_message               | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_processed_reservation | SET NULL    | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_property              | SET NULL    | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_tenant                | RESTRICT    | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_updated_by            | SET NULL    | ✓ Recorded
 ota_configurations       | fk_ota_config_created_by                       | SET NULL    | ✓ Recorded
 ota_configurations       | fk_ota_config_property                         | CASCADE     | ✓ Recorded
 ota_configurations       | fk_ota_config_tenant                           | CASCADE     | ✓ Recorded
 ota_configurations       | fk_ota_config_updated_by                       | SET NULL    | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_created_by               | SET NULL    | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_deleted_by               | SET NULL    | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_ota_config               | CASCADE     | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_property                 | CASCADE     | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_rate_plan                | SET NULL    | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_room_type                | SET NULL    | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_tenant                   | CASCADE     | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_triggered_by_user        | SET NULL    | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_updated_by               | SET NULL    | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_created_by                    | SET NULL    | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_ota_config                    | CASCADE     | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_property                      | CASCADE     | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_rate                          | CASCADE     | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_tenant                        | CASCADE     | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_updated_by                    | SET NULL    | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_ota_config                        | CASCADE     | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_property                          | CASCADE     | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_reservation                       | SET NULL    | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_tenant                            | CASCADE     | ✓ Recorded
(57 rows)


3. Verifying UPDATE CASCADE policy...
        table_name        |                constraint_name                 | update_rule |   status   
--------------------------+------------------------------------------------+-------------+------------
 channel_commission_rules | fk_channel_commission_rules_approved_by        | NO ACTION   | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_created_by         | NO ACTION   | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_deleted_by         | NO ACTION   | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_ota_config         | NO ACTION   | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_property           | NO ACTION   | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_tenant             | NO ACTION   | ✓ Recorded
 channel_commission_rules | fk_channel_commission_rules_updated_by         | NO ACTION   | ✓ Recorded
 channel_mappings         | fk_channel_mappings_property_id                | CASCADE     | ✓ Recorded
 channel_mappings         | fk_channel_mappings_tenant_id                  | CASCADE     | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_created_by              | NO ACTION   | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_deleted_by              | NO ACTION   | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_property                | NO ACTION   | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_rate_plan               | NO ACTION   | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_resolved_by             | NO ACTION   | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_room_type               | NO ACTION   | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_tenant                  | NO ACTION   | ✓ Recorded
 channel_rate_parity      | fk_channel_rate_parity_updated_by              | NO ACTION   | ✓ Recorded
 gds_connections          | fk_gds_connections_created_by                  | CASCADE     | ✓ Recorded
 gds_connections          | fk_gds_connections_deleted_by                  | CASCADE     | ✓ Recorded
 gds_connections          | fk_gds_connections_property                    | CASCADE     | ✓ Recorded
 gds_connections          | fk_gds_connections_tenant                      | CASCADE     | ✓ Recorded
 gds_connections          | fk_gds_connections_updated_by                  | CASCADE     | ✓ Recorded
 gds_message_log          | fk_gds_message_log_connection                  | CASCADE     | ✓ Recorded
 gds_message_log          | fk_gds_message_log_created_by                  | CASCADE     | ✓ Recorded
 gds_message_log          | fk_gds_message_log_property                    | CASCADE     | ✓ Recorded
 gds_message_log          | fk_gds_message_log_tenant                      | CASCADE     | ✓ Recorded
 gds_message_log          | fk_gds_message_log_updated_by                  | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_connection            | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_created_by            | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_message               | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_processed_reservation | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_property              | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_tenant                | CASCADE     | ✓ Recorded
 gds_reservation_queue    | fk_gds_reservation_queue_updated_by            | CASCADE     | ✓ Recorded
 ota_configurations       | fk_ota_config_created_by                       | NO ACTION   | ✓ Recorded
 ota_configurations       | fk_ota_config_property                         | NO ACTION   | ✓ Recorded
 ota_configurations       | fk_ota_config_tenant                           | NO ACTION   | ✓ Recorded
 ota_configurations       | fk_ota_config_updated_by                       | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_created_by               | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_deleted_by               | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_ota_config               | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_property                 | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_rate_plan                | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_room_type                | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_tenant                   | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_triggered_by_user        | NO ACTION   | ✓ Recorded
 ota_inventory_sync       | fk_ota_inventory_sync_updated_by               | NO ACTION   | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_created_by                    | NO ACTION   | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_ota_config                    | NO ACTION   | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_property                      | NO ACTION   | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_rate                          | NO ACTION   | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_tenant                        | NO ACTION   | ✓ Recorded
 ota_rate_plans           | fk_ota_rate_plan_updated_by                    | NO ACTION   | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_ota_config                        | NO ACTION   | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_property                          | NO ACTION   | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_reservation                       | NO ACTION   | ✓ Recorded
 ota_reservations_queue   | fk_ota_queue_tenant                            | NO ACTION   | ✓ Recorded
(57 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
        table_name        |          constraint_name           |          status          
--------------------------+------------------------------------+--------------------------
 channel_commission_rules | fk_channel_commission_rules_tenant | ✓ Multi-tenancy enforced
 channel_mappings         | fk_channel_mappings_tenant_id      | ✓ Multi-tenancy enforced
 channel_rate_parity      | fk_channel_rate_parity_tenant      | ✓ Multi-tenancy enforced
 gds_connections          | fk_gds_connections_tenant          | ✓ Multi-tenancy enforced
 gds_message_log          | fk_gds_message_log_tenant          | ✓ Multi-tenancy enforced
 gds_reservation_queue    | fk_gds_reservation_queue_tenant    | ✓ Multi-tenancy enforced
 ota_configurations       | fk_ota_config_tenant               | ✓ Multi-tenancy enforced
 ota_inventory_sync       | fk_ota_inventory_sync_tenant       | ✓ Multi-tenancy enforced
 ota_rate_plans           | fk_ota_rate_plan_tenant            | ✓ Multi-tenancy enforced
 ota_reservations_queue   | fk_ota_queue_tenant                | ✓ Multi-tenancy enforced
(10 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  Category: Channel Management & OTA
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  Total Foreign Keys: 57
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  DELETE RESTRICT: 7 / 57
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  UPDATE CASCADE: 19 / 57
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  Tenant FKs: 10
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  
psql:constraints/06-integrations/verify-06-channel-ota-constraints.sql:254: NOTICE:  ✓✓✓ CHANNEL MANAGEMENT & OTA CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Channel Management & OTA constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  MARKETING & CAMPAIGNS - CONSTRAINT VERIFICATION
  Tables: 5
==============================================

1. Foreign key constraints by table...
      table_name       | fk_count 
-----------------------+----------
 campaign_segments     |        6
 marketing_campaigns   |        8
 promotional_codes     |        8
 referral_tracking     |       10
 social_media_mentions |       13
(5 rows)


2. Verifying DELETE RESTRICT policy...
      table_name       |            constraint_name             | delete_rule |   status   
-----------------------+----------------------------------------+-------------+------------
 campaign_segments     | fk_campaign_segments_created_by        | SET NULL    | ✓ Recorded
 campaign_segments     | fk_campaign_segments_deleted_by        | SET NULL    | ✓ Recorded
 campaign_segments     | fk_campaign_segments_owner             | SET NULL    | ✓ Recorded
 campaign_segments     | fk_campaign_segments_property          | CASCADE     | ✓ Recorded
 campaign_segments     | fk_campaign_segments_tenant            | CASCADE     | ✓ Recorded
 campaign_segments     | fk_campaign_segments_updated_by        | SET NULL    | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_approved_by     | SET NULL    | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_created_by      | SET NULL    | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_created_by_user | SET NULL    | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_deleted_by      | SET NULL    | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_manager         | SET NULL    | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_property        | CASCADE     | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_tenant          | CASCADE     | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_updated_by      | SET NULL    | ✓ Recorded
 promotional_codes     | fk_promotional_codes_campaign          | SET NULL    | ✓ Recorded
 promotional_codes     | fk_promotional_codes_created_by        | SET NULL    | ✓ Recorded
 promotional_codes     | fk_promotional_codes_created_by_user   | SET NULL    | ✓ Recorded
 promotional_codes     | fk_promotional_codes_deleted_by        | SET NULL    | ✓ Recorded
 promotional_codes     | fk_promotional_codes_owner             | SET NULL    | ✓ Recorded
 promotional_codes     | fk_promotional_codes_property          | CASCADE     | ✓ Recorded
 promotional_codes     | fk_promotional_codes_tenant            | CASCADE     | ✓ Recorded
 promotional_codes     | fk_promotional_codes_updated_by        | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_approved_by       | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_campaign          | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_created_by        | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_deleted_by        | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_parent            | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_property          | CASCADE     | ✓ Recorded
 referral_tracking     | fk_referral_tracking_referee           | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_reservation       | SET NULL    | ✓ Recorded
 referral_tracking     | fk_referral_tracking_tenant            | CASCADE     | ✓ Recorded
 referral_tracking     | fk_referral_tracking_updated_by        | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_assigned_to   | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_campaign      | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_created_by    | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_deleted_by    | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_escalated_to  | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_guest         | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_parent        | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_property      | CASCADE     | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_reservation   | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_responded_by  | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_tenant        | CASCADE     | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_updated_by    | SET NULL    | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_verified_by   | SET NULL    | ✓ Recorded
(45 rows)


3. Verifying UPDATE CASCADE policy...
      table_name       |            constraint_name             | update_rule |   status   
-----------------------+----------------------------------------+-------------+------------
 campaign_segments     | fk_campaign_segments_created_by        | NO ACTION   | ✓ Recorded
 campaign_segments     | fk_campaign_segments_deleted_by        | NO ACTION   | ✓ Recorded
 campaign_segments     | fk_campaign_segments_owner             | NO ACTION   | ✓ Recorded
 campaign_segments     | fk_campaign_segments_property          | NO ACTION   | ✓ Recorded
 campaign_segments     | fk_campaign_segments_tenant            | NO ACTION   | ✓ Recorded
 campaign_segments     | fk_campaign_segments_updated_by        | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_approved_by     | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_created_by      | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_created_by_user | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_deleted_by      | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_manager         | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_property        | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_tenant          | NO ACTION   | ✓ Recorded
 marketing_campaigns   | fk_marketing_campaigns_updated_by      | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_campaign          | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_created_by        | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_created_by_user   | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_deleted_by        | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_owner             | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_property          | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_tenant            | NO ACTION   | ✓ Recorded
 promotional_codes     | fk_promotional_codes_updated_by        | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_approved_by       | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_campaign          | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_created_by        | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_deleted_by        | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_parent            | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_property          | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_referee           | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_reservation       | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_tenant            | NO ACTION   | ✓ Recorded
 referral_tracking     | fk_referral_tracking_updated_by        | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_assigned_to   | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_campaign      | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_created_by    | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_deleted_by    | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_escalated_to  | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_guest         | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_parent        | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_property      | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_reservation   | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_responded_by  | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_tenant        | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_updated_by    | NO ACTION   | ✓ Recorded
 social_media_mentions | fk_social_media_mentions_verified_by   | NO ACTION   | ✓ Recorded
(45 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
      table_name       |         constraint_name         |          status          
-----------------------+---------------------------------+--------------------------
 campaign_segments     | fk_campaign_segments_tenant     | ✓ Multi-tenancy enforced
 marketing_campaigns   | fk_marketing_campaigns_tenant   | ✓ Multi-tenancy enforced
 promotional_codes     | fk_promotional_codes_tenant     | ✓ Multi-tenancy enforced
 referral_tracking     | fk_referral_tracking_tenant     | ✓ Multi-tenancy enforced
 social_media_mentions | fk_social_media_mentions_tenant | ✓ Multi-tenancy enforced
(5 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  Category: Marketing & Campaigns
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  Total Foreign Keys: 45
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  DELETE RESTRICT: 0 / 45
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  UPDATE CASCADE: 0 / 45
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  Tenant FKs: 5
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  
psql:constraints/06-integrations/verify-10-marketing-campaigns-constraints.sql:166: NOTICE:  ✓✓✓ MARKETING & CAMPAIGNS CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Marketing & Campaigns constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  INTEGRATION HUB - CONSTRAINT VERIFICATION
  Tables: 4
==============================================

1. Foreign key constraints by table...
      table_name       | fk_count 
-----------------------+----------
 api_logs              |        3
 data_sync_status      |        5
 integration_mappings  |        5
 webhook_subscriptions |        5
(4 rows)


2. Verifying DELETE RESTRICT policy...
      table_name       |           constraint_name           | delete_rule |   status   
-----------------------+-------------------------------------+-------------+------------
 api_logs              | fk_api_logs_property                | CASCADE     | ✓ Recorded
 api_logs              | fk_api_logs_tenant                  | CASCADE     | ✓ Recorded
 api_logs              | fk_api_logs_user                    | SET NULL    | ✓ Recorded
 data_sync_status      | fk_data_sync_status_created_by      | SET NULL    | ✓ Recorded
 data_sync_status      | fk_data_sync_status_deleted_by      | SET NULL    | ✓ Recorded
 data_sync_status      | fk_data_sync_status_property        | CASCADE     | ✓ Recorded
 data_sync_status      | fk_data_sync_status_tenant          | CASCADE     | ✓ Recorded
 data_sync_status      | fk_data_sync_status_updated_by      | SET NULL    | ✓ Recorded
 integration_mappings  | fk_integration_mappings_created_by  | SET NULL    | ✓ Recorded
 integration_mappings  | fk_integration_mappings_deleted_by  | SET NULL    | ✓ Recorded
 integration_mappings  | fk_integration_mappings_property    | CASCADE     | ✓ Recorded
 integration_mappings  | fk_integration_mappings_tenant      | CASCADE     | ✓ Recorded
 integration_mappings  | fk_integration_mappings_updated_by  | SET NULL    | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_created_by | SET NULL    | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_deleted_by | SET NULL    | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_property   | CASCADE     | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_tenant     | CASCADE     | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_updated_by | SET NULL    | ✓ Recorded
(18 rows)


3. Verifying UPDATE CASCADE policy...
      table_name       |           constraint_name           | update_rule |   status   
-----------------------+-------------------------------------+-------------+------------
 api_logs              | fk_api_logs_property                | NO ACTION   | ✓ Recorded
 api_logs              | fk_api_logs_tenant                  | NO ACTION   | ✓ Recorded
 api_logs              | fk_api_logs_user                    | NO ACTION   | ✓ Recorded
 data_sync_status      | fk_data_sync_status_created_by      | NO ACTION   | ✓ Recorded
 data_sync_status      | fk_data_sync_status_deleted_by      | NO ACTION   | ✓ Recorded
 data_sync_status      | fk_data_sync_status_property        | NO ACTION   | ✓ Recorded
 data_sync_status      | fk_data_sync_status_tenant          | NO ACTION   | ✓ Recorded
 data_sync_status      | fk_data_sync_status_updated_by      | NO ACTION   | ✓ Recorded
 integration_mappings  | fk_integration_mappings_created_by  | NO ACTION   | ✓ Recorded
 integration_mappings  | fk_integration_mappings_deleted_by  | NO ACTION   | ✓ Recorded
 integration_mappings  | fk_integration_mappings_property    | NO ACTION   | ✓ Recorded
 integration_mappings  | fk_integration_mappings_tenant      | NO ACTION   | ✓ Recorded
 integration_mappings  | fk_integration_mappings_updated_by  | NO ACTION   | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_created_by | NO ACTION   | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_deleted_by | NO ACTION   | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_property   | NO ACTION   | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_tenant     | NO ACTION   | ✓ Recorded
 webhook_subscriptions | fk_webhook_subscriptions_updated_by | NO ACTION   | ✓ Recorded
(18 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
      table_name       |         constraint_name         |          status          
-----------------------+---------------------------------+--------------------------
 api_logs              | fk_api_logs_tenant              | ✓ Multi-tenancy enforced
 data_sync_status      | fk_data_sync_status_tenant      | ✓ Multi-tenancy enforced
 integration_mappings  | fk_integration_mappings_tenant  | ✓ Multi-tenancy enforced
 webhook_subscriptions | fk_webhook_subscriptions_tenant | ✓ Multi-tenancy enforced
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  Category: Integration Hub
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  Total Foreign Keys: 18
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  DELETE RESTRICT: 0 / 18
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  UPDATE CASCADE: 0 / 18
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  Tenant FKs: 4
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  
psql:constraints/06-integrations/verify-15-integration-hub-constraints.sql:166: NOTICE:  ✓✓✓ INTEGRATION HUB CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Integration Hub constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  COMPLIANCE & LEGAL - CONSTRAINT VERIFICATION
  Tables: 4
==============================================

1. Foreign key constraints by table...
     table_name      | fk_count 
---------------------+----------
 contract_agreements |       11
 gdpr_consent_logs   |       10
 insurance_claims    |       14
 police_reports      |        8
(4 rows)


2. Verifying DELETE RESTRICT policy...
     table_name      |             constraint_name              | delete_rule |   status   
---------------------+------------------------------------------+-------------+------------
 contract_agreements | fk_contract_agreements_approved_by       | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_created_by        | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_deleted_by        | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_legal_reviewed_by | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_parent            | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_property          | CASCADE     | ✓ Recorded
 contract_agreements | fk_contract_agreements_superseded_by     | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_supersedes        | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_tenant            | CASCADE     | ✓ Recorded
 contract_agreements | fk_contract_agreements_terminated_by     | SET NULL    | ✓ Recorded
 contract_agreements | fk_contract_agreements_updated_by        | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_created_by          | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_deleted_by          | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_dpo_reviewed_by     | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_previous            | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_property            | CASCADE     | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_recorded_by         | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_superseded_by       | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_tenant              | CASCADE     | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_updated_by          | SET NULL    | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_verified_by         | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_approved_by          | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_created_by           | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_deleted_by           | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_employee             | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_guest                | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_incident_report      | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_parent               | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_payment_received_by  | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_police_report        | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_property             | CASCADE     | ✓ Recorded
 insurance_claims    | fk_insurance_claims_reviewed_by          | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_room                 | SET NULL    | ✓ Recorded
 insurance_claims    | fk_insurance_claims_tenant               | CASCADE     | ✓ Recorded
 insurance_claims    | fk_insurance_claims_updated_by           | SET NULL    | ✓ Recorded
 police_reports      | fk_police_reports_created_by             | SET NULL    | ✓ Recorded
 police_reports      | fk_police_reports_deleted_by             | SET NULL    | ✓ Recorded
 police_reports      | fk_police_reports_incident_report        | SET NULL    | ✓ Recorded
 police_reports      | fk_police_reports_parent                 | SET NULL    | ✓ Recorded
 police_reports      | fk_police_reports_property               | CASCADE     | ✓ Recorded
 police_reports      | fk_police_reports_room                   | SET NULL    | ✓ Recorded
 police_reports      | fk_police_reports_tenant                 | CASCADE     | ✓ Recorded
 police_reports      | fk_police_reports_updated_by             | SET NULL    | ✓ Recorded
(43 rows)


3. Verifying UPDATE CASCADE policy...
     table_name      |             constraint_name              | update_rule |   status   
---------------------+------------------------------------------+-------------+------------
 contract_agreements | fk_contract_agreements_approved_by       | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_created_by        | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_deleted_by        | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_legal_reviewed_by | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_parent            | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_property          | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_superseded_by     | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_supersedes        | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_tenant            | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_terminated_by     | NO ACTION   | ✓ Recorded
 contract_agreements | fk_contract_agreements_updated_by        | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_created_by          | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_deleted_by          | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_dpo_reviewed_by     | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_previous            | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_property            | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_recorded_by         | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_superseded_by       | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_tenant              | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_updated_by          | NO ACTION   | ✓ Recorded
 gdpr_consent_logs   | fk_gdpr_consent_logs_verified_by         | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_approved_by          | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_created_by           | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_deleted_by           | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_employee             | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_guest                | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_incident_report      | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_parent               | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_payment_received_by  | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_police_report        | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_property             | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_reviewed_by          | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_room                 | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_tenant               | NO ACTION   | ✓ Recorded
 insurance_claims    | fk_insurance_claims_updated_by           | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_created_by             | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_deleted_by             | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_incident_report        | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_parent                 | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_property               | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_room                   | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_tenant                 | NO ACTION   | ✓ Recorded
 police_reports      | fk_police_reports_updated_by             | NO ACTION   | ✓ Recorded
(43 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
     table_name      |        constraint_name        |          status          
---------------------+-------------------------------+--------------------------
 contract_agreements | fk_contract_agreements_tenant | ✓ Multi-tenancy enforced
 gdpr_consent_logs   | fk_gdpr_consent_logs_tenant   | ✓ Multi-tenancy enforced
 insurance_claims    | fk_insurance_claims_tenant    | ✓ Multi-tenancy enforced
 police_reports      | fk_police_reports_tenant      | ✓ Multi-tenancy enforced
(4 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  Category: Compliance & Legal
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  Total Foreign Keys: 43
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  DELETE RESTRICT: 0 / 43
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  UPDATE CASCADE: 0 / 43
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  Tenant FKs: 4
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  
psql:constraints/07-analytics/verify-11-compliance-legal-constraints.sql:166: NOTICE:  ✓✓✓ COMPLIANCE & LEGAL CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Compliance & Legal constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  ANALYTICS & REPORTING - CONSTRAINT VERIFICATION
  Tables: 14
==============================================

1. Foreign key constraints by table...
         table_name          | fk_count 
-----------------------------+----------
 ab_test_results             |        5
 analytics_metric_dimensions |        2
 analytics_metrics           |        4
 analytics_reports           |        2
 forecasting_models          |        5
 guest_journey_tracking      |        6
 report_property_ids         |        3
 revenue_attribution         |        7
(8 rows)


2. Verifying DELETE RESTRICT policy...
         table_name          |             constraint_name              | delete_rule |   status   
-----------------------------+------------------------------------------+-------------+------------
 ab_test_results             | fk_ab_test_results_created_by            | SET NULL    | ✓ Recorded
 ab_test_results             | fk_ab_test_results_deleted_by            | SET NULL    | ✓ Recorded
 ab_test_results             | fk_ab_test_results_property              | CASCADE     | ✓ Recorded
 ab_test_results             | fk_ab_test_results_tenant                | CASCADE     | ✓ Recorded
 ab_test_results             | fk_ab_test_results_updated_by            | SET NULL    | ✓ Recorded
 analytics_metric_dimensions | fk_analytics_metric_dimensions_metric_id | RESTRICT    | ✓ Recorded
 analytics_metric_dimensions | fk_analytics_metric_dimensions_tenant_id | RESTRICT    | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_property_id         | RESTRICT    | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_rate_id             | RESTRICT    | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_room_type_id        | RESTRICT    | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_tenant_id           | RESTRICT    | ✓ Recorded
 analytics_reports           | fk_analytics_reports_created_by_user_id  | RESTRICT    | ✓ Recorded
 analytics_reports           | fk_analytics_reports_tenant_id           | RESTRICT    | ✓ Recorded
 forecasting_models          | fk_forecasting_models_created_by         | SET NULL    | ✓ Recorded
 forecasting_models          | fk_forecasting_models_deleted_by         | SET NULL    | ✓ Recorded
 forecasting_models          | fk_forecasting_models_property           | CASCADE     | ✓ Recorded
 forecasting_models          | fk_forecasting_models_tenant             | CASCADE     | ✓ Recorded
 forecasting_models          | fk_forecasting_models_updated_by         | SET NULL    | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_created_by     | SET NULL    | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_deleted_by     | SET NULL    | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_guest          | CASCADE     | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_property       | CASCADE     | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_tenant         | CASCADE     | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_updated_by     | SET NULL    | ✓ Recorded
 report_property_ids         | fk_report_property_ids_property_id       | RESTRICT    | ✓ Recorded
 report_property_ids         | fk_report_property_ids_report_id         | RESTRICT    | ✓ Recorded
 report_property_ids         | fk_report_property_ids_tenant_id         | RESTRICT    | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_campaign          | SET NULL    | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_created_by        | SET NULL    | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_deleted_by        | SET NULL    | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_property          | CASCADE     | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_reservation       | CASCADE     | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_tenant            | CASCADE     | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_updated_by        | SET NULL    | ✓ Recorded
(34 rows)


3. Verifying UPDATE CASCADE policy...
         table_name          |             constraint_name              | update_rule |   status   
-----------------------------+------------------------------------------+-------------+------------
 ab_test_results             | fk_ab_test_results_created_by            | NO ACTION   | ✓ Recorded
 ab_test_results             | fk_ab_test_results_deleted_by            | NO ACTION   | ✓ Recorded
 ab_test_results             | fk_ab_test_results_property              | NO ACTION   | ✓ Recorded
 ab_test_results             | fk_ab_test_results_tenant                | NO ACTION   | ✓ Recorded
 ab_test_results             | fk_ab_test_results_updated_by            | NO ACTION   | ✓ Recorded
 analytics_metric_dimensions | fk_analytics_metric_dimensions_metric_id | CASCADE     | ✓ Recorded
 analytics_metric_dimensions | fk_analytics_metric_dimensions_tenant_id | CASCADE     | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_property_id         | CASCADE     | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_rate_id             | CASCADE     | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_room_type_id        | CASCADE     | ✓ Recorded
 analytics_metrics           | fk_analytics_metrics_tenant_id           | CASCADE     | ✓ Recorded
 analytics_reports           | fk_analytics_reports_created_by_user_id  | CASCADE     | ✓ Recorded
 analytics_reports           | fk_analytics_reports_tenant_id           | CASCADE     | ✓ Recorded
 forecasting_models          | fk_forecasting_models_created_by         | NO ACTION   | ✓ Recorded
 forecasting_models          | fk_forecasting_models_deleted_by         | NO ACTION   | ✓ Recorded
 forecasting_models          | fk_forecasting_models_property           | NO ACTION   | ✓ Recorded
 forecasting_models          | fk_forecasting_models_tenant             | NO ACTION   | ✓ Recorded
 forecasting_models          | fk_forecasting_models_updated_by         | NO ACTION   | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_created_by     | NO ACTION   | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_deleted_by     | NO ACTION   | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_guest          | NO ACTION   | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_property       | NO ACTION   | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_tenant         | NO ACTION   | ✓ Recorded
 guest_journey_tracking      | fk_guest_journey_tracking_updated_by     | NO ACTION   | ✓ Recorded
 report_property_ids         | fk_report_property_ids_property_id       | CASCADE     | ✓ Recorded
 report_property_ids         | fk_report_property_ids_report_id         | CASCADE     | ✓ Recorded
 report_property_ids         | fk_report_property_ids_tenant_id         | CASCADE     | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_campaign          | NO ACTION   | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_created_by        | NO ACTION   | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_deleted_by        | NO ACTION   | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_property          | NO ACTION   | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_reservation       | NO ACTION   | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_tenant            | NO ACTION   | ✓ Recorded
 revenue_attribution         | fk_revenue_attribution_updated_by        | NO ACTION   | ✓ Recorded
(34 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
         table_name          |             constraint_name              |          status          
-----------------------------+------------------------------------------+--------------------------
 ab_test_results             | fk_ab_test_results_tenant                | ✓ Multi-tenancy enforced
 analytics_metric_dimensions | fk_analytics_metric_dimensions_tenant_id | ✓ Multi-tenancy enforced
 analytics_metrics           | fk_analytics_metrics_tenant_id           | ✓ Multi-tenancy enforced
 analytics_reports           | fk_analytics_reports_tenant_id           | ✓ Multi-tenancy enforced
 forecasting_models          | fk_forecasting_models_tenant             | ✓ Multi-tenancy enforced
 guest_journey_tracking      | fk_guest_journey_tracking_tenant         | ✓ Multi-tenancy enforced
 report_property_ids         | fk_report_property_ids_tenant_id         | ✓ Multi-tenancy enforced
 revenue_attribution         | fk_revenue_attribution_tenant            | ✓ Multi-tenancy enforced
(8 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  Category: Analytics & Reporting
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  Total Foreign Keys: 34
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  DELETE RESTRICT: 11 / 34
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  UPDATE CASCADE: 11 / 34
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  Tenant FKs: 8
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  
psql:constraints/07-analytics/verify-12-analytics-reporting-constraints.sql:166: NOTICE:  ✓✓✓ ANALYTICS & REPORTING CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
Analytics & Reporting constraint verification complete!
==============================================
You are now connected to database "tartware" as user "postgres".

==============================================
  SYSTEM & AUDIT - CONSTRAINT VERIFICATION
  Tables: 3
==============================================

1. Foreign key constraints by table...
   table_name    | fk_count 
-----------------+----------
 audit_logs      |        3
 business_dates  |       12
 night_audit_log |       10
(3 rows)


2. Verifying DELETE RESTRICT policy...
   table_name    |           constraint_name            | delete_rule |   status   
-----------------+--------------------------------------+-------------+------------
 audit_logs      | fk_audit_logs_property               | RESTRICT    | ✓ Recorded
 audit_logs      | fk_audit_logs_tenant                 | RESTRICT    | ✓ Recorded
 audit_logs      | fk_audit_logs_user                   | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_audit_completed_by | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_audit_started_by   | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_closed_by          | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_created_by         | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_deleted_by         | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_locked_by          | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_opened_by          | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_property           | RESTRICT    | ✓ Recorded
 business_dates  | fk_business_dates_reconciled_by      | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_rolled_by          | SET NULL    | ✓ Recorded
 business_dates  | fk_business_dates_tenant             | RESTRICT    | ✓ Recorded
 business_dates  | fk_business_dates_updated_by         | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_acknowledged_by   | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_business_date     | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_completed_by      | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_created_by        | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_deleted_by        | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_initiated_by      | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_previous_attempt  | SET NULL    | ✓ Recorded
 night_audit_log | fk_night_audit_log_property          | RESTRICT    | ✓ Recorded
 night_audit_log | fk_night_audit_log_tenant            | RESTRICT    | ✓ Recorded
 night_audit_log | fk_night_audit_log_updated_by        | SET NULL    | ✓ Recorded
(25 rows)


3. Verifying UPDATE CASCADE policy...
   table_name    |           constraint_name            | update_rule |   status   
-----------------+--------------------------------------+-------------+------------
 audit_logs      | fk_audit_logs_property               | CASCADE     | ✓ Recorded
 audit_logs      | fk_audit_logs_tenant                 | CASCADE     | ✓ Recorded
 audit_logs      | fk_audit_logs_user                   | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_audit_completed_by | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_audit_started_by   | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_closed_by          | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_created_by         | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_deleted_by         | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_locked_by          | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_opened_by          | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_property           | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_reconciled_by      | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_rolled_by          | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_tenant             | CASCADE     | ✓ Recorded
 business_dates  | fk_business_dates_updated_by         | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_acknowledged_by   | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_business_date     | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_completed_by      | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_created_by        | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_deleted_by        | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_initiated_by      | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_previous_attempt  | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_property          | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_tenant            | CASCADE     | ✓ Recorded
 night_audit_log | fk_night_audit_log_updated_by        | CASCADE     | ✓ Recorded
(25 rows)


4. Verifying tenant_id foreign keys (multi-tenancy)...
   table_name    |      constraint_name      |          status          
-----------------+---------------------------+--------------------------
 audit_logs      | fk_audit_logs_tenant      | ✓ Multi-tenancy enforced
 business_dates  | fk_business_dates_tenant  | ✓ Multi-tenancy enforced
 night_audit_log | fk_night_audit_log_tenant | ✓ Multi-tenancy enforced
(3 rows)


==============================================
  VERIFICATION SUMMARY
==============================================
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  Category: System & Audit
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  Total Foreign Keys: 25
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  DELETE RESTRICT: 6 / 25
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  UPDATE CASCADE: 25 / 25
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  Tenant FKs: 3
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  
psql:constraints/07-analytics/verify-14-system-audit-constraints.sql:166: NOTICE:  ✓✓✓ SYSTEM & AUDIT CONSTRAINT VERIFICATION PASSED ✓✓✓
DO

==============================================
System & Audit constraint verification complete!
==============================================

======================================================
  CONSTRAINT VERIFICATION COMPLETE
======================================================


======================================================
  PHASE 4: PROCEDURES VERIFICATION
======================================================

You are now connected to database "tartware" as user "postgres".
==============================================
  PROCEDURE VERIFICATION
==============================================

1. Checking if all required procedures exist:
--------------------------------------------
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:65: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:65: NOTICE:  Expected procedures: 14
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:65: NOTICE:  Found procedures: 14
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:65: NOTICE:  ✓ All 14 procedures/functions exist!
DO

2. Procedure details:
--------------------------------------------
 schema_name |         procedure_name          |                                                                                                                                                                                                                                                                                arguments                                                                                                                                                                                                                                                                                 |                                                                        return_type                                                                        |   type   | volatility 
-------------+---------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+----------+------------
 public      | aggregate_daily_metrics         | p_tenant_id uuid, p_property_id uuid DEFAULT NULL::uuid, p_metric_date date DEFAULT (CURRENT_DATE - '1 day'::interval), p_updated_by character varying DEFAULT 'ANALYTICS_JOB'::character varying                                                                                                                                                                                                                                                                                                                                                                        | TABLE(metric_type character varying, metric_value numeric, action character varying)                                                                      | FUNCTION | VOLATILE
 public      | aggregate_monthly_metrics       | p_tenant_id uuid, p_property_id uuid DEFAULT NULL::uuid, p_year integer DEFAULT EXTRACT(year FROM CURRENT_DATE), p_month integer DEFAULT (EXTRACT(month FROM CURRENT_DATE) - (1)::numeric), p_updated_by character varying DEFAULT 'ANALYTICS_JOB'::character varying                                                                                                                                                                                                                                                                                                    | TABLE(metric_type character varying, metric_value numeric, action character varying)                                                                      | FUNCTION | VOLATILE
 public      | apply_seasonal_rate_adjustments | p_tenant_id uuid, p_property_id uuid, p_season_name character varying, p_start_date date, p_end_date date, p_adjustment_type character varying, p_adjustment_value numeric, p_room_type_ids uuid[] DEFAULT NULL::uuid[], p_sync_by character varying DEFAULT 'SEASONAL_ADJUSTMENT'::character varying                                                                                                                                                                                                                                                                    | TABLE(rate_id uuid, rate_code character varying, old_rate numeric, new_rate numeric, adjustment numeric)                                                  | FUNCTION | VOLATILE
 public      | bulk_upsert_guests              | p_tenant_id uuid, p_guests jsonb, p_created_by character varying DEFAULT 'BULK_IMPORT'::character varying                                                                                                                                                                                                                                                                                                                                                                                                                                                                | TABLE(guest_id uuid, email character varying, action character varying)                                                                                   | FUNCTION | VOLATILE
 public      | calculate_revenue_metrics       | p_tenant_id uuid, p_property_id uuid DEFAULT NULL::uuid, p_start_date date DEFAULT (CURRENT_DATE - '7 days'::interval), p_end_date date DEFAULT CURRENT_DATE, p_updated_by character varying DEFAULT 'ANALYTICS_JOB'::character varying                                                                                                                                                                                                                                                                                                                                  | TABLE(booking_source character varying, revenue numeric, booking_count integer, avg_booking_value numeric)                                                | FUNCTION | VOLATILE
 public      | copy_rate_plan                  | p_source_rate_id uuid, p_new_rate_code character varying, p_new_rate_name character varying, p_adjustment_type character varying DEFAULT NULL::character varying, p_adjustment_value numeric DEFAULT 0, p_created_by character varying DEFAULT 'SYSTEM'::character varying                                                                                                                                                                                                                                                                                               | uuid                                                                                                                                                      | FUNCTION | VOLATILE
 public      | merge_duplicate_guests          | p_tenant_id uuid, p_dry_run boolean DEFAULT true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | TABLE(kept_guest_id uuid, merged_guest_ids uuid[], email character varying, reservations_moved integer)                                                   | FUNCTION | VOLATILE
 public      | sync_channel_availability       | p_tenant_id uuid, p_property_id uuid, p_channel_data jsonb, p_sync_by character varying DEFAULT 'CHANNEL_SYNC'::character varying                                                                                                                                                                                                                                                                                                                                                                                                                                        | TABLE(availability_date date, room_type_id uuid, action character varying, available_rooms integer, booked_rooms integer)                                 | FUNCTION | VOLATILE
 public      | sync_channel_mapping            | p_tenant_id uuid, p_property_id uuid, p_channel_name character varying, p_mappings jsonb, p_sync_by character varying DEFAULT 'SYSTEM'::character varying                                                                                                                                                                                                                                                                                                                                                                                                                | TABLE(local_room_type_id uuid, channel_room_type_id character varying, channel_room_type_name character varying, action character varying)                | FUNCTION | VOLATILE
 public      | sync_channel_reservations       | p_tenant_id uuid, p_property_id uuid, p_channel_name character varying, p_reservations jsonb, p_sync_by character varying DEFAULT 'CHANNEL_SYNC'::character varying                                                                                                                                                                                                                                                                                                                                                                                                      | TABLE(reservation_id uuid, confirmation_number character varying, guest_email character varying, action character varying, check_in date, check_out date) | FUNCTION | VOLATILE
 public      | sync_daily_rate_overrides       | p_tenant_id uuid, p_property_id uuid, p_overrides jsonb, p_sync_by character varying DEFAULT 'RATE_OVERRIDE'::character varying                                                                                                                                                                                                                                                                                                                                                                                                                                          | TABLE(override_date date, room_type_id uuid, rate_code character varying, override_rate numeric, action character varying)                                | FUNCTION | VOLATILE
 public      | sync_metric_dimensions          | p_tenant_id uuid, p_property_id uuid DEFAULT NULL::uuid, p_metric_date date DEFAULT (CURRENT_DATE - '1 day'::interval), p_updated_by character varying DEFAULT 'ANALYTICS_JOB'::character varying                                                                                                                                                                                                                                                                                                                                                                        | TABLE(dimension_type character varying, dimension_value character varying, metric_count integer, action character varying)                                | FUNCTION | VOLATILE
 public      | sync_rate_plans                 | p_tenant_id uuid, p_property_id uuid, p_rates jsonb, p_sync_by character varying DEFAULT 'RATE_SYNC'::character varying                                                                                                                                                                                                                                                                                                                                                                                                                                                  | TABLE(rate_id uuid, rate_code character varying, rate_name character varying, base_rate numeric, action character varying)                                | FUNCTION | VOLATILE
 public      | upsert_guest                    | p_tenant_id uuid, p_email character varying, p_first_name character varying, p_last_name character varying, p_phone character varying DEFAULT NULL::character varying, p_address text DEFAULT NULL::text, p_city character varying DEFAULT NULL::character varying, p_state character varying DEFAULT NULL::character varying, p_country character varying DEFAULT NULL::character varying, p_postal_code character varying DEFAULT NULL::character varying, p_preferences jsonb DEFAULT NULL::jsonb, p_created_by character varying DEFAULT 'SYSTEM'::character varying | uuid                                                                                                                                                      | FUNCTION | VOLATILE
(14 rows)


3. Procedures by category:
--------------------------------------------
      category       | procedure_count |                                              procedures                                               
---------------------+-----------------+-------------------------------------------------------------------------------------------------------
 1. Guest Management |               3 | bulk_upsert_guests, merge_duplicate_guests, upsert_guest
 2. Channel Sync     |               3 | sync_channel_availability, sync_channel_mapping, sync_channel_reservations
 3. Rate Management  |               4 | apply_seasonal_rate_adjustments, copy_rate_plan, sync_daily_rate_overrides, sync_rate_plans
 4. Analytics        |               4 | aggregate_daily_metrics, aggregate_monthly_metrics, calculate_revenue_metrics, sync_metric_dimensions
(4 rows)


4. Procedure implementation languages:
--------------------------------------------
 language | procedure_count |                                                                                                                                                                procedures                                                                                                                                                                
----------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 plpgsql  |              14 | aggregate_daily_metrics, aggregate_monthly_metrics, apply_seasonal_rate_adjustments, bulk_upsert_guests, calculate_revenue_metrics, copy_rate_plan, merge_duplicate_guests, sync_channel_availability, sync_channel_mapping, sync_channel_reservations, sync_daily_rate_overrides, sync_metric_dimensions, sync_rate_plans, upsert_guest
(1 row)


5. Basic functionality tests:
--------------------------------------------
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  Running basic procedure tests...
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  ✓ Test 1: upsert_guest exists
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  ✓ Test 2: sync_channel_availability exists
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  ✓ Test 3: sync_rate_plans exists
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  ✓ Test 4: aggregate_daily_metrics exists
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  ✓ Test 5: upsert_guest has correct parameter count
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:276: NOTICE:  ✓ All basic tests passed!
DO

6. Procedure dependencies on tables:
--------------------------------------------
 procedure_name | table_dependencies | tables 
----------------+--------------------+--------
(0 rows)


7. Procedure documentation (comments):
--------------------------------------------
         procedure_name          | documentation_status |                      description                      
---------------------------------+----------------------+-------------------------------------------------------
 aggregate_daily_metrics         | ✓ Has comment        | Calculates and stores daily performance metrics us...
 aggregate_monthly_metrics       | ✓ Has comment        | Aggregates daily metrics into monthly summaries us...
 apply_seasonal_rate_adjustments | ✓ Has comment        | Applies bulk rate adjustments for seasonal pricing...
 bulk_upsert_guests              | ✓ Has comment        | Bulk insert or update guests from JSONB array. Use...
 calculate_revenue_metrics       | ✓ Has comment        | Calculates revenue breakdown by booking source for...
 copy_rate_plan                  | ✓ Has comment        | Creates a copy of an existing rate plan with optio...
 merge_duplicate_guests          | ✓ Has comment        | Finds and merges duplicate guest profiles by email...
 sync_channel_availability       | ✓ Has comment        | Syncs room availability from channel managers usin...
 sync_channel_mapping            | ✓ Has comment        | Syncs room type mappings between PMS and channel m...
 sync_channel_reservations       | ✓ Has comment        | Imports reservations from channel managers. Preven...
 sync_daily_rate_overrides       | ✓ Has comment        | Sets date-specific rate overrides for holidays, ev...
 sync_metric_dimensions          | ✓ Has comment        | Stores dimensional breakdowns (by room type, rate,...
 sync_rate_plans                 | ✓ Has comment        | Bulk sync rate plans using MERGE. Handles inserts,...
 upsert_guest                    | ✓ Has comment        | Inserts new guest or updates existing guest based ...
(14 rows)


8. PostgreSQL version and MERGE support:
--------------------------------------------
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:389: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:389: NOTICE:  PostgreSQL Version: 16.11 (Debian 16.11-1.pgdg13+1)
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:389: NOTICE:  Version Number: 160011
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:389: NOTICE:  ✓ PostgreSQL 15+ detected - MERGE command is supported
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:389: NOTICE:    All procedures can use MERGE for efficient upserts
DO

==============================================
  VERIFICATION SUMMARY
==============================================
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  Total Procedures: 14 (Expected: 14)
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  PL/pgSQL Procedures: 14
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  Documented Procedures: 14
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  Categories:
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:    - Guest Management: 3
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:    - Channel Sync: 3
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:    - Rate Management: 4
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:    - Analytics: 4
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  
psql:/home/navin/tartware/scripts/procedures/verify-procedures.sql:494: NOTICE:  ✓✓✓ ALL PROCEDURE VALIDATIONS PASSED ✓✓✓
DO

==============================================
Procedure verification complete!
==============================================

██████████████████████████████████████████████████
█                                                █
█    COMPLETE VERIFICATION SUMMARY               █
█                                                █
██████████████████████████████████████████████████

psql:scripts/verify-all.sql:184: NOTICE:  
psql:scripts/verify-all.sql:184: NOTICE:  ┌──────────────────────────────────────────────────────────────┐
psql:scripts/verify-all.sql:184: NOTICE:  │  DATABASE COMPONENT SUMMARY                                  │
psql:scripts/verify-all.sql:184: NOTICE:  ├──────────────────────────────────────────────────────────────┤
psql:scripts/verify-all.sql:184: NOTICE:  │                                                              │
psql:scripts/verify-all.sql:184: NOTICE:  │  Tables (public+availability):        175                      │
psql:scripts/verify-all.sql:184: NOTICE:  │  Indexes:                            2853                      │
psql:scripts/verify-all.sql:184: NOTICE:  │  Foreign Keys:                       1181                      │
psql:scripts/verify-all.sql:184: NOTICE:  │  Triggers:                             82                      │
psql:scripts/verify-all.sql:184: NOTICE:  │  Stored Procedures (tracked set):      14                      │
psql:scripts/verify-all.sql:184: NOTICE:  │                                                              │
psql:scripts/verify-all.sql:184: NOTICE:  │  Avg indexes per table:             16.30                      │
psql:scripts/verify-all.sql:184: NOTICE:  │  Avg foreign keys per table:        6.75                      │
psql:scripts/verify-all.sql:184: NOTICE:  │  Soft delete coverage:              57.71%                      │
psql:scripts/verify-all.sql:184: NOTICE:  │  Multi-tenant coverage:             85.71%                      │
psql:scripts/verify-all.sql:184: NOTICE:  │                                                              │
psql:scripts/verify-all.sql:184: NOTICE:  └──────────────────────────────────────────────────────────────┘
psql:scripts/verify-all.sql:184: NOTICE:  
psql:scripts/verify-all.sql:184: NOTICE:  All counts above are pulled dynamically from the current catalog metadata.
psql:scripts/verify-all.sql:184: NOTICE:  
DO

======================================================
  ADDITIONAL HEALTH CHECKS
======================================================

Database size:
----------------------------------------------------
 datname  | size  
----------+-------
 tartware | 48 MB
(1 row)


Schema sizes:
----------------------------------------------------
  schemaname  | total_size | table_count 
--------------+------------+-------------
 public       | 27 MB      |         174
 availability | 192 kB     |           1
(2 rows)


Foreign keys without indexes (if any):
----------------------------------------------------
 table_name | column_name 
------------+-------------
(0 rows)


======================================================
  VERIFICATION COMPLETE
======================================================

For detailed component verification, run:
  • psql -U postgres -d tartware -f tables/verify-tables.sql
  • psql -U postgres -d tartware -f indexes/verify-indexes.sql
  • psql -U postgres -d tartware -f constraints/verify-constraints.sql
  • psql -U postgres -d tartware -f procedures/verify-procedures.sql

Report generated: Fri Jan 23 09:31:38 UTC 2026

