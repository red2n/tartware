###############################################################################
# Reporting Endpoints (S24)
#
# Dedicated reporting endpoints for occupancy, revenue KPIs,
# arrivals, departures, in-house guests, demand forecast, pace, and revenue forecast.
# Proxied via API Gateway → core-service (port 3000).
#
# Note: /v1/reports/performance is also available (see tenantandproperty.http).
###############################################################################

@baseUrl = http://localhost:8080
@tenantId = 11111111-1111-1111-1111-111111111111
@propertyId = 22222222-2222-2222-2222-222222222222

# --- Authentication ---
# @name login
POST {{baseUrl}}/v1/auth/login
Content-Type: application/json

{
  "username": "setup.admin",
  "password": "TempPass123"
}

###
@authToken = {{login.response.body.access_token}}

###############################################################################
# OCCUPANCY REPORT
###############################################################################

### Occupancy report for property (today)
# @name occupancyReport
GET {{baseUrl}}/v1/reports/occupancy?tenant_id={{tenantId}}&property_id={{propertyId}}
Authorization: Bearer {{authToken}}

### Occupancy report with date range
# @name occupancyReportDateRange
GET {{baseUrl}}/v1/reports/occupancy?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-02-01&end_date=2026-02-28
Authorization: Bearer {{authToken}}

###############################################################################
# REVENUE KPIs (ADR, RevPAR, TRevPAR)
###############################################################################

### Revenue KPIs for property
# @name revenueKpis
GET {{baseUrl}}/v1/reports/revenue-kpis?tenant_id={{tenantId}}&property_id={{propertyId}}
Authorization: Bearer {{authToken}}

### Revenue KPIs with date range
# @name revenueKpisDateRange
GET {{baseUrl}}/v1/reports/revenue-kpis?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-02-01&end_date=2026-02-12
Authorization: Bearer {{authToken}}

###############################################################################
# ARRIVALS LIST
###############################################################################

### Expected arrivals today
# @name arrivalsToday
GET {{baseUrl}}/v1/reports/arrivals?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-02-12&end_date=2026-02-12
Authorization: Bearer {{authToken}}

### Expected arrivals for a week
# @name arrivalsWeek
GET {{baseUrl}}/v1/reports/arrivals?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-02-12&end_date=2026-02-18
Authorization: Bearer {{authToken}}

###############################################################################
# DEPARTURES LIST
###############################################################################

### Expected departures today
# @name departuresToday
GET {{baseUrl}}/v1/reports/departures?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-02-12&end_date=2026-02-12
Authorization: Bearer {{authToken}}

### Expected departures for a week
# @name departuresWeek
GET {{baseUrl}}/v1/reports/departures?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-02-12&end_date=2026-02-18
Authorization: Bearer {{authToken}}

###############################################################################
# IN-HOUSE GUESTS
###############################################################################

### Currently checked-in guests
# @name inHouseGuests
GET {{baseUrl}}/v1/reports/in-house?tenant_id={{tenantId}}&property_id={{propertyId}}
Authorization: Bearer {{authToken}}

###############################################################################
# DEMAND FORECAST
###############################################################################

### Demand forecast — occupancy, ADR, RevPAR projections
# @name demandForecast
GET {{baseUrl}}/v1/reports/demand-forecast?tenant_id={{tenantId}}&property_id={{propertyId}}
Authorization: Bearer {{authToken}}

### Demand forecast with date range
# @name demandForecastRange
GET {{baseUrl}}/v1/reports/demand-forecast?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-03-01&end_date=2026-03-31
Authorization: Bearer {{authToken}}

###############################################################################
# BOOKING PACE REPORT
###############################################################################

### Booking pace — pickup, vs last year, trends
# @name paceReport
GET {{baseUrl}}/v1/reports/pace?tenant_id={{tenantId}}&property_id={{propertyId}}
Authorization: Bearer {{authToken}}

### Booking pace with date range
# @name paceReportRange
GET {{baseUrl}}/v1/reports/pace?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-03-01&end_date=2026-03-31
Authorization: Bearer {{authToken}}

###############################################################################
# REVENUE FORECAST
###############################################################################

### Revenue forecast — scenario-based projections
# @name revenueForecast
GET {{baseUrl}}/v1/reports/revenue-forecast?tenant_id={{tenantId}}&property_id={{propertyId}}
Authorization: Bearer {{authToken}}

### Revenue forecast with date range
# @name revenueForecastRange
GET {{baseUrl}}/v1/reports/revenue-forecast?tenant_id={{tenantId}}&property_id={{propertyId}}&start_date=2026-03-01&end_date=2026-06-30
Authorization: Bearer {{authToken}}
