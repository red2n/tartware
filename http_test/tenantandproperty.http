// =====================================================
// TENANT & PROPERTY - HTTP Test File
// =====================================================
//
// =====================================================
// TENANT & PROPERTY - HTTP Test File
// =====================================================
//
// Use the API Gateway on localhost:8080.
//
// =====================================================

// create new tenant + owner user (bootstrap)
POST /v1/tenants/bootstrap HTTP/1.1
Host: localhost:8080
Content-Type: application/json
Authorization: Bearer {{setup_admin_token}}

{
	"tenant": {
		"name": "Harborlight Hotels",
		"slug": "harborlight-hotels",
		"type": "INDEPENDENT",
		"email": "ops@harborlight.demo",
		"phone": "+15551212",
		"website": "https://harborlight.demo",
		"country": "US",
		"config": {
			"features": ["reservations", "housekeeping", "payments"],
			"maxUsers": 25,
			"maxProperties": 5,
			"defaultCurrency": "USD",
			"defaultLanguage": "en",
			"defaultTimezone": "UTC",
			"enableMultiProperty": true,
			"enableChannelManager": false,
			"enableLoyaltyProgram": false,
			"enableAdvancedReporting": true,

// Use the API Gateway on localhost:8080.
//
// =====================================================

// create new tenant + owner user (bootstrap)
POST /v1/tenants/bootstrap HTTP/1.1
Host: localhost:8080
Content-Type: application/json
Authorization: Bearer {{setup_admin_token}}

{
	"tenant": {
		"name": "Harborlight Hotels",
		"slug": "harborlight-hotels",
		"type": "INDEPENDENT",
		"email": "ops@harborlight.demo",
		"phone": "+15551212",
		"website": "https://harborlight.demo",
		"country": "US",
		"config": {
			"features": ["reservations", "housekeeping", "payments"],
			"maxUsers": 25,
			"maxProperties": 5,
			"defaultCurrency": "USD",
			"defaultLanguage": "en",
			"defaultTimezone": "UTC",
			"enableMultiProperty": true,
			"enableChannelManager": false,
			"enableLoyaltyProgram": false,
			"enableAdvancedReporting": true,
			"enablePaymentProcessing": true,
			"brandingEnabled": true
		}
	},
	"owner": {
		"username": "harborlight.owner",
		"email": "harborlight.owner@harborlight.demo",
		"first_name": "Harborlight",
		"last_name": "Owner",
		"password": "TempPass123"
	}
}

###
// login owner to get token
POST /v1/auth/login HTTP/1.1
Host: localhost:8080
Content-Type: application/json

{"username":"harborlight.owner","password":"TempPass123"}

###
// create property (use tenant_id from bootstrap response)
POST /v1/properties HTTP/1.1
Host: localhost:8080
Content-Type: application/json
Authorization: Bearer {{owner_token}}

{
	"tenant_id": "<TENANT_ID_FROM_BOOTSTRAP>",
	"property_name": "Harborlight Bay Resort",
	"property_code": "HBR-BAY",
	"address": {
		"line1": "101 Bayfront Ave",
		"city": "San Diego",
		"state": "CA",
		"country": "US",
		"postal_code": "92101"
	},
	"phone": "+15551213",
	"email": "bay@harborlight.demo",
	"website": "https://bay.harborlight.demo"
}
