###############################################################################
# SETTINGS SERVICE - Configuration Management
# Routes via API Gateway (localhost:8080) -> settings-service (port 3000)
#
# Content: System Settings, Tenant Configuration
#
# Note: Settings service routes are proxied through core-service
###############################################################################

# --- VARIABLES ---
@baseUrl = http://localhost:8080
@tenantId = 11111111-1111-1111-1111-111111111111
@propertyId = 22222222-2222-2222-2222-222222222222

###############################################################################
# 1. LOGIN
###############################################################################

# @name login
POST {{baseUrl}}/v1/auth/login
Content-Type: application/json

{
  "username": "setup.admin",
  "password": "TempPass123"
}

### Extract token
@authToken = {{login.response.body.access_token}}

###############################################################################
# 2. SETTINGS - READ
###############################################################################

# Get all settings for tenant
GET {{baseUrl}}/v1/settings?tenant_id={{tenantId}}
Authorization: Bearer {{authToken}}

###
# Get settings by category
GET {{baseUrl}}/v1/settings?tenant_id={{tenantId}}&category=reservations
Authorization: Bearer {{authToken}}

###
# Get property-specific settings
GET {{baseUrl}}/v1/settings?tenant_id={{tenantId}}&property_id={{propertyId}}
Authorization: Bearer {{authToken}}

###############################################################################
# 3. SETTINGS - UPDATE
###############################################################################

# Update a setting
PUT {{baseUrl}}/v1/settings
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "tenant_id": "{{tenantId}}",
  "key": "reservations.default_check_in_time",
  "value": "15:00",
  "category": "reservations"
}

###
# Update property setting
PUT {{baseUrl}}/v1/settings
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
  "tenant_id": "{{tenantId}}",
  "property_id": "{{propertyId}}",
  "key": "housekeeping.checkout_deadline",
  "value": "11:00",
  "category": "housekeeping"
}

###############################################################################
# REFERENCE
###############################################################################
#
# SETTING CATEGORIES:
#   general      - General tenant settings
#   reservations - Booking and check-in/out settings
#   housekeeping - Cleaning and task settings
#   billing      - Payment and invoice settings
#   notifications - Email and alert settings
#   integrations - Third-party integration settings
#
# COMMON SETTINGS:
#   reservations.default_check_in_time   - Default check-in time
#   reservations.default_check_out_time  - Default check-out time
#   reservations.min_advance_booking     - Minimum advance booking hours
#   reservations.max_advance_booking     - Maximum advance booking days
#   housekeeping.checkout_deadline       - Checkout deadline
#   housekeeping.auto_assign_tasks       - Auto-assign tasks enabled
#   billing.default_currency             - Default currency code
#   billing.tax_rate                     - Default tax rate
#
# SAMPLE IDs:
#   Tenant:   11111111-1111-1111-1111-111111111111
#   Property: 22222222-2222-2222-2222-222222222222
#
###############################################################################
