###############################################################################
# Revenue Service Endpoints
#
# Dynamic pricing engine, competitor rates, demand calendar,
# revenue forecasts, goals, and KPIs.
# Proxied via API Gateway â†’ revenue-service (port 3060).
###############################################################################

@baseUrl = http://localhost:8080
@tenantId = 11111111-1111-1111-1111-111111111111
@propertyId = 22222222-2222-2222-2222-222222222222

# --- Authentication ---
# @name login
POST {{baseUrl}}/v1/auth/login
Content-Type: application/json

{
  "username": "setup.admin",
  "password": "TempPass123"
}

###
@authToken = {{login.response.body.access_token}}

###############################################################################
# DYNAMIC PRICING RULES (S12)
###############################################################################

### List all pricing rules
# @name listPricingRules
GET {{baseUrl}}/v1/revenue/pricing-rules?tenant_id={{tenantId}}&limit=50
Authorization: Bearer {{authToken}}

### List pricing rules for property
# @name listPricingRulesForProperty
GET {{baseUrl}}/v1/revenue/pricing-rules?tenant_id={{tenantId}}&property_id={{propertyId}}&limit=50
Authorization: Bearer {{authToken}}

### List active pricing rules
# @name listActivePricingRules
GET {{baseUrl}}/v1/revenue/pricing-rules?tenant_id={{tenantId}}&is_active=true
Authorization: Bearer {{authToken}}

### Get pricing rule by ID
# @name getPricingRule
GET {{baseUrl}}/v1/revenue/pricing-rules/{{ruleId}}?tenant_id={{tenantId}}
Authorization: Bearer {{authToken}}

###############################################################################
# RATE RECOMMENDATIONS
###############################################################################

### List rate recommendations
# @name listRateRecommendations
GET {{baseUrl}}/v1/revenue/rate-recommendations?tenant_id={{tenantId}}&property_id={{propertyId}}&limit=50
Authorization: Bearer {{authToken}}

###############################################################################
# COMPETITOR RATES
###############################################################################

### List competitor rate intelligence
# @name listCompetitorRates
GET {{baseUrl}}/v1/revenue/competitor-rates?tenant_id={{tenantId}}&property_id={{propertyId}}&limit=50
Authorization: Bearer {{authToken}}

###############################################################################
# DEMAND CALENDAR
###############################################################################

### List demand calendar entries
# @name listDemandCalendar
GET {{baseUrl}}/v1/revenue/demand-calendar?tenant_id={{tenantId}}&property_id={{propertyId}}&limit=50
Authorization: Bearer {{authToken}}

### Demand calendar with date range
# @name listDemandCalendarDateRange
GET {{baseUrl}}/v1/revenue/demand-calendar?tenant_id={{tenantId}}&property_id={{propertyId}}&from_date=2026-03-01&to_date=2026-03-31
Authorization: Bearer {{authToken}}

###############################################################################
# REVENUE FORECASTS (S13)
###############################################################################

### List revenue forecasts
# @name listForecasts
GET {{baseUrl}}/v1/revenue/forecasts?tenant_id={{tenantId}}&property_id={{propertyId}}&limit=50
Authorization: Bearer {{authToken}}

###############################################################################
# REVENUE GOALS
###############################################################################

### List revenue goals with budget vs actual tracking
# @name listRevenueGoals
GET {{baseUrl}}/v1/revenue/goals?tenant_id={{tenantId}}&property_id={{propertyId}}&limit=50
Authorization: Bearer {{authToken}}

###############################################################################
# REVENUE KPIs
###############################################################################

### Get revenue KPIs (occupancy %, ADR, RevPAR)
# @name getRevenueKpis
GET {{baseUrl}}/v1/revenue/kpis?tenant_id={{tenantId}}&property_id={{propertyId}}&business_date=2026-02-12
Authorization: Bearer {{authToken}}

### Get KPIs for a different date
# @name getRevenueKpisAltDate
GET {{baseUrl}}/v1/revenue/kpis?tenant_id={{tenantId}}&property_id={{propertyId}}&business_date=2026-02-11
Authorization: Bearer {{authToken}}
