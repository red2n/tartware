<div class="dashboard-container">
  <!-- Header -->
  <div class="dashboard-header">
    <div>
      <h1 class="title">Welcome back!</h1>
      <p class="subtitle">Here's what's happening with {{ tenantName() }} today</p>
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid">
    @for (stat of stats(); track stat.id) {
      <mat-card class="stat-card" [class]="'stat-card-' + stat.color">
        <mat-card-content>
          <div class="stat-header">
            <div class="stat-icon" [class]="'stat-icon-' + stat.color">
              <mat-icon>{{ stat.icon }}</mat-icon>
            </div>
            <div class="stat-info">
              <p class="stat-label">{{ stat.label }}</p>
              <h2 class="stat-value">{{ stat.value }}</h2>
              <p class="stat-change" [class]="'trend-' + stat.trend">
                @if (stat.trend === 'up') {
                  <mat-icon>arrow_upward</mat-icon>
                } @else if (stat.trend === 'down') {
                  <mat-icon>arrow_downward</mat-icon>
                }
                {{ stat.change }}
              </p>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    }
  </div>

  <!-- Quick Actions -->
  <div class="section">
    <h2 class="section-title">Quick Actions</h2>
    <div class="quick-actions-grid">
      @for (action of quickActions(); track action.id) {
        <mat-card class="action-card">
          <mat-card-content>
            <button mat-flat-button class="action-button">
              <mat-icon>{{ action.icon }}</mat-icon>
              <span>{{ action.label }}</span>
            </button>
          </mat-card-content>
        </mat-card>
      }
    </div>
  </div>

  <!-- Recent Activity & Upcoming -->
  <div class="two-column-layout">
    <!-- Recent Activity -->
    <mat-card class="activity-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>history</mat-icon>
          Recent Activity
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (activities().length > 0) {
          <div class="activity-list">
            @for (activity of activities(); track $index) {
              <div class="activity-item">
                <div class="activity-icon" [class.urgent]="activity.urgent">
                  <mat-icon>{{ activity.icon }}</mat-icon>
                </div>
                <div class="activity-details">
                  <p class="activity-title">{{ activity.title }}</p>
                  <p class="activity-meta">{{ activity.meta }}</p>
                </div>
              </div>
            }
          </div>
        } @else {
          <div class="empty-state">
            <mat-icon>inbox</mat-icon>
            <p>No recent activity</p>
          </div>
        }
      </mat-card-content>
    </mat-card>

    <!-- Upcoming Tasks -->
    <mat-card class="tasks-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>task</mat-icon>
          Upcoming Tasks
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        @if (tasks().length > 0) {
          <div class="task-list">
            @for (task of tasks(); track $index) {
              <div class="task-item">
                <div class="task-icon" [class.urgent]="task.urgent">
                  <mat-icon>{{ task.icon }}</mat-icon>
                </div>
                <div class="task-details">
                  <p class="task-title">{{ task.title }}</p>
                  <p class="task-meta">{{ task.meta }}</p>
                </div>
              </div>
            }
          </div>
        } @else {
          <div class="empty-state">
            <mat-icon>task_alt</mat-icon>
            <p>No upcoming tasks</p>
          </div>
        }
      </mat-card-content>
    </mat-card>
  </div>
</div>
