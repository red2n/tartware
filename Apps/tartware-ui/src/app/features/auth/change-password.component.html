<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-slate-50 p-6">
  <div class="auth-card">
    <div class="flex flex-col items-center text-center mb-6">
      <div class="mb-4 flex h-16 w-16 items-center justify-center rounded-xl bg-indigo-100 text-indigo-600">
        <mat-icon class="text-3xl">lock_reset</mat-icon>
      </div>
      <h2>Update Password</h2>
      <p class="mt-2 text-sm text-slate-600">Choose a secure password before continuing to the dashboard.</p>
    </div>

    <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" class="auth-form">
      <div class="form-group">
        <label for="currentPassword">Current Password</label>
        <input
          id="currentPassword"
          type="password"
          formControlName="currentPassword"
          autocomplete="current-password"
          [disabled]="loading()"
          [class.input-error]="currentPasswordError"
        >
        @if (currentPasswordError) {
          <div class="field-error">
            <mat-icon>error_outline</mat-icon>
            <span>{{ currentPasswordError }}</span>
          </div>
        }
      </div>

      <div class="form-group">
        <label for="newPassword">New Password</label>
        <input
          id="newPassword"
          type="password"
          formControlName="newPassword"
          autocomplete="new-password"
          [disabled]="loading()"
          [class.input-error]="newPasswordError"
        >
        @if (newPasswordError) {
          <div class="field-error">
            <mat-icon>error_outline</mat-icon>
            <span>{{ newPasswordError }}</span>
          </div>
        }
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm New Password</label>
        <input
          id="confirmPassword"
          type="password"
          formControlName="confirmPassword"
          autocomplete="new-password"
          [disabled]="loading()"
          [class.input-error]="confirmPasswordError"
        >
        @if (confirmPasswordError) {
          <div class="field-error">
            <mat-icon>error_outline</mat-icon>
            <span>{{ confirmPasswordError }}</span>
          </div>
        }
      </div>

      @if (errorMessage()) {
        <div class="error-message">
          <mat-icon>error_outline</mat-icon>
          <span>{{ errorMessage() }}</span>
        </div>
      }

      @if (successMessage()) {
        <div class="flex items-center gap-2 rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-700">
          <mat-icon class="text-green-600">check_circle</mat-icon>
          <span>{{ successMessage() }}</span>
        </div>
      }

      <button
        type="submit"
        class="auth-btn"
        [disabled]="isSubmitDisabled()"
      >
        @if (loading()) {
          <mat-spinner diameter="20"></mat-spinner>
          <span>Updating...</span>
        } @else {
          <span>Save Password</span>
        }
      </button>
    </form>
  </div>
</div>
