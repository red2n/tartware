{
  "name": "tartware-monorepo",
  "version": "1.0.0",
  "private": true,
  "description": "Tartware Property Management System - Monorepo",
  "packageManager": "pnpm@10.18.1",
  "scripts": {
    "dev": "pnpm run dev:backend",
    "dev:backend": "FORCE_COLOR=1 concurrently --raw -n core,gateway,settings,guests,rooms,reservations,billing,housekeeping,command-center,recommendation,availability,roll,notifications,revenue,guest-exp \"pnpm run dev:core\" \"pnpm run dev:gateway\" \"pnpm run dev:settings\" \"pnpm run dev:guests\" \"pnpm run dev:rooms\" \"pnpm run dev:reservations\" \"pnpm run dev:billing\" \"pnpm run dev:housekeeping\" \"pnpm run dev:command-center\" \"pnpm run dev:recommendation\" \"pnpm run dev:availability-guard\" \"pnpm run dev:roll-service\" \"pnpm run dev:notification-service\" \"pnpm run dev:revenue\" \"pnpm run dev:guest-experience\"",
    "dev:stack": "FORCE_COLOR=1 concurrently --raw -n core,gateway,settings,guests,rooms,reservations,billing,housekeeping,command-center,recommendation,availability,roll,notifications,revenue,guest-exp \"pnpm run dev:core\" \"pnpm run dev:gateway\" \"pnpm run dev:settings\" \"pnpm run dev:guests\" \"pnpm run dev:rooms\" \"pnpm run dev:reservations\" \"pnpm run dev:billing\" \"pnpm run dev:housekeeping\" \"pnpm run dev:command-center\" \"pnpm run dev:recommendation\" \"pnpm run dev:availability-guard\" \"pnpm run dev:roll-service\" \"pnpm run dev:notification-service\" \"pnpm run dev:revenue\" \"pnpm run dev:guest-experience\"",
    "dev:core": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core REDIS_PASSWORD=redis_password PORT=3000 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/core-service dev",
    "dev:gateway": "node ./scripts/dev/ensure-otel.mjs && API_GATEWAY_LOG_PRETTY=true PORT=8080 API_GATEWAY_PORT=8080 DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core CORE_SERVICE_URL=http://localhost:3000 SETTINGS_SERVICE_URL=http://localhost:3005 GUESTS_SERVICE_URL=http://localhost:3010 ROOMS_SERVICE_URL=http://localhost:3015 RESERVATION_COMMAND_SERVICE_URL=http://localhost:3020 BILLING_SERVICE_URL=http://localhost:3025 HOUSEKEEPING_SERVICE_URL=http://localhost:3030 COMMAND_CENTER_SERVICE_URL=http://localhost:3035 RECOMMENDATION_SERVICE_URL=http://localhost:3040 NOTIFICATION_SERVICE_URL=http://localhost:3055 REVENUE_SERVICE_URL=http://localhost:3060 GUEST_EXPERIENCE_SERVICE_URL=http://localhost:3065 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/api-gateway dev",
    "dev:settings": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres DISABLE_AUTH=true JWT_AUDIENCE=tartware-core JWT_ISSUER=tartware-core-service JWT_PUBLIC_KEY=dev-placeholder PORT=3005 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/settings-service dev",
    "dev:guests": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3010 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/guests-service dev",
    "dev:rooms": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3015 HOST=0.0.0.0 RECOMMENDATION_SERVICE_URL=http://localhost:3040 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/rooms-service dev",
    "dev:reservations": "node ./scripts/dev/ensure-otel.mjs && RESERVATION_COMMAND_LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres PORT=3020 RESERVATION_COMMAND_PORT=3020 HOST=0.0.0.0 KAFKA_BROKERS=localhost:29092 RESERVATION_DLQ_TOPIC=reservations.events.dlq KAFKA_MAX_RETRIES=3 KAFKA_RETRY_BACKOFF_MS=1000 KAFKA_RETRY_SCHEDULE_MS=1000,5000,30000 KAFKA_MAX_BATCH_BYTES=1048576 OUTBOX_POLL_INTERVAL_MS=2000 OUTBOX_BATCH_SIZE=25 OUTBOX_LOCK_TIMEOUT_MS=30000 OUTBOX_MAX_RETRIES=5 OUTBOX_RETRY_BACKOFF_MS=5000 OUTBOX_TENANT_THROTTLE_MS=25 OUTBOX_TENANT_JITTER_MS=40 RELIABILITY_DLQ_WARN_THRESHOLD=10 RELIABILITY_DLQ_CRITICAL_THRESHOLD=50 AVAILABILITY_GUARD_GRPC_TOKEN=guard-shared-secret-dev OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/reservations-command-service dev",
    "dev:billing": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3025 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/billing-service dev",
    "dev:housekeeping": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3030 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/housekeeping-service dev",
    "dev:command-center": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core AUTH_DEFAULT_PASSWORD=TempPass123 PORT=3035 HOST=0.0.0.0 COMMAND_CENTER_OUTBOX_TENANT_THROTTLE_MS=25 COMMAND_CENTER_OUTBOX_TENANT_JITTER_MS=40 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/command-center-service dev",
    "dev:recommendation": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3040 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/recommendation-service dev",
    "dev:availability-guard": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres SHADOW_MODE=true GRPC_AUTH_TOKEN=guard-shared-secret-dev PORT=3045 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/availability-guard-service dev",
    "dev:roll-service": "node ./scripts/dev/ensure-otel.mjs && ROLL_SERVICE_LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres SHADOW_MODE=true PORT=3050 HOST=0.0.0.0 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/roll-service dev",
    "dev:notification-service": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3055 HOST=0.0.0.0 KAFKA_BROKERS=localhost:29092 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/notification-service dev",
    "dev:revenue": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3060 HOST=0.0.0.0 KAFKA_BROKERS=localhost:29092 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/revenue-service dev",
    "dev:guest-experience": "node ./scripts/dev/ensure-otel.mjs && LOG_PRETTY=true DB_NAME=tartware DB_PASSWORD=postgres AUTH_JWT_SECRET=dev-secret-minimum-32-chars-change-me! AUTH_JWT_ISSUER=tartware-core-service AUTH_JWT_AUDIENCE=tartware-core PORT=3065 HOST=0.0.0.0 KAFKA_BROKERS=localhost:29092 OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1 OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://localhost:4318/v1/logs OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces pnpm --filter @tartware/guest-experience-service dev",
    "dev:kafka-ui": "docker compose up -d kafka-ui",
    "dev:ui": "pnpm --filter @tartware/pms-ui start",
    "kafka:topics": "node ./scripts/dev/bootstrap-kafka-topics.mjs",
    "start": "pnpm run dev",
    "build": "pnpm run check && npx nx run-many -t build",
    "build:core": "npx nx run @tartware/core-service:build",
    "build:schema": "npx nx run @tartware/schemas:build",
    "clean": "npx nx run-many -t clean",
    "clean:all": "node ./scripts/clean-all.mjs",
    "check": "pnpm run lint && pnpm run biome && pnpm run knip",
    "lint": "npx nx run-many -t lint",
    "lint:fix": "npx nx run-many -t lint:fix",
    "biome": "npx nx run-many -t biome",
    "knip": "npx nx run-many -t knip",
    "test": "npx nx run-many -t test --exclude=super-admin-ui",
    "test:coverage": "npx nx run-many -t test:coverage --exclude=super-admin-ui",
    "test:coverage:merge": "node scripts/merge-coverage.mjs",
    "test:core": "npx nx run @tartware/core-service:test",
    "test:schema": "npx nx run @tartware/schemas:test",
    "affected:build": "npx nx affected -t build",
    "affected:lint": "npx nx affected -t lint",
    "affected:test": "npx nx affected -t test",
    "affected:check": "npx nx affected -t lint biome knip",
    "graph": "npx nx graph",
    "validate": "pnpm run check && pnpm run test && pnpm run validate:env",
    "validate:env": "node ./scripts/validate-env.mjs",
    "postinstall": "echo 'Monorepo dependencies installed successfully'",
    "bootstrap:modules": "pnpm --filter @tartware/core-service run bootstrap:modules",
    "duplo:templates": "bash ./scripts/tools/run-duplo.sh",
    "telemetry:start": "docker compose up -d opensearch-node otel-collector",
    "telemetry:stop": "docker compose stop otel-collector opensearch-node",
    "export:openapi": "node scripts/export-openapi.mjs",
    "bootstrap:loadtest": "node scripts/bootstrap-loadtest-env.mjs",
    "samples:fetch": "node scripts/fetch-sample-records.mjs",
    "samples:api": "node scripts/fetch-sample-api-records.mjs",
    "roll:replay": "pnpm --filter @tartware/roll-service run replay --"
  },
  "devDependencies": {
    "@biomejs/biome": "^2.3.12",
    "@types/node": "^25.2.0",
    "concurrently": "^9.2.1",
    "eslint": "8.57.0",
    "get-tsconfig": "^4.13.1",
    "is-fullwidth-code-point": "^4.0.0",
    "lodash": "^4.17.23",
    "nx": "^22.4.5",
    "resolve-pkg-maps": "^1.0.0",
    "tinyglobby": "^0.2.15",
    "tsx": "^4.21.0",
    "typescript": "^5.9.3"
  },
  "keywords": [
    "property-management",
    "pms",
    "hospitality",
    "monorepo"
  ],
  "author": "Tartware Team",
  "license": "UNLICENSED",
  "engines": {
    "node": ">=20.11.1 <23",
    "pnpm": ">=10.0.0"
  },
  "dependencies": {
    "@opentelemetry/api": "^1.9.0",
    "dotenv": "^17.2.3",
    "fast-deep-equal": "^3.1.3",
    "pkg-dir": "^8.0.0"
  },
  "pnpm": {
    "onlyBuiltDependencies": ["esbuild", "nx", "protobufjs"],
    "overrides": {
      "eslint": "8.57.0",
      "rxjs": "7.8.2",
      "js-yaml": "4.1.1",
      "@fastify/swagger": "^9.6.1",
      "@fastify/swagger-ui": "^5.2.3",
      "esbuild": "0.27.2"
    }
  }
}
